Cloud FunctionsでFirestoreに保存する
There's an official sample that you can look at.
[https://github.com/firebase/functions-samples/tree/main/quickstarts/uppercase-firestore functions-samples/quickstarts/uppercase-firestore at main · firebase/functions-samples · GitHub]

What I thought when I saw [code https://github.com/firebase/functions-samples/blob/main/quickstarts/uppercase-firestore/functions/index.js]
　I see what you mean about doing `admin.initializeApp();` outside of exports.
　`functions.https.onRequest(async (req, res) => { ... })`とasync関数にすることで`const writeResult = await ...`と結果をawaitできるわけか、なるほど

[Cloud Functions]で[Firestore]に保存する