{
  "id": "6090ec0ba287e6002291a25b",
  "title": "Hatena2012-08-14",
  "created": 1344870000,
  "updated": 1344870000,
  "lines": [
    {
      "id": "6090ec2faff09e00003dcb7d",
      "text": "Hatena2012-08-14",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb7e",
      "text": "code:hatena",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb7f",
      "text": " <body>",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb80",
      "text": " *1344943173*epubを作る",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb81",
      "text": " サンプルのepubをunzipして、書き換えてzipしたけども動かなかった。仕様をよく確認してみるとmimetypeってファイルは圧縮してはいけないと書いてある。ほう。",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb82",
      "text": " というわけで下記のコマンドでzipしたらちゃんとKoboで閲覧できるepubができた。",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb83",
      "text": " ",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb84",
      "text": " >||",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb85",
      "text": " $ zip -r -n mimetype foo.epub mimetype OEBPS META-INF",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb86",
      "text": " ||<",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb87",
      "text": " ",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb88",
      "text": " ちなみに解説しておくと-n <suffix>が「そのsuffixで終わる名前のファイルは圧縮しない」ってオプションで、-rはディレクトリの中を再帰的にたどるオプション、foo.epubがzipのファイル名で、「mimetype OEBPS META-INF」はmimetypeを最初に置く必要があるので圧縮対象の順番を明示的に指定した。",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb89",
      "text": " </body>",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb8a",
      "text": "",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dcb8b",
      "text": "[はてなダイアリー 2012-08-14 https://nishiohirokazu.hatenadiary.org/archive/2012/08/14]",
      "created": 1344870000,
      "updated": 1344870000,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}