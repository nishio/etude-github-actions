{
  "id": "5f9d784fce04a5002470bcdf",
  "title": "ARC107",
  "created": 1604155473,
  "updated": 1604203454,
  "lines": [
    {
      "id": "5f9d784fce04a5002470bcdf",
      "text": "ARC107",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155473,
      "updated": 1604155482
    },
    {
      "id": "5f9d78f2aff09e0000344a4a",
      "text": "2問でした",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155635,
      "updated": 1604155639
    },
    {
      "id": "5f9d785aaff09e0000344a45",
      "text": "[https://gyazo.com/270a4eee1e8f883aac8d104b633c0db1]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155482,
      "updated": 1604155518
    },
    {
      "id": "5f9d787eaff09e0000344a46",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155518,
      "updated": 1604155518
    },
    {
      "id": "5f9d78eeaff09e0000344a49",
      "text": "2問しか解けなかったので緑に反落するかと覚悟したけど意外と-8程度で済んだので水色継続中",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155630,
      "updated": 1604155631
    },
    {
      "id": "5f9d78dcaff09e0000344a47",
      "text": "[https://gyazo.com/e5bb4b1f756a2c4a123ebe89dda9f5ae]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155613,
      "updated": 1604155617
    },
    {
      "id": "5f9d78dfaff09e0000344a48",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155617,
      "updated": 1604155617
    },
    {
      "id": "5f9d7900aff09e0000344a4b",
      "text": "A",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155649,
      "updated": 1604155650
    },
    {
      "id": "5f9d7902aff09e0000344a4d",
      "text": "\t[積と和の交換]です",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155650,
      "updated": 1604157009
    },
    {
      "id": "5f9d8fa9aff09e0000576ee8",
      "text": "\t[$ \\sum_{i,j} a_i \\times b_j = (\\sum_i a_i) \\times (\\sum_j b_j)]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604161450,
      "updated": 1604161453
    },
    {
      "id": "5f9d837aaff09e0000c0d89b",
      "text": "\t和の部分は[三角数]です",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158331,
      "updated": 1604158344
    },
    {
      "id": "5f9d8faeaff09e0000576ee9",
      "text": "\t[$ T_n = \\sum_{i=1}^n i = n(n + 1) / 2]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604161455,
      "updated": 1604161506
    },
    {
      "id": "5f9d7a09aff09e0000344a4e",
      "text": "\tcode:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155914,
      "updated": 1604155916
    },
    {
      "id": "5f9d7a0caff09e0000344a4f",
      "text": "\t def solve(A, B, C):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a50",
      "text": "      MOD = 998_244_353",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a51",
      "text": "      a = A * (A + 1) // 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a52",
      "text": "      a %= MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a53",
      "text": "      b = B * (B + 1) // 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a54",
      "text": "      b %= MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a55",
      "text": "      c = C * (C + 1) // 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a56",
      "text": "      c %= MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155917
    },
    {
      "id": "5f9d7a0daff09e0000344a57",
      "text": "      return (a * b) % MOD * c % MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155917,
      "updated": 1604155919
    },
    {
      "id": "5f9d7947aff09e0000c0d880",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155719,
      "updated": 1604155719
    },
    {
      "id": "5f9d7947aff09e0000c0d881",
      "text": "B",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155719,
      "updated": 1604155722
    },
    {
      "id": "5f9d794aaff09e0000c0d882",
      "text": " 二つの数a,bが与えられた時の[$ 1 \\leq a,b \\leq N]を満たすペアの数は定数オーダーで求められる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155722,
      "updated": 1604161627
    },
    {
      "id": "5f9d7a3caff09e0000c0d883",
      "text": " なので「a+b」の取り得るすべての値に対して「c+d」を求めて、上記ペアの数を求めればよい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155964,
      "updated": 1604156039
    },
    {
      "id": "5f9d7901aff09e0000344a4c",
      "text": "\tcode:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604155650,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a59",
      "text": "\t def solve(N, K):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5a",
      "text": "      def f(x):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5b",
      "text": "          if x < 2:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5c",
      "text": "              return 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5d",
      "text": "          if x > 2 * N:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5e",
      "text": "              return 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a5f",
      "text": "          return N - abs(x - (N + 1))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a60",
      "text": "  ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a61",
      "text": "      ret = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a62",
      "text": "      for ab in range(2, 2 * N + 1):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a63",
      "text": "          cd = ab - K",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a64",
      "text": "          ret += f(ab) * f(cd)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a65",
      "text": "  ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a66",
      "text": "      return ret",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156055
    },
    {
      "id": "5f9d7a96aff09e0000344a67",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156055,
      "updated": 1604156056
    },
    {
      "id": "5f9d7ab0aff09e0000344a68",
      "text": "C",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156080,
      "updated": 1604156080
    },
    {
      "id": "5f9d7bc2aff09e0000c0d884",
      "text": "　考えたこと",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156354,
      "updated": 1604156357
    },
    {
      "id": "5f9d7bcfaff09e0000c0d885",
      "text": "　　各値が互いに異なることが重要そう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156368,
      "updated": 1604156395
    },
    {
      "id": "5f9d7bebaff09e0000c0d886",
      "text": "　　N=1の時が危険そう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156396,
      "updated": 1604156408
    },
    {
      "id": "5f9d7c06aff09e0000c0d887",
      "text": "　　N=50と小さい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156422,
      "updated": 1604156440
    },
    {
      "id": "5f9d7ab0aff09e0000344a69",
      "text": " \t\"全てのiについて~を満たすx, yを選び、行列のx, y列目をswapする。\"",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156081,
      "updated": 1604156362
    },
    {
      "id": "5f9d7a94aff09e0000344a58",
      "text": " \t\t\"((全てのiについて~を満たすx, y)を選び、行列のx, y列目をswapする。)\"なのだが、 \"(全てのiについて(~を満たすx, yを選び、行列のx, y列目をswapする。))\"と誤読して混乱した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156053,
      "updated": 1604156362
    },
    {
      "id": "5f9d7ba1aff09e0000344a91",
      "text": "\t　飛ばしてDへ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156322,
      "updated": 1604156449
    },
    {
      "id": "5f9d7dcfaff09e0000c0d891",
      "text": "\t　残り50分で戻ってきた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156879,
      "updated": 1604156889
    },
    {
      "id": "5f9d7da9aff09e0000c0d88f",
      "text": "　　誤読に気づいた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156842,
      "updated": 1604156875
    },
    {
      "id": "5f9d7ddbaff09e0000c0d892",
      "text": "　　列でswapしても行の条件に影響しないので独立の問題として扱ってよい　[XとYにわける]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156891,
      "updated": 1604156942
    },
    {
      "id": "5f9d7e5daff09e0000c0d893",
      "text": "　　それぞれの場合の数を求めて掛け算",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157022,
      "updated": 1604157067
    },
    {
      "id": "5f9d7e8baff09e0000c0d894",
      "text": "　　最初、交換可能なペアの数を求めて階乗したが、4つが互いに交換できる時ペアは6個になるから正しくない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157068,
      "updated": 1604157183
    },
    {
      "id": "5f9d7efeaff09e0000c0d895",
      "text": "　　UnionFindで連結成分を求めた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157183,
      "updated": 1604157649
    },
    {
      "id": "5f9d7f45aff09e0000c0d896",
      "text": "　　3WA",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157254,
      "updated": 1604157611
    },
    {
      "id": "5f9d80aaaff09e0000c0d898",
      "text": "　　 「そうかまったく同じ内容の列がある時にはそれを交換しても種類数が増えないのだな」とか思ってそれを除算する実装してたけど、問題条件ですべての数が異なると言ってるので無駄な心配だった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157611,
      "updated": 1604157991
    },
    {
      "id": "5f9d8227aff09e0000c0d899",
      "text": "　　WAの原因は、連結成分のサイズが2以上になるのは一つだけだと思い込んでたこと。実際には複数ある",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604157991,
      "updated": 1604158124
    },
    {
      "id": "5f9e2f7daff09e000036d454",
      "text": "　　　例　https://twitter.com/cs_c_r_5/status/1322537172088446982?s=21",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604202366,
      "updated": 1604202372
    },
    {
      "id": "5f9d82efaff09e0000344ab0",
      "text": "　　事後AC",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158192,
      "updated": 1604158202
    },
    {
      "id": "5f9d82acaff09e0000c0d89a",
      "text": "　　code:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158124,
      "updated": 1604158187
    },
    {
      "id": "5f9d82eaaff09e0000344a92",
      "text": "　　 def solve(N, K, AS):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a93",
      "text": "       from collections import Counter",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a94",
      "text": "       from collections import defaultdict",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a95",
      "text": "       MOD = 998_244_353",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a96",
      "text": "       init_unionfind(N)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a97",
      "text": "       for i in range(N):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a98",
      "text": "           for j in range(i + 1, N):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a99",
      "text": "               if all(AS[i][k] + AS[j][k] <= K for k in range(N)):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9a",
      "text": "                   unite(i, j)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9b",
      "text": "       ok1 = Counter(find_root(x) for x in range(N)).values()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9c",
      "text": "   ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9d",
      "text": "       init_unionfind(N)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9e",
      "text": "       for i in range(N):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344a9f",
      "text": "           for j in range(N):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa0",
      "text": "               if all(AS[k][i] + AS[k][j] <= K for k in range(N)):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa1",
      "text": "                   unite(i, j)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa2",
      "text": "       ok2 = Counter(find_root(x) for x in range(N)).values()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa3",
      "text": "   ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa4",
      "text": "       ret = 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa5",
      "text": "       for n in ok1:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa6",
      "text": "           for x in range(1, n + 1):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa7",
      "text": "               ret *= x",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa8",
      "text": "               ret %= MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aa9",
      "text": "       for n in ok2:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aaa",
      "text": "           for x in range(1, n + 1):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aab",
      "text": "               ret *= x",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aac",
      "text": "               ret %= MOD",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aad",
      "text": "   ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aae",
      "text": "       return ret",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158187
    },
    {
      "id": "5f9d82ebaff09e0000344aaf",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604158187,
      "updated": 1604158188
    },
    {
      "id": "5f9d7da9aff09e0000c0d890",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156842,
      "updated": 1604156842
    },
    {
      "id": "5f9d7c42aff09e0000c0d88a",
      "text": "D",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156483,
      "updated": 1604156485
    },
    {
      "id": "5f9d7c60aff09e0000c0d88b",
      "text": " n, kの状態から1をx個使った場合、残りはn - x個。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156513,
      "updated": 1604156645
    },
    {
      "id": "5f9d7ce4aff09e0000c0d88c",
      "text": "　　k - xを1/2以下の数で表現するので、両辺2倍すれば2(k - x)を1以下の数で表現する問題になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156645,
      "updated": 1604156698
    },
    {
      "id": "5f9d7d36aff09e0000c0d88d",
      "text": "　K,Nは最大3000なので、掛けても10^7より小さい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156727,
      "updated": 1604156774
    },
    {
      "id": "5f9d7d66aff09e0000c0d88e",
      "text": "　というわけでDPで実装したが、サンプルでTLEするので頭を抱えた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156774,
      "updated": 1604156836
    },
    {
      "id": "5f9d7c21aff09e0000c0d889",
      "text": "　諦めてCに戻る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156449,
      "updated": 1604159921
    },
    {
      "id": "5f9d89c8aff09e0000c0d89c",
      "text": "　コンテスト後Twitterを見ていると三乗のオーダーになってそこから進めなかったという投稿が。僕も遷移のたびに1をいくつ使うかでループしてるので同じだろう。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604159945,
      "updated": 1604160461
    },
    {
      "id": "5f9d8bcdaff09e0000c0d89e",
      "text": "　しかし公式解説みたいに1を1個使うかどうかの二択にしてループを無くしても解決しない　14TLE",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604160461,
      "updated": 1604162676
    },
    {
      "id": "5f9d7b45aff09e0000344a90",
      "text": "　　塗りつぶし順序に自信がなくてメモ化再帰にしてるのが悪いのか、もっと本質的に間違ってるのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604156230,
      "updated": 1604162630
    },
    {
      "id": "5f9e3398aff09e000036d455",
      "text": "　https://maspypy.com/atcoder-参加感想-2020-10-31arc107",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604203417,
      "updated": 1604203421
    },
    {
      "id": "5f9e339daff09e000036d456",
      "text": "　　三乗のオーダーの解から累積和",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604203421,
      "updated": 1604203440
    },
    {
      "id": "5f9d941aaff09e0000c0d89f",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1604162586,
      "updated": 1604162586
    }
  ]
}