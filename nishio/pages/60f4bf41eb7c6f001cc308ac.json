{
  "id": "60f4bf41eb7c6f001cc308ac",
  "title": "2021-07-19Movidea開発日記",
  "created": 1626652483,
  "updated": 1629299397,
  "lines": [
    {
      "id": "60f4bf41eb7c6f001cc308ac",
      "text": "2021-07-19Movidea開発日記",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652483,
      "updated": 1629299397
    },
    {
      "id": "60fe5602aff09e00006535d2",
      "text": "prev [2021-07-16Movidea開発日記]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627280899,
      "updated": 1629299493
    },
    {
      "id": "60fe560caff09e00006535d3",
      "text": "[https://gyazo.com/7f992e21a62701c5b74dbb7f46e5914e]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627280909,
      "updated": 1627280933
    },
    {
      "id": "60fe5620aff09e00006535d5",
      "text": "---",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627280928,
      "updated": 1627280930
    },
    {
      "id": "60fe5621aff09e00006535d6",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627280930,
      "updated": 1627280930
    },
    {
      "id": "60f4bf45aff09e00004cf756",
      "text": "[pMovidea]作った",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652485,
      "updated": 1626652569
    },
    {
      "id": "60f4bf8aaff09e00004cf758",
      "text": "\t[2021-07-16Movidea開発日記]にこう書いたばっかりなのになぜ？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652554,
      "updated": 1629299493
    },
    {
      "id": "60f4bf8aaff09e00004cf759",
      "text": "\t\t>最近Movideaの開発がこのページみたいに日記スタイルなんだけどpRegroupやpKeichoみたいにやらないのは「構造が事後的に発生するのでは」というような気持ちなのです",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652555,
      "updated": 1626652662
    },
    {
      "id": "60f4bfacaff09e0000c3a51d",
      "text": "　週が空けて続きをやろうと思ったら前回のページを見つけるのに手間取ったから",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652588,
      "updated": 1626652639
    },
    {
      "id": "60f4bfabaff09e0000c3a51c",
      "text": "\t　週明けには週末に書いたものが沈んでるからな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652588,
      "updated": 1627280781
    },
    {
      "id": "60f4c6baaff09e0000d729c0",
      "text": "\t 週末に「来週はこれをやろう」と思ったものを書いてpMovideaに書いておこうと思う",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654395,
      "updated": 1627280781
    },
    {
      "id": "60f4c6baaff09e0000d729c1",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654395,
      "updated": 1626654395
    },
    {
      "id": "60f4c6bbaff09e0000d729c2",
      "text": ">不安なことは早く試す原則からすると、DOMに対して範囲選択するのを次は試すべき",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654395,
      "updated": 1627280795
    },
    {
      "id": "60f4bfecaff09e0000c3a51e",
      "text": "　これをやる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626652653,
      "updated": 1626654467
    },
    {
      "id": "60f4c703aff09e0000d729c4",
      "text": "　DOMによる矩形範囲の表現",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654467,
      "updated": 1626654503
    },
    {
      "id": "60f4c73daff09e0000d729ca",
      "text": "　　canvasでのドラッグ開始でdivを作る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654526,
      "updated": 1626654545
    },
    {
      "id": "60f4c758aff09e0000d729cb",
      "text": "　　　マウスイベントをどう整理するのがいいか、前回もカオスになった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654553,
      "updated": 1626654572
    },
    {
      "id": "60f4c919aff09e0000d729cc",
      "text": "　　　既にグループのドラッグが開始と終了で別なファイルに分かれてるしな、よくない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626655003,
      "updated": 1626655027
    },
    {
      "id": "60f4d91baff09e0000d729cd",
      "text": "　　　とりあえず一つにまとめた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626659100,
      "updated": 1626659106
    },
    {
      "id": "60f4d922aff09e0000d729ce",
      "text": "　　一つの状態遷移図になるべきか？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626659107,
      "updated": 1626659551
    },
    {
      "id": "60f4c727aff09e0000d729c5",
      "text": " 矩形範囲との交差判定",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654503,
      "updated": 1626654503
    },
    {
      "id": "60f4c727aff09e0000d729c6",
      "text": " 　部分交差で選択するか全体包含で選択するか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654503,
      "updated": 1626654503
    },
    {
      "id": "60f4c727aff09e0000d729c7",
      "text": "  　グループの中の一部の選択を許すか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654503,
      "updated": 1626654503
    },
    {
      "id": "60f4c727aff09e0000d729c8",
      "text": "  　　許さないイメージ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654503,
      "updated": 1626654503
    },
    {
      "id": "60f4c727aff09e0000d729c9",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654503,
      "updated": 1626654503
    },
    {
      "id": "60f4c6f7aff09e0000d729c3",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626654455,
      "updated": 1626654455
    },
    {
      "id": "60f4f02faff09e0000c3a51f",
      "text": "[https://gyazo.com/6a6e4e44896ffa94875026803d31033a]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665008,
      "updated": 1626665010
    },
    {
      "id": "60f4f031aff09e0000c3a520",
      "text": "\tborderないほうがいいかも？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665010,
      "updated": 1626665031
    },
    {
      "id": "60f4f038aff09e0000c3a521",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665017,
      "updated": 1626665017
    },
    {
      "id": "60f4f1a5aff09e0000c3a522",
      "text": "[https://gyazo.com/98018d5b2d2252fc48a31e5bdb3d21f4]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665381,
      "updated": 1626665384
    },
    {
      "id": "60f4f1a7aff09e0000c3a523",
      "text": "コンテンツの更新がないのにバウンディングボックスを再計算するの無駄な気がするけど、バウンディングボックスの値をキャッシュして適切に再計算するのも「余計な状態の導入」だから、まずは素朴に計算してテストでカバーしてから、計測して遅かった場合だけキャッシュする仕組みを入れるべきだろうなぁ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665384,
      "updated": 1626665480
    },
    {
      "id": "60f4f207aff09e0000d729d2",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665480,
      "updated": 1626665480
    },
    {
      "id": "60f52f51aff09e0000d6c3b3",
      "text": "できた。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681169,
      "updated": 1626681174
    },
    {
      "id": "60f52f51aff09e0000d6c3b4",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681169,
      "updated": 1626681169
    },
    {
      "id": "60f4f208aff09e0000d729d3",
      "text": "テストケースを作る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665480,
      "updated": 1626670809
    },
    {
      "id": "60f506d9aff09e0000d729d4",
      "text": "　付箋を9個くらい置いて選択",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626670809,
      "updated": 1626681164
    },
    {
      "id": "60f506e8aff09e0000d729d5",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626670825,
      "updated": 1626670853
    },
    {
      "id": "60f52a7baff09e000098dad8",
      "text": "[https://gyazo.com/7f992e21a62701c5b74dbb7f46e5914e]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626679931,
      "updated": 1626679933
    },
    {
      "id": "60f52a7baff09e000098dad9",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626679933,
      "updated": 1626679933
    },
    {
      "id": "60f52b25aff09e000098dada",
      "text": "code:test.ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680102,
      "updated": 1626680107
    },
    {
      "id": "60f52b2baff09e000098dadc",
      "text": " cy.get(\"#canvas\").trigger(\"mousedown\", 150, 150);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680107,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dadd",
      "text": " cy.get(\"#canvas\").trigger(\"mouseup\", 450, 450);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dade",
      "text": " cy.movidea((m) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dadf",
      "text": "   cy.wrap(m.getGlobal().selected_items).should(\"to.deep.equal\", [",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae0",
      "text": "     \"0,0\",",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae1",
      "text": "     \"0,1\",",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae2",
      "text": "     \"1,0\",",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae3",
      "text": "     \"1,1\",",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae4",
      "text": "   ]);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae5",
      "text": " });",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae6",
      "text": "\t",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680117
    },
    {
      "id": "60f52b2caff09e000098dae7",
      "text": " cy.get(\"#canvas\").trigger(\"mousedown\", 250, 250);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae8",
      "text": " cy.get(\"#canvas\").trigger(\"mouseup\", 150, 150);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098dae9",
      "text": " cy.movidea((m) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098daea",
      "text": "   cy.wrap(m.getGlobal().selected_items).should(\"to.deep.equal\", [\"0,0\"]);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b2caff09e000098daeb",
      "text": " });",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680114
    },
    {
      "id": "60f52b61aff09e000098daee",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680162,
      "updated": 1626680162
    },
    {
      "id": "60f52b2caff09e000098daec",
      "text": "`cy.movidea((m) => {cy.wrap(m.getGlobal().selected_items).should(\"to.deep.equal\"`までカスタムコマンドにできないか？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680108,
      "updated": 1626680160
    },
    {
      "id": "60f52b25aff09e000098dadb",
      "text": "　いやしかし、アサーションを自前拡張するのはChaiで書かないといけないから面倒だな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680102,
      "updated": 1626681224
    },
    {
      "id": "60f52e5baff09e000098daef",
      "text": "　とりあえず[Chaiのドキュメント https://www.chaijs.com/api/bdd/#method_eql]を確認したら`to.deep.equal` は `to.eql`でいいみたいだ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680924,
      "updated": 1626702507
    },
    {
      "id": "60f52e66aff09e000098daf1",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680934,
      "updated": 1626680934
    },
    {
      "id": "60f52e68aff09e000098daf2",
      "text": "code:index.ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680937,
      "updated": 1626680945
    },
    {
      "id": "60f52e71aff09e000098daf8",
      "text": " Cypress.Commands.add(\"getGlobal\", (callback: (g: State) => unknown) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680945,
      "updated": 1626680946
    },
    {
      "id": "60f52e71aff09e000098daf9",
      "text": "   return cy.movidea((movidea) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680946,
      "updated": 1626680946
    },
    {
      "id": "60f52e71aff09e000098dafa",
      "text": "     return cy.wrap(callback(movidea.getGlobal()));",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680946,
      "updated": 1626680946
    },
    {
      "id": "60f52e71aff09e000098dafb",
      "text": "   });",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680946,
      "updated": 1626680946
    },
    {
      "id": "60f52e71aff09e000098dafc",
      "text": " });",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680946,
      "updated": 1626680946
    },
    {
      "id": "60f52e71aff09e000098dafd",
      "text": "code:test.ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680946,
      "updated": 1626680982
    },
    {
      "id": "60f52e96aff09e000098dafe",
      "text": " cy.get(\"#canvas\").trigger(\"mousedown\", 250, 250);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680983,
      "updated": 1626680986
    },
    {
      "id": "60f52e96aff09e000098daff",
      "text": " cy.get(\"#canvas\").trigger(\"mouseup\", 150, 150);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680983,
      "updated": 1626680986
    },
    {
      "id": "60f52e96aff09e000098db00",
      "text": " cy.getGlobal((g) => g.selected_items).should(\"to.eql\", [\"0,0\"]);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680983,
      "updated": 1626680986
    },
    {
      "id": "60f52e96aff09e000098db01",
      "text": "まあこんなものかな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680983,
      "updated": 1626681268
    },
    {
      "id": "60f52fb4aff09e0000d6c3b5",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681269,
      "updated": 1626681269
    },
    {
      "id": "60f52fb5aff09e0000d6c3b6",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681269,
      "updated": 1626681269
    },
    {
      "id": "60f52e5baff09e000098daf0",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626680924,
      "updated": 1626680924
    },
    {
      "id": "60f50705aff09e0000d729d6",
      "text": "選択範囲の移動、できる？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626670854,
      "updated": 1626670861
    },
    {
      "id": "60f4f203aff09e0000d729d0",
      "text": "　単体のドラッグ移動はDragDrop APIを使ったが今回は複数ある",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665475,
      "updated": 1626681714
    },
    {
      "id": "60f53171aff09e0000d6c3b7",
      "text": "　　一つのDIVに入れる？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681714,
      "updated": 1626681724
    },
    {
      "id": "60f5317caff09e0000d6c3b8",
      "text": "　　　選択範囲DIVがあるしな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681725,
      "updated": 1626681734
    },
    {
      "id": "60f53186aff09e0000d6c3b9",
      "text": "　　各IDの位置更新をforでやる？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681734,
      "updated": 1626681757
    },
    {
      "id": "60f5319daff09e0000d6c3ba",
      "text": "　　　微妙",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681757,
      "updated": 1626681782
    },
    {
      "id": "60f531b6aff09e0000d6c3bb",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681783,
      "updated": 1626681789
    },
    {
      "id": "60f531bdaff09e0000d6c3bc",
      "text": "選択範囲でのマウスダウンか、選択完了かのどちらかのタイミングで選択されたもののDOMを選択範囲divにいれる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626681790,
      "updated": 1626682054
    },
    {
      "id": "60f532c6aff09e0000d6c3bd",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626682054,
      "updated": 1626682054
    },
    {
      "id": "60f4f203aff09e0000d729d1",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665475,
      "updated": 1626665475
    },
    {
      "id": "60f4f1b0aff09e0000d729cf",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1626665392,
      "updated": 1626665392
    }
  ]
}