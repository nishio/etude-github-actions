{
  "id": "5a4855ba2e26fb001479cf67",
  "title": "Deep Keyphrase Generation",
  "created": 1514689983,
  "updated": 1553494174,
  "lines": [
    {
      "id": "5a4855ba2e26fb001479cf67",
      "text": "Deep Keyphrase Generation",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514689983,
      "updated": 1514689983
    },
    {
      "id": "5a4855bfaff09e0000b27e38",
      "text": " https://arxiv.org/abs/1704.06879",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514689983,
      "updated": 1514690002
    },
    {
      "id": "5a4855f5aff09e0000b27e3a",
      "text": " Mui Meng+",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514690037,
      "updated": 1514690043
    },
    {
      "id": "5a4858b2aff09e0000b27e3f",
      "text": "\t[文中に出現しないキーフレーズ]を生成することができる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514690739,
      "updated": 1553494174
    },
    {
      "id": "5c987093aff09e00006a80ce",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1553494163,
      "updated": 1553494163
    },
    {
      "id": "5c987093aff09e00006a80cf",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1553494163,
      "updated": 1553494163
    },
    {
      "id": "5a48561eaff09e0000b27e3c",
      "text": "\t入力単語列の入力を受けてキーフレーズを出力するEncoder-Decoderを作成",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514690078,
      "updated": 1514691448
    },
    {
      "id": "5a485b79aff09e0000b27e40",
      "text": " 隠れ層 [$ \\mathbf{h}_t = f(x_t, \\mathbf{h}_{t-1})]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514691449,
      "updated": 1514691614
    },
    {
      "id": "5a485bd3aff09e0000b27e41",
      "text": " context vector [$ \\mathbb{c} = q(h_1, ..., h_T)]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514691540,
      "updated": 1514704430
    },
    {
      "id": "5a48581eaff09e0000b27e3d",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514690591,
      "updated": 1514690591
    },
    {
      "id": "5a488e50aff09e0000b27e42",
      "text": " Gated recurrent unit(GRU)を使う",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704464,
      "updated": 1514704464
    },
    {
      "id": "5a488e51aff09e0000b27e43",
      "text": " [$ \\mathbf{c}_i = \\sum_{j=1}^T \\alpha_{ij}h_j ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704465,
      "updated": 1514704514
    },
    {
      "id": "5a488e54aff09e0000b27e44",
      "text": "\t[$ \\alpha_{ij} = { \\exp(a(s_{i-1}, h_j)) \\over \\sum_{k=1}^T \\exp(a(s_{i-1}, h_j)) } ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704468,
      "updated": 1514704590
    },
    {
      "id": "5a488ee1aff09e0000b27e46",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704610,
      "updated": 1514704610
    },
    {
      "id": "5a488e87aff09e0000b27e45",
      "text": "\tCopying Mechanism",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704519,
      "updated": 1514704707
    },
    {
      "id": "5a488ee8aff09e0000b27e48",
      "text": " \t語彙の数を減らすために、例えば頻出30000単語だけを使って、残りは未知語として無視する、などが行われる。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704616,
      "updated": 1514704678
    },
    {
      "id": "5a488f11aff09e0000b27e49",
      "text": "  しかし、単語自体が未知であっても、周辺の文脈からそれがキーワードだと分かるケースがある。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704657,
      "updated": 1514704687
    },
    {
      "id": "5a488f2faff09e0000b27e4a",
      "text": "  Copying Mechanismはソーステキストに含まれる未知語を選択することができるようにするメカニズム",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704687,
      "updated": 1514704732
    },
    {
      "id": "5a4a1508aff09e00000300da",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514804489,
      "updated": 1514804489
    },
    {
      "id": "5a4a1508aff09e00000300db",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514804489,
      "updated": 1514804489
    },
    {
      "id": "5a4a1508aff09e00000300dc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514804489,
      "updated": 1514804489
    },
    {
      "id": "5a488f5baff09e0000b27e4b",
      "text": "実装",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514704732,
      "updated": 1514804492
    },
    {
      "id": "5a4a150aaff09e00000300dd",
      "text": "\thttps://github.com/memray/seq2seq-keyphrase",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514804490,
      "updated": 1514804493
    },
    {
      "id": "5a4a4b89aff09e0000030185",
      "text": " とりあえず作者らのデータで動かしてみよう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818442,
      "updated": 1514818452
    },
    {
      "id": "5a4a4b94aff09e0000030186",
      "text": " 追加で必要なライブラリ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818452,
      "updated": 1514818459
    },
    {
      "id": "5a4a150baff09e00000300de",
      "text": "  nltk",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514804491,
      "updated": 1514809864
    },
    {
      "id": "5a4a1741aff09e00000300e3",
      "text": "\t\thickle",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514805057,
      "updated": 1514808290
    },
    {
      "id": "5a4a2590aff09e00000300e5",
      "text": "  fuel",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514808720,
      "updated": 1514808721
    },
    {
      "id": "5a4a2591aff09e00000300e6",
      "text": "  Resource punkt not found.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514808721,
      "updated": 1514809090
    },
    {
      "id": "5a4a26ffaff09e00000300e7",
      "text": "   Please use the NLTK Downloader to obtain the resource:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514809088,
      "updated": 1514809091
    },
    {
      "id": "5a4a26ffaff09e00000300e8",
      "text": "   nltk.downloadする",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514809088,
      "updated": 1514809857
    },
    {
      "id": "5a4a2a01aff09e00000300e9",
      "text": "  from theano.compile.nanguardmode import NanGuardMode",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514809857,
      "updated": 1514809860
    },
    {
      "id": "5a4a2a02aff09e00000300ea",
      "text": "   ImportError: No module named nanguardmode",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514809860,
      "updated": 1514809867
    },
    {
      "id": "5a4a2afeaff09e00000300ec",
      "text": "   0.7.0以上にアップグレード",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514810110,
      "updated": 1514810122
    },
    {
      "id": "5a4a2a02aff09e00000300eb",
      "text": "  deepdish",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514809860,
      "updated": 1514810198
    },
    {
      "id": "5a4a2b56aff09e00000300ed",
      "text": " 'seq2seq-keyphrase/dataset/keyphrase/punctuation-20000validation-20000testing/all_600k_dataset.pkl'がないといけない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514810198,
      "updated": 1514818463
    },
    {
      "id": "5a4a2c97aff09e00000300ee",
      "text": " \t'seq2seq-keyphrase/keyphrase/dataset/keyphrase'に置いてしまった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514810519,
      "updated": 1514818463
    },
    {
      "id": "5a4a2c9aaff09e00000300ef",
      "text": "  unzipしたところからmoveしてしまってたので今から分離するの何なのでシンボリックリンクで解決",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514810522,
      "updated": 1514818463
    },
    {
      "id": "5a4a4b82aff09e0000030183",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818435,
      "updated": 1514818435
    },
    {
      "id": "5a4a2cfeaff09e00000300f0",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514810623,
      "updated": 1514811678
    },
    {
      "id": "5a4a311eaff09e00000300f1",
      "text": " Use Coverage Trick!",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811678,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f2",
      "text": " 01/01/2018 21:46:12 [INFO] covc_encdec: adjust decoder ok.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f3",
      "text": " args=()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f4",
      "text": " kwargs={'clipnorm': 0.1}",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f5",
      "text": " {'beta_1': 0.9, 'beta_2': 0.999, 'epsilon': 1e-08, 'self': <emolga.basic.optimizers.Adam object at 0x7f08ad9b0150>, 'args': (), 'rng': <theano.sandbox.rng_mrg.MRG_RandomStreams object at 0x7f08cadadb10>, 'lr': 0.0001, 'kwargs': {'clipnorm': 0.1}, 'save': False}",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f6",
      "text": " 01/01/2018 21:46:12 [INFO] covc_encdec: build ok.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f7",
      "text": " 01/01/2018 21:46:14 [INFO] covc_encdec: total number of the parameters of the model: 78835750",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f8",
      "text": " Traceback (most recent call last):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300f9",
      "text": "   File \"keyphrase_copynet.py\", line 264, in <module>",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300fa",
      "text": "     agent.compile_('all')",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300fb",
      "text": "   File \"/home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py\", line 1849, in compile_",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300fc",
      "text": "     self.compile_train()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300fd",
      "text": "   File \"/home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py\", line 1880, in compile_train",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300fe",
      "text": "     logPxz, logPPL     = self.decoder.build_decoder(target, cc_matrix, code, c_mask)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e00000300ff",
      "text": "   File \"/home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py\", line 996, in build_decoder",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030100",
      "text": "     non_sequences=[context, c_mask, context_A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030101",
      "text": "   File \"/usr/local/lib/python2.7/dist-packages/theano/scan_module/scan.py\", line 1076, in scan",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030102",
      "text": "     scan_outs = local_op(*scan_inputs)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030103",
      "text": "   File \"/usr/local/lib/python2.7/dist-packages/theano/gof/op.py\", line 615, in __call__",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030104",
      "text": "     node = self.make_node(*inputs, **kwargs)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030105",
      "text": "   File \"/usr/local/lib/python2.7/dist-packages/theano/scan_module/scan_op.py\", line 546, in make_node",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030106",
      "text": "     inner_sitsot_out.type.dtype))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030107",
      "text": " ValueError: When compiling the inner function of scan the following error has been encountered: The initial state (`outputs_info` in scan nomenclature) of variable IncSubtensor{Set;:int64:}.0 (argument number 5) has dtype float32, while the result of the inner function (`fn`) has dtype float64. This can happen if the inner function of scan results in an upcast or downcast.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a311faff09e0000030108",
      "text": " python keyphrase_copynet.py  177.96s user 9.00s system 93% cpu 3:19.28 total",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514811680
    },
    {
      "id": "5a4a4bb8aff09e0000030187",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818489,
      "updated": 1514818489
    },
    {
      "id": "5a4a35a6aff09e000003010a",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514812838,
      "updated": 1514818491
    },
    {
      "id": "5a4a35a7aff09e000003010b",
      "text": " (Pdb) print inner_sitsot_out",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514812839,
      "updated": 1514818493
    },
    {
      "id": "5a4a35a7aff09e000003010c",
      "text": " Elemwise{mul,no_inplace}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514812839,
      "updated": 1514818493
    },
    {
      "id": "5a4a35a7aff09e000003010d",
      "text": " (Pdb) print outer_sitsot",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514812839,
      "updated": 1514818493
    },
    {
      "id": "5a4a35a7aff09e000003010e",
      "text": " IncSubtensor{Set;:int64:}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514812839,
      "updated": 1514818493
    },
    {
      "id": "5a4a3d97aff09e0000030151",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814873,
      "updated": 1514814873
    },
    {
      "id": "5a4a36e5aff09e000003010f",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813158,
      "updated": 1514814873
    },
    {
      "id": "5a4a36e6aff09e0000030110",
      "text": " (Pdb) print scan_inputs",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813158,
      "updated": 1514814878
    },
    {
      "id": "5a4a36e6aff09e0000030111",
      "text": " [Elemwise{minimum,no_inplace}.0, Subtensor{:int64:}.0, Subtensor{:int64:}.0, Subtensor{:int64:}.0, Subtensor{:int64:}.0, [* IncSubtensor{Set;:int64:}.0], IncSubtensor{Set;:int64:}.0, IncSubtensor{Set;:int64:}.0, Elemwise{minimum,no_inplace}.0, Elemwise{minimum,no_inplace}.0, dec_cell_Wz, dec_cell_bz, source_attention_Wa, source_attention_Ua, source_attention_Ca, source_attention_va, dec_cell_Cz, dec_cell_Uz, dec_cell_Wh, dec_cell_bh, dec_cell_Ch, dec_cell_Wr, dec_cell_br, dec_cell_Cr, dec_cell_Ur, dec_cell_Uh, dec_hidden_readout_W, dec_hidden_readout_b, dec_context_readout_W, dec_context_readout_b, dec_prev_word_readout_W, dec_prev_word_readout_b, out-trans_W, out-trans_b, Join.0, Elemwise{Cast{float32}}.0, Elemwise{tanh,no_inplace}.0]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813158,
      "updated": 1514814878
    },
    {
      "id": "5a4a4bc4aff09e0000030188",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818501,
      "updated": 1514818501
    },
    {
      "id": "5a4a36e7aff09e0000030112",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813159,
      "updated": 1514818502
    },
    {
      "id": "5a4a36ffaff09e0000030113",
      "text": " > /home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py(996)build_decoder()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813184,
      "updated": 1514818503
    },
    {
      "id": "5a4a36ffaff09e0000030114",
      "text": " -> non_sequences=[context, c_mask, context_A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813184,
      "updated": 1514818503
    },
    {
      "id": "5a4a3701aff09e0000030115",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813186,
      "updated": 1514813186
    },
    {
      "id": "5a4a311faff09e0000030109",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514811680,
      "updated": 1514813225
    },
    {
      "id": "5a4a3729aff09e0000030116",
      "text": " 992             outputs, _ = theano.scan(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813225,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e0000030117",
      "text": " 993                 _recurrence,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e0000030118",
      "text": " 994                 sequences=[X, X_mask, LL, XL_mask],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e0000030119",
      "text": " 995                 outputs_info=[Init_h, Init_a, coverage, None, None],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e000003011a",
      "text": " 996  ->             non_sequences=[context, c_mask, context_A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e000003011b",
      "text": " 997             )",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a3729aff09e000003011c",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813226,
      "updated": 1514813226
    },
    {
      "id": "5a4a39c4aff09e000003011d",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813893,
      "updated": 1514813893
    },
    {
      "id": "5a4a23e1aff09e00000300e4",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514808289,
      "updated": 1514813894
    },
    {
      "id": "5a4a39c6aff09e000003011f",
      "text": " (Pdb) print X",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813894,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030120",
      "text": " InplaceDimShuffle{1,0,2}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030121",
      "text": " (Pdb) print X_mask",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030122",
      "text": " InplaceDimShuffle{1,0}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030123",
      "text": " (Pdb) print LL",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030124",
      "text": " InplaceDimShuffle{1,0,2}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030125",
      "text": " (Pdb) print XL_mask",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030126",
      "text": " InplaceDimShuffle{1,0}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030127",
      "text": " (Pdb) print Init_h",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030128",
      "text": " Elemwise{tanh,no_inplace}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030129",
      "text": " (Pdb) print Init_a",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012a",
      "text": " Alloc.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012b",
      "text": " (Pdb) print coverage",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012c",
      "text": " Alloc.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012d",
      "text": " (Pdb) print context",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012e",
      "text": " Join.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e000003012f",
      "text": " (Pdb) print c_mask",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030130",
      "text": " Elemwise{Cast{float32}}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030131",
      "text": " (Pdb) print context_A",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a39c6aff09e0000030132",
      "text": " Elemwise{tanh,no_inplace}.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813895
    },
    {
      "id": "5a4a3bbbaff09e0000030136",
      "text": " (Pdb) print c_mask.type",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814395,
      "updated": 1514814395
    },
    {
      "id": "5a4a3bbbaff09e0000030137",
      "text": " TensorType(float32, matrix)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814395,
      "updated": 1514814395
    },
    {
      "id": "5a4a39c6aff09e0000030133",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813895,
      "updated": 1514813897
    },
    {
      "id": "5a4a39c5aff09e000003011e",
      "text": ">This can happen if the inner function of scan results in an upcast or downcast.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514813893,
      "updated": 1514814381
    },
    {
      "id": "5a4a4bdeaff09e0000030189",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818526,
      "updated": 1514818526
    },
    {
      "id": "5a4a4bdeaff09e000003018a",
      "text": "cmaskが怪しいかな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818526,
      "updated": 1514818532
    },
    {
      "id": "5a4a3badaff09e0000030135",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814381,
      "updated": 1514814381
    },
    {
      "id": "5a4a3bacaff09e0000030134",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814380,
      "updated": 1514814765
    },
    {
      "id": "5a4a3d2daff09e000003013a",
      "text": " (Pdb) w",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814765,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003013b",
      "text": "   /usr/lib/python2.7/pdb.py(1314)main()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003013c",
      "text": " -> pdb._runscript(mainpyfile)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003013d",
      "text": "   /usr/lib/python2.7/pdb.py(1233)_runscript()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003013e",
      "text": " -> self.run(statement)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003013f",
      "text": "   /usr/lib/python2.7/bdb.py(400)run()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030140",
      "text": " -> exec cmd in globals, locals",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030141",
      "text": "   <string>(1)<module>()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030142",
      "text": "   /home/nishio/find_keyphrases/seq2seq-keyphrase/keyphrase/keyphrase_copynet.py(1)<module>()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030143",
      "text": " -> import logging",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030144",
      "text": "   /home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py(1849)compile_()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030145",
      "text": " -> self.compile_train()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030146",
      "text": "   /home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py(1880)compile_train()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030147",
      "text": " -> logPxz, logPPL     = self.decoder.build_decoder(target, cc_matrix, code, c_mask)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030148",
      "text": "   /home/nishio/find_keyphrases/seq2seq-keyphrase/emolga/models/covc_encdec.py(996)build_decoder()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030149",
      "text": " -> non_sequences=[context, c_mask, context_A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014a",
      "text": "   /usr/local/lib/python2.7/dist-packages/theano/scan_module/scan.py(1076)scan()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014b",
      "text": " -> scan_outs = local_op(*scan_inputs)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014c",
      "text": "   /usr/local/lib/python2.7/dist-packages/theano/gof/op.py(615)__call__()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014d",
      "text": " -> node = self.make_node(*inputs, **kwargs)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014e",
      "text": " > /usr/local/lib/python2.7/dist-packages/theano/scan_module/scan_op.py(546)make_node()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e000003014f",
      "text": " -> inner_sitsot_out.type.dtype))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514814766
    },
    {
      "id": "5a4a3d2daff09e0000030150",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814766,
      "updated": 1514815020
    },
    {
      "id": "5a4a3d2caff09e0000030139",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514814764,
      "updated": 1514815017
    },
    {
      "id": "5a4a3e29aff09e0000030153",
      "text": " scan(fn, sequences=None, outputs_info=None, non_sequences=None, n_steps=None, truncate_gradient=-1, go_backwards=False, mode=None, name=None, profile=False, allow_gc=None, strict=False, return_list=False)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815017,
      "updated": 1514815018
    },
    {
      "id": "5a4a3e29aff09e0000030154",
      "text": "     This function constructs and applies a Scan op to the provided",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815018,
      "updated": 1514815018
    },
    {
      "id": "5a4a3e29aff09e0000030155",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815018,
      "updated": 1514815018
    },
    {
      "id": "5a4a3eafaff09e0000030156",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e0000030157",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e0000030158",
      "text": " 992             outputs, _ = theano.scan(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e0000030159",
      "text": " 993                 _recurrence,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e000003015a",
      "text": " 994                 sequences=[X, X_mask, LL, XL_mask],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e000003015b",
      "text": " 995                 outputs_info=[Init_h, Init_a, coverage, None, None],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e000003015c",
      "text": " 996  ->             non_sequences=[context, c_mask, context_A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815151
    },
    {
      "id": "5a4a3eafaff09e000003015d",
      "text": " 997             ) ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815151,
      "updated": 1514815153
    },
    {
      "id": "5a4a3ed8aff09e000003015f",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815192,
      "updated": 1514815192
    },
    {
      "id": "5a4a3e28aff09e0000030152",
      "text": "outputs_infoが問題だと言われているのだが…",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815017,
      "updated": 1514815346
    },
    {
      "id": "5a4a44fbaff09e0000030163",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816763,
      "updated": 1514816763
    },
    {
      "id": "5a4a3f71aff09e0000030162",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815346,
      "updated": 1514816767
    },
    {
      "id": "5a4a44ffaff09e0000030164",
      "text": " (Pdb) print Init_a.type",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816767,
      "updated": 1514816768
    },
    {
      "id": "5a4a44ffaff09e0000030165",
      "text": " TensorType(float32, matrix)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816768,
      "updated": 1514816768
    },
    {
      "id": "5a4a44ffaff09e0000030166",
      "text": " (Pdb) print Init_h.type",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816768,
      "updated": 1514816768
    },
    {
      "id": "5a4a44ffaff09e0000030167",
      "text": " TensorType(float64, matrix) ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816768,
      "updated": 1514816770
    },
    {
      "id": "5a4a45ceaff09e0000030169",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816974,
      "updated": 1514816974
    },
    {
      "id": "5a4a3f24aff09e0000030161",
      "text": "はー、確かに不穏な感じ。Init_aの側がおかしいのかな。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514815269,
      "updated": 1514816995
    },
    {
      "id": "5a4a468caff09e000003016c",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817164,
      "updated": 1514817164
    },
    {
      "id": "5a4a45e3aff09e000003016b",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514816995,
      "updated": 1514817167
    },
    {
      "id": "5a4a468eaff09e000003016d",
      "text": "    Init_h   = self.Initializer(context[:, 0, :])  # initialize hidden vector by converting the last state",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817167,
      "updated": 1514817172
    },
    {
      "id": "5a4a468faff09e000003016e",
      "text": "    Init_a   = T.zeros((context.shape[0], context.shape[1]), dtype='float32') # (batch_size, src_len)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817167,
      "updated": 1514817174
    },
    {
      "id": "5a4a46dfaff09e0000030170",
      "text": "    coverage = T.zeros((context.shape[0], context.shape[1]), dtype='float32') # (batch_size, src_len)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817248,
      "updated": 1514817301
    },
    {
      "id": "5a4a487eaff09e0000030173",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817784
    },
    {
      "id": "5a4a46dfaff09e0000030171",
      "text": "そこを64にしても",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817248,
      "updated": 1514817784
    },
    {
      "id": "5a4a4882aff09e0000030174",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817784
    },
    {
      "id": "5a4a4884aff09e0000030175",
      "text": " ValueError: When compiling the inner function of scan the following error has been encountered: The initial state (`outputs_info` in scan nomenclature) of variable IncSubtensor{Set;:int64:}.0 (argument number 5) has dtype float32, while the result of the inner function (`fn`) has dtype float64. This can happen if the inner function of scan results in an upcast or downcast.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817784
    },
    {
      "id": "5a4a4885aff09e0000030176",
      "text": "エラーに変化はないなぁ。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817784
    },
    {
      "id": "5a4a48c8aff09e000003017a",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817784
    },
    {
      "id": "5a4a48c7aff09e0000030179",
      "text": "ほかにも何カ所かfloat32が指定されているところがある。おそらく宣言していない時に作者らの環境ではfloat32になるが、筆者の環境ではfloat64になるとかだろう。デフォルトの型を指定できるかな？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514817876
    },
    {
      "id": "5a4a4954aff09e000003017c",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817876,
      "updated": 1514817876
    },
    {
      "id": "5a4a4954aff09e000003017b",
      "text": "http://deeplearning.net/software/theano/library/config.html#config.floatX",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817876,
      "updated": 1514818025
    },
    {
      "id": "5a4a49fbaff09e000003017e",
      "text": ">config.floatX",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818043,
      "updated": 1514818050
    },
    {
      "id": "5a4a49fbaff09e000003017f",
      "text": ">String value: 'float64', 'float32', or 'float16' (with limited support)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818043,
      "updated": 1514818052
    },
    {
      "id": "5a4a49e9aff09e000003017d",
      "text": ">Default: 'float64'",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818025,
      "updated": 1514818054
    },
    {
      "id": "5a4a48c7aff09e0000030178",
      "text": "これを指定してみよう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514817784,
      "updated": 1514818182
    },
    {
      "id": "5a4a4a86aff09e0000030182",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818182,
      "updated": 1514818182
    },
    {
      "id": "5a4a4a85aff09e0000030181",
      "text": "エラーの種類が変わった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514818182,
      "updated": 1514820186
    },
    {
      "id": "5a4a5259aff09e000003018c",
      "text": "code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820186,
      "updated": 1514820187
    },
    {
      "id": "5a4a525baff09e000003018d",
      "text": "   File \"/usr/local/lib/python2.7/dist-packages/numpy/core/_methods.py\", line 26, in _amax",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820188,
      "updated": 1514820188
    },
    {
      "id": "5a4a525caff09e000003018e",
      "text": "     return umr_maximum(a, axis, None, out, keepdims)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820188,
      "updated": 1514820188
    },
    {
      "id": "5a4a525caff09e000003018f",
      "text": " ValueError: zero-size array to reduction operation maximum which has no identity",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820188,
      "updated": 1514820188
    },
    {
      "id": "5a4a525caff09e0000030190",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820188,
      "updated": 1514820229
    },
    {
      "id": "5a4a5259aff09e000003018b",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1514820186,
      "updated": 1514820186
    }
  ]
}