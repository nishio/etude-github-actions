{
  "id": "6090ebf5a287e60022919dd1",
  "title": "Hatena2008-01-24",
  "created": 1201100400,
  "updated": 1201100400,
  "lines": [
    {
      "id": "6090ec1aaff09e00003c6415",
      "text": "Hatena2008-01-24",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6416",
      "text": "code:hatena",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6417",
      "text": " <body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6418",
      "text": " *1201142920*靴下が乾いていない",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6419",
      "text": " orz",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641a",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641b",
      "text": " *1201154132*JSDeferredを読む",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641c",
      "text": " 前からamachangが「読むといい」って言っていたJSDeferredのコードを読む。defferedじゃなくてdeferredなので注意。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641d",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641e",
      "text": " >|javascript|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c641f",
      "text": " Deferred.define = function (obj, list) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6420",
      "text": " \tif (!list) list = [\"parallel\", \"wait\", \"next\", \"call\", \"loop\"];",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6421",
      "text": " \tif (!obj)  obj  = (function () { return this })();",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6422",
      "text": " \tfor (var i = 0; i < list.length; i++) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6423",
      "text": " \t\tvar n = list[i];",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6424",
      "text": " \t\tobj[n] = Deferred[n];",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6425",
      "text": " \t}",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6426",
      "text": " \treturn Deferred;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6427",
      "text": " };",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6428",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6429",
      "text": " これはグローバルスコープに書き出すコード。(function () { return this })()でwindowオブジェクトがとれているみたい。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642a",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642b",
      "text": " >|python|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642c",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642d",
      "text": " class Deferred(object):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642e",
      "text": "     def define(self, obj=None, list=None):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c642f",
      "text": "         if not list: list = [\"parallel\", \"wait\", \"next\", \"call\", \"loop\"]",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6430",
      "text": "         if not obj: obj = globals()",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6431",
      "text": "         for n in list:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6432",
      "text": "             obj[n] = Deferred.__dict__[n]",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6433",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6434",
      "text": "         return Deferred",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6435",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6436",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6437",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6438",
      "text": " -----",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6439",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643a",
      "text": " >|javascript|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643b",
      "text": " /* function next (fun) //=> Deferred",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643c",
      "text": "  *",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643d",
      "text": "  * `next` is shorthand for creating new deferred which",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643e",
      "text": "  * is called after current queue.",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c643f",
      "text": "  */",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6440",
      "text": " Deferred.next = function (fun) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6441",
      "text": " \tvar d = new Deferred();",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6442",
      "text": " \tvar id = setTimeout(function () { clearTimeout(id); d.call() }, 0);",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6443",
      "text": " \tif (fun) d.callback.ok = fun;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6444",
      "text": " \td.canceller   = function () { try { clearTimeout(id) } catch (e) {} };",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6445",
      "text": " \treturn d;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6446",
      "text": " };",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6447",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6448",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6449",
      "text": " setTimeout(function(){alert(1)}, 1000)とやると1秒後にalertが起きるようだ。setTimeoutは数値を返してきて、clearTimeoutでスケジュールされた関数の実行をキャンセルできる。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644a",
      "text": " d.callとかも読まないとここだけじゃわからないな。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644b",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644c",
      "text": " >|javascript|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644d",
      "text": " Deferred.prototype = {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644e",
      "text": " \tinit : function () {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c644f",
      "text": " \t\tthis._next    = null;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6450",
      "text": " \t\tthis.callback = {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6451",
      "text": " \t\t\tok: function (x) { return x },",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6452",
      "text": " \t\t\tng: function (x) { throw  x }",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6453",
      "text": " \t\t};",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6454",
      "text": " \t\treturn this;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6455",
      "text": " \t},",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6456",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6457",
      "text": " \tnext  : function (fun) { return this._post(\"ok\", fun) },",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6458",
      "text": " \terror : function (fun) { return this._post(\"ng\", fun) },",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6459",
      "text": " \tcall  : function (val) { return this._fire(\"ok\", val) },",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645a",
      "text": " \tfail  : function (err) { return this._fire(\"ng\", err) },",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645b",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645c",
      "text": " \tcancel : function () {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645d",
      "text": " \t\t(this.canceller || function () {})();",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645e",
      "text": " \t\treturn this.init();",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c645f",
      "text": " \t},",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6460",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6461",
      "text": " \t_post : function (okng, fun) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6462",
      "text": " \t\tthis._next =  new Deferred();",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6463",
      "text": " \t\tthis._next.callback[okng] = fun;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6464",
      "text": " \t\treturn this._next;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6465",
      "text": " \t},",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6466",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6467",
      "text": " \t_fire : function (okng, value) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6468",
      "text": " \t\tvar self = this, next = \"ok\";",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6469",
      "text": " \t\ttry {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646a",
      "text": " \t\t\tvalue = self.callback[okng].call(self, value);",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646b",
      "text": " \t\t} catch (e) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646c",
      "text": " \t\t\tnext  = \"ng\";",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646d",
      "text": " \t\t\tvalue = e;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646e",
      "text": " \t\t}",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c646f",
      "text": " \t\tif (value instanceof Deferred) {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6470",
      "text": " \t\t\tvalue._next = self._next;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6471",
      "text": " \t\t} else {",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6472",
      "text": " \t\t\tif (self._next) self._next._fire(next, value);",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6473",
      "text": " \t\t}",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6474",
      "text": " \t\treturn this;",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6475",
      "text": " \t}",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6476",
      "text": " };",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6477",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6478",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6479",
      "text": " _fireの中でself = thisしている意味がよくわからない…。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647a",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647b",
      "text": " >|python|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647c",
      "text": " class Deferred(object):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647d",
      "text": "     def define(self, obj=None, list=None):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647e",
      "text": "         if not list: list = [\"parallel\", \"wait\", \"next\", \"call\", \"loop\"]",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c647f",
      "text": "         if not obj: obj = globals()",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6480",
      "text": "         for n in list:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6481",
      "text": "             obj[n] = Deferred.__dict__[n]",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6482",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6483",
      "text": "         return Deferred",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6484",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6485",
      "text": "     ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6486",
      "text": "     def init(self):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6487",
      "text": "         self._next = None",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6488",
      "text": "         def ok(x):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6489",
      "text": "             return x",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648a",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648b",
      "text": "         def ng(x):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648c",
      "text": "             raise x",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648d",
      "text": "         ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648e",
      "text": "         sefl.callback = dict(ok=ok, ng=ng)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c648f",
      "text": "         return self",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6490",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6491",
      "text": "     def next(self, fun):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6492",
      "text": "         return self._post(\"ok\", fun)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6493",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6494",
      "text": "     def error(self, fun):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6495",
      "text": "         return self._post(\"ng\", fun)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6496",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6497",
      "text": "     def call(self, val):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6498",
      "text": "         return self._fire(\"ok\", val)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6499",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649a",
      "text": "     def fail(self, err):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649b",
      "text": "         return self._fire(\"ng\", err)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649c",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649d",
      "text": "     def _post(self, okng, fun):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649e",
      "text": "         n = Deferred()",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c649f",
      "text": "         n.callback[okng] = fun",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a0",
      "text": "         self._next = n",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a1",
      "text": "         return n",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a2",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a3",
      "text": "     def _fire(self, okng, value):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a4",
      "text": "         self_ = self",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a5",
      "text": "         next = \"ok\"",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a6",
      "text": "         try:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a7",
      "text": "             value = self.callback[okng].call(self_, value)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a8",
      "text": "         except Exception, e:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64a9",
      "text": "             next = \"ng\"",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64aa",
      "text": "             value = e",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ab",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ac",
      "text": "         if isinstance(value, Deferred):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ad",
      "text": "             value._next = self_._next",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ae",
      "text": "         else:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64af",
      "text": "             if self_._next:",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b0",
      "text": "                 self_._next._fire(next, value)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b1",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b2",
      "text": "     def _post(self, okng, fun):",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b3",
      "text": "         self._next = Deferred()",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b4",
      "text": "         self._next.callback[okng] = fun",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b5",
      "text": "         return self._next",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b6",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b7",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b8",
      "text": " -----",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64b9",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ba",
      "text": " Deferred.prototype.nextとDeferred.nextの両方があることに混乱してamachangに聞いたら、これは全然無関係だそうな。JSの場合、関数を平置きしてしまうとグローバル空間を汚染してしまうので適当なハッシュにつっこんであるだけ。Deferred.nextはFoo.nextでもなんでもいい。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64bb",
      "text": " モジュール単位でスコープが分かれたりしないJSでのコーディングスタイル。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64bc",
      "text": " Pythonではトップレベルで定義した関数がモジュール単位のスコープになるのでトップレベルで書くのが適切。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64bd",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64be",
      "text": " -----",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64bf",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c0",
      "text": " ああ。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c1",
      "text": " JSDeferredは想像していたものとだいぶ違った。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c2",
      "text": " next(f1).next(f2).next(f3)で実行すべきタスクを組み立てた後でまとめて実行するのかと思っていたけど、next(f1)の時点でf1は実行されるんだな。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c3",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c4",
      "text": " -----",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c5",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c6",
      "text": " >>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c7",
      "text": " > next(f1).next(f2).next(f3)で実行すべきタスクを組み立てた後でまとめて実行するのかと思っていたけど、next(f1)の時点でf1は実行されるんだな。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c8",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64c9",
      "text": " 最初の next は読んでいただけた通り setTimeout をウェイト 0 で読んでいます。JS ではこのときはまだ、実行キューにその関数が入るだけで、実行されません。なので、.next(f2).next(f3) とすぐに繋げた場合、それらのチェインが構築されたあとに f1 は実行されるようになります。(自分でタスクをくみたてて自分であとから呼ぶこともできますが、普通は現在実行中の処理のあとに自動で実行してくれたほうが楽なのでこうなっています)",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ca",
      "text": " <<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64cb",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64cc",
      "text": " ああ、勘違いしてました。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64cd",
      "text": " 下のようなコードを書いて、即座に表示が行われるので「あれ、即座だな」と思ったけども、",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ce",
      "text": " >|javascript|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64cf",
      "text": " function foo(){",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d0",
      "text": "     console.log(\"foo!\");",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d1",
      "text": " }",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d2",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d3",
      "text": " var id = setTimeout(function () { clearTimeout(id); foo() }, 0);",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d4",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d5",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d6",
      "text": " 下のようなコードを試してみるべきだったわけですね。barが先に表示される。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d7",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d8",
      "text": " >|javascript|",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64d9",
      "text": " function foo(){",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64da",
      "text": "     console.log(\"foo!\");",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64db",
      "text": " }",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64dc",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64dd",
      "text": " var id = setTimeout(function () { clearTimeout(id); foo() }, 0);",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64de",
      "text": " console.log(\"bar!\");",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64df",
      "text": " ||<",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e0",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e1",
      "text": " なるほどなるほど。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e2",
      "text": " かってにnext(f1).next(f2).next(f3).start()的な使い方をするもんだと思いこんでました。",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e3",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e4",
      "text": " *1201189330*道に迷った",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e5",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e6",
      "text": " ここはどこ？おうちはどっち？",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e7",
      "text": " f:id:nishiohirokazu:20080125004156j:image",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e8",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64e9",
      "text": " *1201191880*ただいま",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ea",
      "text": " ",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64eb",
      "text": " 凍る",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ec",
      "text": " </body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ed",
      "text": " <comments>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ee",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ef",
      "text": " <username>coji</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f0",
      "text": " <body>www</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f1",
      "text": " <timestamp>1201155146</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f2",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f3",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f4",
      "text": " <username>cho45</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f5",
      "text": " <body>> _fireの中でself = thisしている意味<br>前までそこでも setTimeout をしていたので名残が残っています。var self = this; は一回書いたら基本的に消さないので (また必要になったときにめんどうくさい)、無駄に残ってしまうことが多々あります＞＜</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f6",
      "text": " <timestamp>1201169820</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f7",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f8",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64f9",
      "text": " <username>cho45</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64fa",
      "text": " <body>> next(f1).next(f2).next(f3)で実行すべきタスクを組み立てた後でまとめて実行するのかと思っていたけど、next(f1)の時点でf1は実行されるんだな。<br><br>最初の next は読んでいただけた通り setTimeout をウェイト 0 で読んでいます。JS ではこのときはまだ、実行キューにその関数が入るだけで、実行されません。なので、.next(f2).next(f3) とすぐに繋げた場合、それらのチェインが構築されたあとに f1 は実行されるようになります。(自分でタスクをくみたてて自分であとから呼ぶこともできますが、普通は現在実行中の処理のあとに自動で実行してくれたほうが楽なのでこうなっています)</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64fb",
      "text": " <timestamp>1201170158</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64fc",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64fd",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64fe",
      "text": " <username>TOKOROTEN</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c64ff",
      "text": " <body>扇風機で強制的に風を送ると、一時間くらいでなんとでもなりますよ。<br>一月に部屋の中で扇風機が回ってるのは、負け組な気もしますが。</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6500",
      "text": " <timestamp>1201175512</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6501",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6502",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6503",
      "text": " <username>maedana</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6504",
      "text": " <body>つまり明日は素足で出社するということですね</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6505",
      "text": " <timestamp>1201184074</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6506",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6507",
      "text": " <comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6508",
      "text": " <username>yappo</username>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6509",
      "text": " <body>いきすぎw</body>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c650a",
      "text": " <timestamp>1201296106</timestamp>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c650b",
      "text": " </comment>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c650c",
      "text": " </comments>",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c650d",
      "text": "",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c650e",
      "text": "[はてなダイアリー 2008-01-24 https://nishiohirokazu.hatenadiary.org/archive/2008/01/24]",
      "created": 1201100400,
      "updated": 1201100400,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}