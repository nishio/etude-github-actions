{
  "id": "60237b7800f27d002247843a",
  "title": "Type memo",
  "created": 1612938106,
  "updated": 1613121204,
  "lines": [
    {
      "id": "60237b7800f27d002247843a",
      "text": "Type memo",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938106,
      "updated": 1612938108
    },
    {
      "id": "60237c9daff09e00006889a1",
      "text": "型がついてればいいってもんじゃない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938397,
      "updated": 1612938404
    },
    {
      "id": "60237b7baff09e00002129ef",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938108,
      "updated": 1612938151
    },
    {
      "id": "60237ba6aff09e00002129f1",
      "text": " const makeV = (f: boolean) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938151,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f3",
      "text": "   if (f) {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f4",
      "text": "     return { x: 1, y: 1 };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f5",
      "text": "   } else {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f6",
      "text": "     return {};",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f7",
      "text": "   }",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f8",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129f9",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129fa",
      "text": " const v = makeV(true);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129fb",
      "text": " const x = v.x; // x: number | undefined",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938152
    },
    {
      "id": "60237ba7aff09e00002129fc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938152,
      "updated": 1612938153
    },
    {
      "id": "60237c71aff09e00006889a0",
      "text": "anyで受けてたせいで名前のついてない中途半端な形のオブジェクトが通されてる(変数名xなのも雑",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938354,
      "updated": 1612938390
    },
    {
      "id": "60237c49aff09e00002129fd",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4aaff09e00002129fe",
      "text": " type FIXME = {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e00002129ff",
      "text": "   nameplate: number | null;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a00",
      "text": "   isOpen: boolean;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a01",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a02",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a03",
      "text": " export const createNewGroupStateItem = (",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a04",
      "text": "   position: paper.Point,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a05",
      "text": "   items: number[] | StateItem[],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a06",
      "text": "   x: FIXME,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a07",
      "text": " ): GroupStateItem => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a08",
      "text": "   return createGroupStateItem(position, items, x, createUniqueID());",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a09",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0a",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0b",
      "text": " export const createGroupStateItem = (",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0c",
      "text": "   position: paper.Point,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0d",
      "text": "   items: number[] | StateItem[],",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0e",
      "text": "   x: FIXME,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a0f",
      "text": "   id: ItemID,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938315
    },
    {
      "id": "60237c4baff09e0000212a10",
      "text": " ): GroupStateItem => { ... ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938315,
      "updated": 1612938323
    },
    {
      "id": "60237ba4aff09e00002129f0",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938149,
      "updated": 1612938149
    },
    {
      "id": "60237d79aff09e0000212a12",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612938618,
      "updated": 1613119351
    },
    {
      "id": "60237f3eaff09e0000212a1b",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612939071,
      "updated": 1612939074
    },
    {
      "id": "60237f41aff09e0000212a1f",
      "text": " import { ToolEvent } from \"paper\";",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612939074,
      "updated": 1612939074
    },
    {
      "id": "60237f41aff09e0000212a20",
      "text": " export const isTwoFingerGesture = (event: ToolEvent) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612939074,
      "updated": 1612939074
    },
    {
      "id": "60237f41aff09e0000212a21",
      "text": "   const e: any = (event as any).event;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612939074,
      "updated": 1612939074
    },
    {
      "id": "60237f41aff09e0000212a22",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612939074,
      "updated": 1612939075
    },
    {
      "id": "6025dba5aff09e00000967e5",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613093797,
      "updated": 1613121203
    },
    {
      "id": "6025e356aff09e00000967f6",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095766,
      "updated": 1613095767
    },
    {
      "id": "6025e357aff09e00000967f8",
      "text": " export const convertStateItemToFirestore = (x: StateItem) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e358aff09e00000967f9",
      "text": "   const ret: any;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e358aff09e00000967fa",
      "text": "   ret.type = x.type;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e358aff09e00000967fb",
      "text": "   ret.id = x.id;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e4aaaff09e0000096808",
      "text": "   ret.position = [x.position.x, x.position.y]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613096107,
      "updated": 1613096113
    },
    {
      "id": "6025e358aff09e00000967fc",
      "text": "   if (isPieceStateItem(x)) {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095772
    },
    {
      "id": "6025e358aff09e00000967fe",
      "text": "     ret.text = x.text;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e358aff09e00000967ff",
      "text": "\t\t...\t",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095779
    },
    {
      "id": "6025e358aff09e0000096801",
      "text": "   } else if (isPathStateItem(x)) {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095768
    },
    {
      "id": "6025e358aff09e0000096802",
      "text": "     ret.opacity = x.opacity ?? 1.0;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613096752
    },
    {
      "id": "6025e358aff09e0000096803",
      "text": " \t...",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095768,
      "updated": 1613095781
    },
    {
      "id": "6025e372aff09e0000096805",
      "text": "\t  }",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095794,
      "updated": 1613095799
    },
    {
      "id": "6025e377aff09e0000096806",
      "text": "\t  return ret;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095799,
      "updated": 1613095802
    },
    {
      "id": "6025e366aff09e0000096804",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095783,
      "updated": 1613095783
    },
    {
      "id": "6025ee55aff09e0000096809",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098581,
      "updated": 1613098582
    },
    {
      "id": "6025ee56aff09e000009680a",
      "text": " export const createBlankFirestore = (): FIRESTORE_DOC => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e000009680b",
      "text": "   const ret: any = {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e000009680c",
      "text": "     version: 2,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e000009680d",
      "text": "   };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e000009680e",
      "text": "   ret.itemStore = {};",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e000009680f",
      "text": "   ret.drawOrder = [];",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e0000096810",
      "text": "   return ret;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e0000096811",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098583
    },
    {
      "id": "6025ee57aff09e0000096812",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098583,
      "updated": 1613098771
    },
    {
      "id": "6025ef12aff09e000009681f",
      "text": " export const createBlankFirestore = (): FIRESTORE_DOC => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef13aff09e0000096820",
      "text": "   const version = 2;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef13aff09e0000096821",
      "text": "   const itemStore = {};",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef13aff09e0000096822",
      "text": "   const drawOrder: ItemID[] = [];",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef13aff09e0000096823",
      "text": "   return { version, itemStore, drawOrder };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef13aff09e0000096824",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098771,
      "updated": 1613098771
    },
    {
      "id": "6025ef01aff09e0000096813",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098754,
      "updated": 1613098754
    },
    {
      "id": "6025ef01aff09e0000096814",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098754,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e0000096816",
      "text": " export const onOverlayCanvas = (f: (...args: any[]) => unknown) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e0000096817",
      "text": "   return (...args: unknown[]) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e0000096818",
      "text": "     paper.projects[1].activate();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613119795
    },
    {
      "id": "6025ef04aff09e0000096819",
      "text": "     const ret = f(...args);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e000009681a",
      "text": "     paper.projects[0].activate();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613119797
    },
    {
      "id": "6025ef04aff09e000009681b",
      "text": "     return ret;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e000009681c",
      "text": "   };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e000009681d",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613098756
    },
    {
      "id": "6025ef04aff09e000009681e",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613098756,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d14",
      "text": " import { ToolEvent } from \"paper\";",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d15",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d16",
      "text": " export const onOverlayCanvas = <T extends [ToolEvent] | []>(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d17",
      "text": "   f: (...args: T) => unknown,",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d18",
      "text": " ) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d19",
      "text": "   return (...args: T) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d1a",
      "text": "     paper.projects[1].activate();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613119789
    },
    {
      "id": "60261366aff09e0000bf4d1b",
      "text": "     const ret = f(...args);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d1c",
      "text": "     paper.projects[0].activate();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613119791
    },
    {
      "id": "60261366aff09e0000bf4d1d",
      "text": "     return ret;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d1e",
      "text": "   };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d1f",
      "text": " };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108071
    },
    {
      "id": "60261366aff09e0000bf4d20",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613108071,
      "updated": 1613108072
    },
    {
      "id": "6025e356aff09e00000967f7",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1613095766,
      "updated": 1613095766
    }
  ]
}