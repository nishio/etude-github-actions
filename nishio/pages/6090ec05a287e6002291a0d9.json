{
  "id": "6090ec05a287e6002291a0d9",
  "title": "Hatena2010-07-12",
  "created": 1278860400,
  "updated": 1278860400,
  "lines": [
    {
      "id": "6090ec29aff09e00003d683a",
      "text": "Hatena2010-07-12",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d683b",
      "text": "code:hatena",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d683c",
      "text": " <body>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d683d",
      "text": " *1278911670*今日の昼ごはん(高階関数クイズの解答)",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d683e",
      "text": " 問題編はこちら。まだ解いていない人はこちらを先にみてください。<a href='http://d.hatena.ne.jp/camlspotter/20100710/1278752186'>高階関数クイズ - Oh, you `re no (fun _ → more)</a>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d683f",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6840",
      "text": " ネタバレ防止に",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6841",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6842",
      "text": " 1",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6843",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6844",
      "text": " 2",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6845",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6846",
      "text": " 4",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6847",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6848",
      "text": " 8",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6849",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684a",
      "text": " 16",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684b",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684c",
      "text": " 32",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684d",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684e",
      "text": " 64",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d684f",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6850",
      "text": " さすがに関数適用が左結合性なあたりは十分承知しているので2 * nになるわけがないじゃん、というところまではすぐわかったのだが、落とし穴を飛び越えた着地先にもう一つ落とし穴があっておもいっきりはまってしまった。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6851",
      "text": " twiceをt, 引数の関数をn回適用する関数を<n>と書くことにすると",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6852",
      "text": " >||",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6853",
      "text": " t = <2>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6854",
      "text": " t t = <2> <2> = <2 ** 2> ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6855",
      "text": " -- これがたまたま同じ2同士の演算なので勘違いしやすい。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6856",
      "text": " -- あと<2 * 2>という解釈もできてしまう罠",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6857",
      "text": " t t t = (t t) t = <4> <2> = <2 ** 4> = <16>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6858",
      "text": " -- <4 * 2>だと思った人はここでぶつかる。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6859",
      "text": " -- これを<4 ** 2>だと思い込むと二つめの罠",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685a",
      "text": " t t t t = (t t t) t = <16> <2> = <2 ** 16> = <65536>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685b",
      "text": " -- <16 ** 2>だと勘違いすると256と答えてしまう。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685c",
      "text": " ||<",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685d",
      "text": " うん、まあ、あっさりと256って答えて落とし穴にはまった。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685e",
      "text": " ",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d685f",
      "text": " 罠は2つ重なっているわけだ。まず関数適用の結合順序をぼんやりとしか考えていない人は(t t t t)を(t (t t t))だと勘違いする、と。数値で言うなら(2 *)と見せかけて(2 **)な罠。twiceって名前から間違った連想をしてしまいがち。しかも 2 * 1 == 2 ** 1, 2 * 2 = 2 ** 2 だから最初の2つはその解釈でも成立してしまう。ちゃんと問題文を見ていれば(t t t)が<8>にならないところで正されるはず。次に(** 2)と(2 **)が2と4に関してイコールなのが罠。2 ** 2 = 2 ** 2, 2 * 4 == 2 ** 4が成り立つので正解は 2 ** 16 なのに 16 ** 2 と答えてしまう。これもちゃんと問題文を見ていれば2 ** 1 /= 1 ** 2 だからわかったはずなんだけどな…。",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6860",
      "text": " </body>",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6861",
      "text": "",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec29aff09e00003d6862",
      "text": "[はてなダイアリー 2010-07-12 https://nishiohirokazu.hatenadiary.org/archive/2010/07/12]",
      "created": 1278860400,
      "updated": 1278860400,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}