{
  "id": "5f412e7c6a05c70024641f28",
  "title": "ABC176",
  "created": 1598107264,
  "updated": 1598116447,
  "lines": [
    {
      "id": "5f412e7c6a05c70024641f28",
      "text": "ABC176",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107264,
      "updated": 1598107277
    },
    {
      "id": "5f412f45aff09e0000e9d5d6",
      "text": "4問解いてもレーティングは伸びません",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107461,
      "updated": 1598107471
    },
    {
      "id": "5f412f50aff09e0000e9d5d7",
      "text": "[https://gyazo.com/096ba8d1cc428b4f813302c5e7f71ae5]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107472,
      "updated": 1598107656
    },
    {
      "id": "5f413007aff09e0000a316ea",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107656,
      "updated": 1598115192
    },
    {
      "id": "5f4130b4aff09e0000a316ef",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107828,
      "updated": 1598107828
    },
    {
      "id": "5f412e8caff09e0000e9d5d3",
      "text": "問題[C - Step https://atcoder.jp/contests/abc176/tasks/abc176_c]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107277,
      "updated": 1598107709
    },
    {
      "id": "5f413030aff09e0000a316ed",
      "text": "\t[https://gyazo.com/0858ad5cbc91a901a8b1fe7e39702cc8]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107697,
      "updated": 1598107700
    },
    {
      "id": "5f413033aff09e0000a316ee",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107700,
      "updated": 1598107700
    },
    {
      "id": "5f412f1daff09e0000e9d5d5",
      "text": " k-1番目まで条件を満たしている時、k-1番目の人は一番高い",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107421,
      "updated": 1598107666
    },
    {
      "id": "5f413011aff09e0000a316eb",
      "text": " ので、k番目の人の踏み台の高さを決める際にk-1番目とだけ比較すればOK",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107666,
      "updated": 1598107666
    },
    {
      "id": "5f413055aff09e0000e9d5d9",
      "text": " 答えは10^14の桁になりうるけどPythonなので大丈夫",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107734,
      "updated": 1598107804
    },
    {
      "id": "5f412fbcaff09e0000e9d5d8",
      "text": "\tcode:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107581,
      "updated": 1598107616
    },
    {
      "id": "5f412fe0aff09e0000a316df",
      "text": "\t def solve(N, AS):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107616,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e0",
      "text": "      ret = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e1",
      "text": "      prevStep = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e2",
      "text": "      for i in range(1, N):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e3",
      "text": "          if prevStep + AS[i - 1] > AS[i]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e4",
      "text": "              prevStep = prevStep + AS[i - 1] - AS[i]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e5",
      "text": "              ret += prevStep",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e6",
      "text": "          else:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e7",
      "text": "              prevStep = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e8",
      "text": "      return ret",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107617
    },
    {
      "id": "5f412fe1aff09e0000a316e9",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107617,
      "updated": 1598107618
    },
    {
      "id": "5f41309faff09e0000e9d5da",
      "text": "[D - Wizard in Maze https://atcoder.jp/contests/abc176/tasks/abc176_d]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107808,
      "updated": 1598107839
    },
    {
      "id": "5f4130bdaff09e0000a316f0",
      "text": "[https://gyazo.com/ed9c4a29cba57fc94914dde342c95e95]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107838,
      "updated": 1598107866
    },
    {
      "id": "5f4130daaff09e0000f05158",
      "text": "\t5回TLEした。最初の2回でTLEが減ったので「これはギリギリに違いない」と判断して頑張って高速化して通した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107866,
      "updated": 1598107902
    },
    {
      "id": "5f4130fdaff09e0000f05159",
      "text": " \t最初にサブミットしてからACまで23分も試行錯誤した…",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107902,
      "updated": 1598107907
    },
    {
      "id": "5f41316caff09e0000f0516f",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108013,
      "updated": 1598108013
    },
    {
      "id": "5f41316caff09e0000f05170",
      "text": "\tまず距離Nで行けるマスを全部辿って歩きで行けるところがなくなってから、「今までに辿ったマスからジャンプで行けるところ」を探索候補に追加する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108013,
      "updated": 1598108101
    },
    {
      "id": "5f4131d8aff09e0000e9d5db",
      "text": "　　距離Nの探索中にゴールにたどり着けば、returnしてよい。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108121,
      "updated": 1598108158
    },
    {
      "id": "5f4131fdaff09e0000e9d5dc",
      "text": "\t　　N-1でたどり着けないことが確認済みだから、Nが最短だと確定するので。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108158,
      "updated": 1598108495
    },
    {
      "id": "5f413225aff09e0000e9d5dd",
      "text": " 「ジャンプ」の計算を不用意にやると時間かかる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108197,
      "updated": 1598108253
    },
    {
      "id": "5f413111aff09e0000f0515f",
      "text": " 　全てのマス(`W*H`)について「ここにジャンプで来れるか？」をチェックしたらダメ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107921,
      "updated": 1598108757
    },
    {
      "id": "5f413454aff09e0000f0517a",
      "text": " 　\t「道が細切れ」な時に何度も「全マスチェック」が走りまくる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108757,
      "updated": 1598108762
    },
    {
      "id": "5f4133dfaff09e0000e9d5df",
      "text": "　　　ジャンプの回数は大雑把に`W*H/6`ぐらいになるから`W^2 * H^2 / 6`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108640,
      "updated": 1598108798
    },
    {
      "id": "5f413122aff09e0000f05160",
      "text": " 　ひとます歩くたびに周囲25マスを「次にジャンプした時に飛んで良いところ」集合に入れた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107938,
      "updated": 1598108528
    },
    {
      "id": "5f413371aff09e0000e9d5de",
      "text": " 　　歩く回数は「全てのマス」以下なので、そのたびに25回計算しても`25 * W * H`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108529,
      "updated": 1598108812
    },
    {
      "id": "5f41301aaff09e0000a316ec",
      "text": "\tその「次にジャンプした時に飛んで良いところ」をどういう形で保持したか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107674,
      "updated": 1598107955
    },
    {
      "id": "5f413133aff09e0000f05161",
      "text": "\t 最初、地図と同じ形の配列に印をつけてたのだけどTLE",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107955,
      "updated": 1598108834
    },
    {
      "id": "5f4134a2aff09e0000f0517b",
      "text": "\t\t ジャンプのたびに地図のサイズを舐めてはダメ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108834,
      "updated": 1598113360
    },
    {
      "id": "5f413133aff09e0000f0516d",
      "text": "\t ワープNで行けるところを全部辿ってからジャンプを試すなら「ワープ回数」を保持する必要がない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107955,
      "updated": 1598108853
    },
    {
      "id": "5f413523aff09e0000f0517e",
      "text": " \t 「次のジャンプで到達しうる点」だけを保持すればよい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108963,
      "updated": 1598108964
    },
    {
      "id": "5f412f18aff09e0000e9d5d4",
      "text": "\t\t\t集合`set`で持った",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598107417,
      "updated": 1598112033
    },
    {
      "id": "5f4134d6aff09e0000e9d5e0",
      "text": "\t\t\t　追加O(1)、全列挙O(N)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108887,
      "updated": 1598108980
    },
    {
      "id": "5f413182aff09e0000f05173",
      "text": "\t 「大量にジャンプが繰り返される」というTLE狙いの入力の場合も、ジャンプのたびに「次のジャンプ先」集合がリセットされるから大きくならない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108034,
      "updated": 1598108948
    },
    {
      "id": "5f413514aff09e0000f0517c",
      "text": "　僕はこれでACした(654ms)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108948,
      "updated": 1598109054
    },
    {
      "id": "5f41357daff09e0000e9d5e2",
      "text": "　　解説のためにソースコードを整理してたらもっと速くなった(387 ms)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109054,
      "updated": 1598109198
    },
    {
      "id": "5f41357faff09e0000e9d5e3",
      "text": "　　「次のジャンプで到達しうる点」ではなく「次のジャンプの起点になりうる点」を保持する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109055,
      "updated": 1598109108
    },
    {
      "id": "5f4135aeaff09e0000e9d5e4",
      "text": "　　　ジャンプすることが決まるまではジャンプ先を計算する必要がないため",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109102,
      "updated": 1598109131
    },
    {
      "id": "5f4142a4aff09e0000e9d608",
      "text": "　細かい話題",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112421,
      "updated": 1598112617
    },
    {
      "id": "5f413617aff09e0000e9d5e5",
      "text": "　　上下左右　`for d in [-1, +1, -WIDTH, +WIDTH]:`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109207,
      "updated": 1598109237
    },
    {
      "id": "5f413636aff09e0000e9d5e6",
      "text": "　　マップ読み込み時点で壁をつけることで「x==0なら左に進んじゃダメ」みたいな条件分岐をなくす。 [番兵]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109238,
      "updated": 1598109346
    },
    {
      "id": "5f4136b8aff09e000007cf71",
      "text": "　　　[地図読み込み時に番兵をつける]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109368,
      "updated": 1598109752
    },
    {
      "id": "5f41436aaff09e0000a73fb0",
      "text": "　　ジャンプ先を集合を使ってユニークにする必要はない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112619,
      "updated": 1598112635
    },
    {
      "id": "5f41436baff09e0000a73fb1",
      "text": " 　　そのままtoVisitに重複ありでつっこんでよい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112619,
      "updated": 1598112645
    },
    {
      "id": "5f41436baff09e0000a73fb2",
      "text": " 　　　重複の2件目以降はvisitedが真なので速やかにスキップされるから。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112619,
      "updated": 1598113471
    },
    {
      "id": "5f414414aff09e0000e9d60c",
      "text": " 　　今回のケースでは集合を使わない方が20msecほど速い",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112788,
      "updated": 1598113477
    },
    {
      "id": "5f4146e6aff09e0000e9d610",
      "text": " 　　　速くするつもりで修正したらかえって遅くなった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598113511,
      "updated": 1598113524
    },
    {
      "id": "5f41449caff09e0000e9d60d",
      "text": " 　　　どっちもO(1)だが、集合の方がハッシュ値の計算が入るため70nsほど遅い　see [Python list v.s. set]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112925,
      "updated": 1598113480
    },
    {
      "id": "5f414546aff09e0000e9d60e",
      "text": " 　　　無駄な探索候補が増えてもこの差は逆転しない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598113095,
      "updated": 1598113483
    },
    {
      "id": "5f41436baff09e0000a73fb3",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598112619,
      "updated": 1598112624
    },
    {
      "id": "5f4135feaff09e000007cf30",
      "text": "code:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109182,
      "updated": 1598109184
    },
    {
      "id": "5f413600aff09e000007cf31",
      "text": " def solve(H, W, Ch, Cw, Dh, Dw, walkable):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf32",
      "text": "     N = HEIGHT * WIDTH",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf33",
      "text": "     visited = [0] * N",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf34",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf35",
      "text": "     start = (Ch + 1) * WIDTH + (Cw + 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf36",
      "text": "     goal = (Dh + 1) * WIDTH + (Dw + 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf37",
      "text": "     toVisit = []",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf38",
      "text": "     toVisit.append(start)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf39",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3a",
      "text": "     currentDistance = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3b",
      "text": "     while True:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3c",
      "text": "         nextJumpOrigin = []",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3d",
      "text": "         while toVisit:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3e",
      "text": "             p = toVisit.pop()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf3f",
      "text": "             if p == goal:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf40",
      "text": "                 return currentDistance",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf41",
      "text": "             if visited[p]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf42",
      "text": "                 continue",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf43",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf44",
      "text": "             visited[p] = 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf45",
      "text": "             nextJumpOrigin.append(p)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf46",
      "text": "             for d in [-1, +1, -WIDTH, +WIDTH]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf47",
      "text": "                 if walkable[p + d] and not visited[p + d]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf48",
      "text": "                     toVisit.append(p + d)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf49",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4a",
      "text": "         # no continuous cell",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4b",
      "text": "         for origin in nextJumpOrigin:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4c",
      "text": "             for dx in [-2, -1, 0, +1, +2]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4d",
      "text": "                 for dy in [-WIDTH * 2, -WIDTH, 0, WIDTH, WIDTH * 2]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4e",
      "text": "                     p = origin + dx + dy",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf4f",
      "text": "                     if not walkable[p]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf50",
      "text": "                         continue",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf51",
      "text": "                     if visited[p]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf52",
      "text": "                         continue",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf53",
      "text": "                     toVisit.append(p)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf54",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf55",
      "text": "         currentDistance += 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf56",
      "text": "         if not toVisit:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf57",
      "text": "             return -1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf58",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf59",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5a",
      "text": " def readMap(H, W):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5b",
      "text": "     global SENTINEL, HEIGHT, WIDTH",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5c",
      "text": "     SENTINEL = 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5d",
      "text": "     HEIGHT = H + SENTINEL * 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5e",
      "text": "     WIDTH = W + SENTINEL * 2",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf5f",
      "text": "     data = [0] * (HEIGHT * WIDTH)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf60",
      "text": "     ok = ord(\".\")",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf61",
      "text": "     for i in range(H):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf62",
      "text": "         S = input().strip()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf63",
      "text": "         y = (i + SENTINEL) * WIDTH",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf64",
      "text": "         for j in range(W):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf65",
      "text": "             data[y + (j + SENTINEL)] = 1 if S[j] == ok else 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf66",
      "text": "     return data",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf67",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf68",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf69",
      "text": " def main():",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6a",
      "text": "     # parse input",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6b",
      "text": "     H, W = map(int, input().split())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6c",
      "text": "     Ch, Cw = map(int, input().split())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6d",
      "text": "     Dh, Dw = map(int, input().split())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6e",
      "text": "     D = readMap(H, W)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf6f",
      "text": "     print(solve(H, W, Ch, Cw, Dh, Dw, D))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109185
    },
    {
      "id": "5f413601aff09e000007cf70",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598109185,
      "updated": 1598109186
    },
    {
      "id": "5f413b3daff09e0000a73faf",
      "text": "[E - Bomber https://atcoder.jp/contests/abc176/tasks/abc176_e]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110525,
      "updated": 1598110525
    },
    {
      "id": "5f413545aff09e0000e9d5e1",
      "text": "[https://gyazo.com/f6b8c7e382d64944aae25946a26e4ec5]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598108998,
      "updated": 1598110518
    },
    {
      "id": "5f413bddaff09e0000e9d5f2",
      "text": "\t縦横最大3*10^5なので、縦横を掛け算すると10^10を超えてきてダメ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110685,
      "updated": 1598110734
    },
    {
      "id": "5f413b45aff09e0000e9d5ef",
      "text": "\t各爆弾ごとに縦線、横線をカウントアップすればたくさん並んでる縦線、横線がわかる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110534,
      "updated": 1598110788
    },
    {
      "id": "5f413c44aff09e0000e9d5f3",
      "text": "\t　これはO(M)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110788,
      "updated": 1598110797
    },
    {
      "id": "5f413b99aff09e0000e9d5f1",
      "text": "\tそれぞれの最大値の和…ではない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110617,
      "updated": 1598110809
    },
    {
      "id": "5f413c59aff09e0000e9d5f4",
      "text": "\t　交点に爆弾がある場合-1なので",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110809,
      "updated": 1598110823
    },
    {
      "id": "5f413c68aff09e0000e9d5f5",
      "text": "\t最大値の線の交点に爆弾があるかをチェック…",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110824,
      "updated": 1598110917
    },
    {
      "id": "5f413cbeaff09e0000e9d5fb",
      "text": "\t　最大値はたくさんあり得る。10^5の桁",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110911,
      "updated": 1598116440
    },
    {
      "id": "5f413c77aff09e0000e9d5f6",
      "text": "\t 交点はやっぱり10^10を超えてしまう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110841,
      "updated": 1598111000
    },
    {
      "id": "5f413c92aff09e0000e9d5f7",
      "text": "\tここまで考えて諦めた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110866,
      "updated": 1598110875
    },
    {
      "id": "5f413c9caff09e0000e9d5f8",
      "text": "\t解説を読む",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110877,
      "updated": 1598116447
    },
    {
      "id": "5f413c9faff09e0000e9d5f9",
      "text": "\t　爆弾の個数が高々M",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110879,
      "updated": 1598110898
    },
    {
      "id": "5f413cb2aff09e0000e9d5fa",
      "text": "\t　ということは最大値ラインの交点がMより多い場合、確実に「爆弾のない交点」が1つ以上存在するので答えは最大値の和でよい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598110898,
      "updated": 1598111108
    },
    {
      "id": "5f413d83aff09e0000e9d5fd",
      "text": "\t　　探索いらなかった！",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598111108,
      "updated": 1598111113
    },
    {
      "id": "5f413d7eaff09e0000e9d5fc",
      "text": "\t　M以下の場合だけ探索",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598111102,
      "updated": 1598111134
    },
    {
      "id": "5f413d9faff09e0000e9d5fe",
      "text": "code:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598111135,
      "updated": 1598116045
    },
    {
      "id": "5f4150ceaff09e0000a73fb6",
      "text": " def solve():",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fb7",
      "text": "     from collections import defaultdict",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fb8",
      "text": "     H, W, M = map(int, input().split())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fb9",
      "text": "     hcount = defaultdict(int)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fba",
      "text": "     wcount = defaultdict(int)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fbb",
      "text": "     bombs = set()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fbc",
      "text": "     for _i in range(M):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fbd",
      "text": "         h, w = map(int, input().split())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fbe",
      "text": "         hcount[h] += 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fbf",
      "text": "         wcount[w] += 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc0",
      "text": "         bombs.add((h, w))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc1",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc2",
      "text": "     maxh = max(hcount.values())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc3",
      "text": "     maxw = max(wcount.values())",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc4",
      "text": "     hs = [k for k in hcount if hcount[k] == maxh]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc5",
      "text": "     ws = [k for k in wcount if wcount[k] == maxw]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc6",
      "text": "     if len(hs) * len(ws) > M:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc7",
      "text": "         return maxh + maxw",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc8",
      "text": "     for h in hs:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fc9",
      "text": "         for w in ws:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fca",
      "text": "             if (h, w) not in bombs:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fcb",
      "text": "                 return maxh + maxw",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fcc",
      "text": "     return maxh + maxw - 1",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116046
    },
    {
      "id": "5f4150ceaff09e0000a73fcd",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116046,
      "updated": 1598116048
    },
    {
      "id": "5f4150cbaff09e0000a73fb5",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1598116044,
      "updated": 1598116044
    }
  ]
}