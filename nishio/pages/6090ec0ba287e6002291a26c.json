{
  "id": "6090ec0ba287e6002291a26c",
  "title": "Hatena2012-10-13",
  "created": 1350054000,
  "updated": 1350054000,
  "lines": [
    {
      "id": "6090ec2faff09e00003dd237",
      "text": "Hatena2012-10-13",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd238",
      "text": "code:hatena",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd239",
      "text": " <body>",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23a",
      "text": " *1350093216*Pythonでメモリ消費量のプロファイルを取る",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23b",
      "text": " 昨日<a href='http://d.hatena.ne.jp/nishiohirokazu/20121012/1350045654'>Pythonでメモリを食い過ぎた時に見直すポイント</a>を書いたが、使ったツールの説明を忘れていた。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23c",
      "text": " <a href='http://guppy-pe.sourceforge.net/'>Guppy-PE: A Python Programming Environment</a>を使うとこんな感じの出力が得られる。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23d",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23e",
      "text": " >||",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd23f",
      "text": " Partition of a set of 2330379 objects. Total size = 355901024 bytes. ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd240",
      "text": "  Index  Count   %     Size   % Cumulative  % Kind (class / dict of class) ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd241",
      "text": "      0 447287  19 125240360  35 125240360  35 dict of __main__.Node ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd242",
      "text": "      1  53016   2 85891008  24 211131368  59 dict (no owner) ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd243",
      "text": "      2 467204  20 66360776  19 277492144  78 str ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd244",
      "text": "      3 457120  20 33019584   9 310511728  87 tuple ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd245",
      "text": "      4 447287  19 28626368   8 339138096  95 __main__.Node ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd246",
      "text": "      5 447381  19 10737144   3 349875240  98 int ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd247",
      "text": "      6    242   0  3714512   1 353589752  99 list ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd248",
      "text": "      7    115   0   360904   0 353950656  99 dict of module ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd249",
      "text": "      8   2719   0   348032   0 354298688 100 types.CodeType ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24a",
      "text": "      9   2629   0   315480   0 354614168 100 function",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24b",
      "text": " ||<",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24c",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24d",
      "text": " わかりやすいように短いスクリプトで試してみよう。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24e",
      "text": " >|python|",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd24f",
      "text": " from guppy import hpy",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd250",
      "text": " h = hpy()",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd251",
      "text": " N = 100000",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd252",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd253",
      "text": " class Hoge(object):",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd254",
      "text": "     def __init__(self):",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd255",
      "text": "         self.x = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd256",
      "text": "         self.y = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd257",
      "text": "         self.z = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd258",
      "text": "         self.a = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd259",
      "text": "         self.b = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25a",
      "text": "         self.c = 1",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25b",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25c",
      "text": " x = [Hoge() for x in range(N)]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25d",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25e",
      "text": " print h.heap()",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd25f",
      "text": " ||<",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd260",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd261",
      "text": " これを実行すると下のような出力が出る。Hogeの1インスタンスあたり64バイト、それが持っている辞書が1048バイトなのがわかる。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd262",
      "text": " >||",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd263",
      "text": " Partition of a set of 225737 objects. Total size = 115386656 bytes.",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd264",
      "text": "  Index  Count   %     Size   % Cumulative  % Kind (class / dict of class)",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd265",
      "text": "      0 100000  44 104800000  91 104800000  91 dict of __main__.Hoge",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd266",
      "text": "      1 100000  44  6400000   6 111200000  96 __main__.Hoge",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd267",
      "text": "      2  11648   5  1013232   1 112213232  97 str",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd268",
      "text": "      3    177   0   844360   1 113057592  98 list",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd269",
      "text": "      4   5849   3   470816   0 113528408  98 tuple",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26a",
      "text": "      5    321   0   242328   0 113770736  99 dict (no owner)",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26b",
      "text": "      6     68   0   213344   0 113984080  99 dict of module",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26c",
      "text": "      7    200   0   211136   0 114195216  99 dict of type",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26d",
      "text": "      8   1632   1   208896   0 114404112  99 types.CodeType",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26e",
      "text": "      9   1594   1   191280   0 114595392  99 function",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd26f",
      "text": " <92 more rows. Type e.g. '_.more' to view.>",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd270",
      "text": " ||<",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd271",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd272",
      "text": " *1350140094*iPad額縁を作ってみた",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd273",
      "text": " 前から欲しいと思ってたiPad額縁のプロトタイプをダンボールで作ってみた。横置きで、かつ、この状態で実はコンセントから給電できているのが重要なポイント。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd274",
      "text": " [f:id:nishiohirokazu:20121013235354j:image]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd275",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd276",
      "text": " 続き。裏はこうなっている。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd277",
      "text": " [f:id:nishiohirokazu:20121013235353j:image]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd278",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd279",
      "text": " iPadを縦でドックに挿すとなんだか不安定そうなので横置きにしたいのだけど、単純に横置きにしてケーブルを指して充電すると横にぴろっとケーブルがでちゃってとてもダサい。なので横置きで支えてくれて、かつケーブルが後ろから出るようなドックがあればいいんだけどなぁ。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27a",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27b",
      "text": " とりあえず前からイメージしていた「額縁の縁の中でケーブルを曲げる」が物理的に可能なことは確認できたので、次は木で作るかな。それとも3Dプリンタかな。黒のアクリル板がいいかな。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27c",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27d",
      "text": " <hr>",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27e",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd27f",
      "text": " 一晩寝て、何で額縁を作るか考えてたら、結局つくらないでいいんじゃないかという結論になった。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd280",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd281",
      "text": " [f:id:nishiohirokazu:20121014125213j:image]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd282",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd283",
      "text": " 要するにこんな形のケーブルがあれば良い。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd284",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd285",
      "text": " [f:id:nishiohirokazu:20121014125210j:image]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd286",
      "text": " ",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd287",
      "text": " この白い出っ張りの部分に猫とかがついて出っ張りを隠してくれればいいな。",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd288",
      "text": " </body>",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd289",
      "text": "",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2faff09e00003dd28a",
      "text": "[はてなダイアリー 2012-10-13 https://nishiohirokazu.hatenadiary.org/archive/2012/10/13]",
      "created": 1350054000,
      "updated": 1350054000,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}