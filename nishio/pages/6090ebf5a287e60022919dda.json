{
  "id": "6090ebf5a287e60022919dda",
  "title": "Hatena2008-02-02",
  "created": 1201878000,
  "updated": 1201878000,
  "lines": [
    {
      "id": "6090ec1baff09e00003c6c26",
      "text": "Hatena2008-02-02",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c27",
      "text": "code:hatena",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c28",
      "text": " <body>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c29",
      "text": " *1201914803*怖い",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2a",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2b",
      "text": " 誰もいない",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2c",
      "text": " f:id:nishiohirokazu:20080202101318j:image",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2d",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2e",
      "text": " *1201916122*Haskell",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c2f",
      "text": " Haskellしたい",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c30",
      "text": " amachangより先にamachangがはまっている問題を解いて「ヽ( ´ー`)ノふふ～ん」ってやりたい",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c31",
      "text": " でも今日は執筆合宿の日なので執筆に専念しないと…",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c32",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c33",
      "text": " *1201921391*[Haskell][Python]遅延評価のリストを作る",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c34",
      "text": " >>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c35",
      "text": " データ構築子はただの関数じゃないのか？",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c36",
      "text": " <<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c37",
      "text": " -Haskell のリストが分からない。遅延評価も分からない。 - IT戦記",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c38",
      "text": " -- http://d.hatena.ne.jp/amachang/20080201/1201881246",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c39",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3a",
      "text": " いや、関数なのは別に構わないのだけど、リストを返す関数にしてしまってはいけないと思う。それじゃ「(呼ぶ前の)未評価の状態」と「(読んだ後の)リスト全部ができあがっている状態」の2つの状態しか取れない。実際には「頭1個だけ評価済み」「頭2個だけ評価済み」…と無数の状態があるので、これが全部関数に分かれている必要がある。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3b",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3c",
      "text": " というわけでまず「評価前の状態(Thunk)」と「評価後の値」を表現するクラスを作ってみた。Thunkのforceを呼ぶと結果がValueになるまで評価を繰り返す。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3d",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3e",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c3f",
      "text": " >>> class Value(object):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c40",
      "text": "     def __init__(self, value):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c41",
      "text": "         self.value = value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c42",
      "text": "     def eval(self):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c43",
      "text": "         return self",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c44",
      "text": "     def force(self):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c45",
      "text": "         return self",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c46",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c47",
      "text": " >>> class Thunk(object):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c48",
      "text": "     value = None",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c49",
      "text": "     def __init__(self, func):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4a",
      "text": "         self.func = func",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4b",
      "text": "     def eval(self):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4c",
      "text": "         return self.func()",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4d",
      "text": "     def force(self):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4e",
      "text": "         x = self",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c4f",
      "text": "         while x.value == None:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c50",
      "text": "             x = x.eval()",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c51",
      "text": "         return x",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c52",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c53",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c54",
      "text": " 次に、遅延したincと遅延したconsと遅延したmapを作る。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c55",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c56",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c57",
      "text": " >>> def d_inc(x):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c58",
      "text": "     return Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c59",
      "text": "         Value(x.force().value + 1))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5a",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5b",
      "text": " >>> def d_cons(car, cdr):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5c",
      "text": "     return Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5d",
      "text": "         Value([car, cdr]))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5e",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c5f",
      "text": " >>> def d_map(f, xs):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c60",
      "text": "     return Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c61",
      "text": "         d_cons(",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c62",
      "text": "             f(xs.force().value[0]), # (f (car xs))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c63",
      "text": "             d_map(f, xs.force().value[1]))) # (map f (cdr xs))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c64",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c65",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c66",
      "text": " さぁ、これで無限リストができるはずだ。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c67",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c68",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c69",
      "text": " >>> inflist = d_cons(Value(1), d_map(d_inc, inflist))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6a",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6b",
      "text": " NameError: name 'inflist' is not defined",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6c",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6d",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6e",
      "text": " あれ？",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c6f",
      "text": " あ、そうかそうか。これも遅延させなきゃダメだ。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c70",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c71",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c72",
      "text": " >>> inflist = Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c73",
      "text": "         d_cons(Value(1), d_map(d_inc, inflist)))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c74",
      "text": " >>> inflist",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c75",
      "text": " <__main__.Thunk object at 0x01497B90>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c76",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c77",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c78",
      "text": " できた。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c79",
      "text": " carを取ってみる。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7a",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7b",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7c",
      "text": " >>> inflist.force()",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7d",
      "text": " <__main__.Value object at 0x014977D0>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7e",
      "text": " >>> inflist.force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c7f",
      "text": " [<__main__.Value object at 0x014978B0>, <__main__.Thunk object at 0x01497530>]",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c80",
      "text": " >>> inflist.force().value[0].force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c81",
      "text": " 1",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c82",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c83",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c84",
      "text": " うんうん、できている。cdrとcdarとcddarも取ってみよう。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c85",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c86",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c87",
      "text": " >>> inflist.force().value[1].force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c88",
      "text": " [<__main__.Thunk object at 0x01497510>, <__main__.Thunk object at 0x01497BF0>]",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c89",
      "text": " >>> inflist.force().value[1].force().value[0].force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8a",
      "text": " 2",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8b",
      "text": " >>> inflist.force().value[1].force().value[1].force().value[0].force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8c",
      "text": " 3",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8d",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8e",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c8f",
      "text": " ちゃんと無限リストになっていることが確認できた。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c90",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c91",
      "text": " -----",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c92",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c93",
      "text": " !!も作ってみた",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c94",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c95",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c96",
      "text": " >>> def car(xs):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c97",
      "text": " \treturn xs.force().value[0]",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c98",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c99",
      "text": " >>> def cdr(xs):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9a",
      "text": " \treturn xs.force().value[1]",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9b",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9c",
      "text": " >>> car(cdr(cdr(inflist)))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9d",
      "text": " <__main__.Thunk object at 0x01497E30>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9e",
      "text": " >>> car(cdr(cdr(inflist))).force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6c9f",
      "text": " 3",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca0",
      "text": " >>> def get(xs, i):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca1",
      "text": " \tif i == 0:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca2",
      "text": " \t\treturn car(xs)",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca3",
      "text": " \treturn get(cdr(xs), i - 1)",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca4",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca5",
      "text": " >>> get(inflist, 5)",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca6",
      "text": " <__main__.Thunk object at 0x0149D250>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca7",
      "text": " >>> get(inflist, 5).force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca8",
      "text": " 6",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ca9",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6caa",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cab",
      "text": " -----",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cac",
      "text": " フィボナッチ数列を作ってみた。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cad",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cae",
      "text": " >>> def zipWith(f, xs, ys):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6caf",
      "text": "     return Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb0",
      "text": "         d_cons(",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb1",
      "text": "             f(car(xs), car(ys)), # (f (car xs) (car ys))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb2",
      "text": "             zipWith(f, cdr(xs), cdr(ys))))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb3",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb4",
      "text": " >>> def d_add(x, y):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb5",
      "text": "     return Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb6",
      "text": "         Value(x.force().value + y.force().value))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb7",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb8",
      "text": " >>> fib = Thunk(lambda:",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cb9",
      "text": "         d_cons(Value(1),",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cba",
      "text": "            d_cons(Value(1),",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cbb",
      "text": "               zipWith(d_add, fib, cdr(fib)))))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cbc",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cbd",
      "text": " >>> get(fib, 0).force().value",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cbe",
      "text": " →無限ループ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cbf",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc0",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc1",
      "text": " うまく行かなかった。なんでうまく行かなかったのかは後で考える。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc2",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc3",
      "text": " -----",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc4",
      "text": " 答え",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc5",
      "text": " >||",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc6",
      "text": " -   zipWith(d_add, fib, cdr(fib)))))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc7",
      "text": " +   Thunk(lambda: zipWith(d_add, fib, cdr(fib))))))",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc8",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cc9",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cca",
      "text": " thunkが足りなかった。fib = Thunk(...)の中で、遅延されることなくfibが呼ばれてしまっていることが問題。fibの1回目の評価のタイミングでfibの評価が走ってしまうため無限ループになっていた。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ccb",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ccc",
      "text": " >|python|",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ccd",
      "text": " for i in range(7):",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cce",
      "text": "     print get(fib, i).force().value,",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ccf",
      "text": " # 1 1 2 3 5 8 13",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd0",
      "text": " ||<",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd1",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd2",
      "text": " できたできた。",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd3",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd4",
      "text": " *1201927631*ふな海ん？",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd5",
      "text": " f:id:nishiohirokazu:20080202134705j:image",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd6",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd7",
      "text": " *1201961393*つかれた",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd8",
      "text": " ",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cd9",
      "text": " ３００行書いたよ！かなりはかどった！執筆合宿をあと６０回やれば確実に完成しそう！",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cda",
      "text": " </body>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cdb",
      "text": " <comments>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cdc",
      "text": " <comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cdd",
      "text": " <username>amachang</username>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cde",
      "text": " <body>おー。関数型言語の中身ってこんな風になってるのかなー</body>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cdf",
      "text": " <timestamp>1201923521</timestamp>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce0",
      "text": " </comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce1",
      "text": " <comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce2",
      "text": " <username>yukoba</username>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce3",
      "text": " <body>じゃぁ http://d.hatena.ne.jp/yukoba/20080202/p1 をといて！</body>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce4",
      "text": " <timestamp>1201950852</timestamp>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce5",
      "text": " </comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce6",
      "text": " <comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce7",
      "text": " <username>wasisan</username>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce8",
      "text": " <body>はい．ここが間違いの原点ですね．<br>これでは，d_consが無限ストリームを構成するという役割を果たしていません．<br><br>おそらく，マクロの存在しないJavascriptでは定義は難しいでしょうね．</body>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ce9",
      "text": " <timestamp>1202112306</timestamp>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cea",
      "text": " </comment>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ceb",
      "text": " </comments>",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6cec",
      "text": "",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1baff09e00003c6ced",
      "text": "[はてなダイアリー 2008-02-02 https://nishiohirokazu.hatenadiary.org/archive/2008/02/02]",
      "created": 1201878000,
      "updated": 1201878000,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}