{
  "id": "5fe01f85c0211f0022c48065",
  "title": "ABC186F",
  "created": 1608523654,
  "updated": 1608524065,
  "lines": [
    {
      "id": "5fe01f85c0211f0022c48065",
      "text": "ABC186F",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d13",
      "text": "from [ABC186]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d14",
      "text": "ABC186F",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d15",
      "text": "\t[https://gyazo.com/ecac49bfec2162e0a6e196eff9d3cd89]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d16",
      "text": "\t[F - Rook on Grid https://atcoder.jp/contests/abc186/tasks/abc186_f]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d17",
      "text": "　かきかけ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d18",
      "text": "　考えたこと",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d19",
      "text": "　　タテヨコでたどり着く方法とヨコタテでたどり着く方法がある",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1a",
      "text": "　　個別に数えて足すと2通りの方法でたどり着けるところがダブルカウントになる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1b",
      "text": "　　ダブルカウントのものの効率良い数え方を考える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1c",
      "text": "　　[余事象を引く]方が楽ではないか？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1d",
      "text": "　　　つまり「たどり着けないマスを数えて全体から引く",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1e",
      "text": "　　　[https://gyazo.com/0bfc6272ea8fb38766722b788bda44bb]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d1f",
      "text": "　　　この交点が「たどりつけないマス」",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d20",
      "text": "　　各xにおける最小のyを`minY[x]`とする",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d21",
      "text": "　　　欲しいのは`minY[x] < y`の範囲にある`minX[y] <= x`の数",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d22",
      "text": "　　こういうパターン、見たことがあるぞ…",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d23",
      "text": "　　　Scrapboxから関連しそうなものを探す",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d24",
      "text": "\t　　\t[削除可能集合で不等号条件]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d25",
      "text": "\t　　\t[ACL1A]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d26",
      "text": "\t　　今回の目的と完全には一致しないが以下の要素は使えそう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d27",
      "text": "\t　　　[フェニック木]を使う",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d28",
      "text": "   　値域は0/1で、値の存在不在を表現",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d29",
      "text": "　　まとめた [長方形区間カウント]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2a",
      "text": "　　素朴に`minY[x] < y`の範囲にある`minX[y] <= x`の数を数えるコードを書き、同じ結果になるようにフェニック木を使うバージョンを実装",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2b",
      "text": "　　提出→WA",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2c",
      "text": "　　素朴実装とフェニック木実装の食い違いをランダムテストで調べているうちに、素朴実装が間違っていることに気づいた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2d",
      "text": "　　　こういうパターン",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2e",
      "text": "　　　[https://gyazo.com/3fc29bf88b7be3fcc5ccbe6a7b25690e]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d2f",
      "text": "　公式解説",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d30",
      "text": "　　フェニック木を使う方針はOK",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d31",
      "text": "　　たどり着けないところを数えるのではなく2通りでたどり着けるところを数えている",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe0211eaff09e0000030f44",
      "text": "　　AC",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608524062,
      "updated": 1608524063
    },
    {
      "id": "5fe01f86aff09e00009e0d32",
      "text": "  \tcode:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d33",
      "text": "  \t def solve(H, W, M, PS):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d34",
      "text": "        minX = [H] * W",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d35",
      "text": "        minY = [W] * H",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d36",
      "text": "        for x, y in PS:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d37",
      "text": "            minX[y - 1] = min(minX[y - 1], x - 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d38",
      "text": "            minY[x - 1] = min(minY[x - 1], y - 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d39",
      "text": "    ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3a",
      "text": "        ret = 0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3b",
      "text": "        # horizontal -> vertical",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3c",
      "text": "        for x in range(0, minX[0]):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3d",
      "text": "            ret += minY[x]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3e",
      "text": "    ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d3f",
      "text": "        # grouping",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d40",
      "text": "        from collections import defaultdict",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d41",
      "text": "        P2 = defaultdict(list)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d42",
      "text": "        for i in range(M):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d43",
      "text": "            x, y = PS[i]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d44",
      "text": "            P2[y - 1].append(x - 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d45",
      "text": "    ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d46",
      "text": "        bit_init(H + 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d47",
      "text": "        x0 = minX[0]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d48",
      "text": "        for y in range(0, minY[0]):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d49",
      "text": "            x1 = minX[y]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4a",
      "text": "            if x1 > x0:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4b",
      "text": "                ret += x1 - x0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4c",
      "text": "                x1 = x0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4d",
      "text": "            ret += bit_sum(x1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4e",
      "text": "            for x in P2[y]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d4f",
      "text": "                bit_set(x, 1)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d50",
      "text": "    ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d51",
      "text": "        return ret",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608524065
    },
    {
      "id": "5fe01f86aff09e00009e0d52",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    },
    {
      "id": "5fe01f86aff09e00009e0d53",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1608523654,
      "updated": 1608523654
    }
  ]
}