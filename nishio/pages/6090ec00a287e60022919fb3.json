{
  "id": "6090ec00a287e60022919fb3",
  "title": "Hatena2009-06-18",
  "created": 1245250800,
  "updated": 1245250800,
  "lines": [
    {
      "id": "6090ec24aff09e00003d21bb",
      "text": "Hatena2009-06-18",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21bc",
      "text": "code:hatena",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21bd",
      "text": " <body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21be",
      "text": " *1245324952*高精細Virtual Starへの道",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21bf",
      "text": " 渋谷行きの電車でpset, rect, circle, ringまで作って、帰りで回転を使わずに正五角形の各頂点を描くところまでできた。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c0",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c1",
      "text": " <img src=\"http://gyazo.com/ac08342ce56940d2a376ff6178903fca.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c2",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c3",
      "text": " で、次は有理数ライブラリをつくるかーと思ったら作らなくてもあった: <a href='http://www.boost.org/doc/libs/1_39_0/libs/rational/index.html'>Boost Rational Number Library</a>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c4",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c5",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c6",
      "text": " いちいちpairとか作ったら遅いかなぁとか思ったけど、早すぎる最適化は諸悪の根源だな。 void add(const rat &a0, const rat &b0, const rat &a1, const rat &b1, rat &reta, rat &retb)とかやってるけどやめよう。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c7",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c8",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21c9",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ca",
      "text": " まちがってるんだけどこれはこれでいい。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21cb",
      "text": " <img src=\"http://gyazo.com/0cf2e97e4017b266dc1028fe2ead9b44.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21cc",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21cd",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ce",
      "text": " さらに間違っている。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21cf",
      "text": " <img src=\"http://gyazo.com/9aef468b88b351fdd3fc9063210e1b8a.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d0",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d1",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d2",
      "text": " でけたでけた。高速化していないけど3分くらいかかるけど。これは2000x2000で出力してプレビューが縮小するのにまかせてある。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d3",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d4",
      "text": " <img src=\"http://gyazo.com/c50d0f5d6f8838bf17e76b4b5719f0c2.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d5",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d6",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d7",
      "text": " 回転しようとしたらばぐった！これはこれでよい。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d8",
      "text": " <img src=\"http://gyazo.com/d539592f0843c0ddd817ff8471c50f1e.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21d9",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21da",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21db",
      "text": " 構図の調整。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21dc",
      "text": " 計算間違いを1回して、計算があったけど今度は「2世代目の円の頭がちょうど上の辺に接する」という設計より「2世代目の円のまわりにできる五角形の頭がちょうど上の辺に接する」の方がきれいであることに気がついて(実際描いてみると五角形の頭が欠けてしまって美しくない)式を立て直して計算して三度目の正直。左下隅は極限の五角形の足であわせてある。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21dd",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21de",
      "text": " <img src=\"http://gyazo.com/fb30b8b956d07511be4720233ea89623.png\">",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21df",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e0",
      "text": " 1/4サイズの8回再帰で1秒、9回で4秒、10回で2分30秒。描画される円の数は6倍ずつ増えるので10回はスラッシングが原因で遅くなっているんだと思われ。じゃあvectorで作ってきたけどsetに変えるか。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e1",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e2",
      "text": " 8回再帰で1分経っても終わらないくらい低速化した。ダメダメですな。ここでhash_setとか使うといいのかなぁ。8回再帰の段階で対象オブジェクトが40万個くらいあるのでなんだかんだでコスト高いんだなぁ。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e3",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e4",
      "text": " プロファイラ掛けてみたけど純粋に計算が重い。Rationalをこの目的に特化したもので差し替えて1割速くなるかどうか…",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e5",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e6",
      "text": " <hr>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e7",
      "text": " ",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e8",
      "text": " 寝て起きて、setがそんなに遅いはずがないと確認してみたら",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21e9",
      "text": " >|cpp|",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ea",
      "text": "     for(set<g2d>::iterator it=cur.begin(), end=cur.end(); it != end; ++i){",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21eb",
      "text": " ||<",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ec",
      "text": " 絶賛無限ループでした。修正したら10回再帰で12秒で終わるようになった。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ed",
      "text": " >||",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ee",
      "text": " next.size(): 5",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ef",
      "text": " next.size(): 20",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f0",
      "text": " next.size(): 70",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f1",
      "text": " next.size(): 226",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f2",
      "text": " next.size(): 685",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f3",
      "text": " next.size(): 1995",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f4",
      "text": " next.size(): 5625",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f5",
      "text": " next.size(): 15516",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f6",
      "text": " next.size(): 42120",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f7",
      "text": " next.size(): 113070",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f8",
      "text": " ||<",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21f9",
      "text": " 最終的に一番末端の円は9765625個から113070個に削減されたことになる。",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21fa",
      "text": " </body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21fb",
      "text": " <comments>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21fc",
      "text": " <comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21fd",
      "text": " <username>reggaepunch</username>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21fe",
      "text": " <body>電車の中でもパソコンさわるんですね。<br>僕も見習おうかなぁ。。<br>電車の中では何のPCを使っているのでしょうか？</body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d21ff",
      "text": " <timestamp>1245333043</timestamp>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2200",
      "text": " </comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2201",
      "text": " <comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2202",
      "text": " <username>nishiohirokazu</username>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2203",
      "text": " <body>電車の中は適度なノイズと締め切り効果のせいか、なぜか没頭できるのです。<br>使っているマシンはMacBookです。</body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2204",
      "text": " <timestamp>1245372020</timestamp>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2205",
      "text": " </comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2206",
      "text": " <comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2207",
      "text": " <username>reggaepunch</username>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2208",
      "text": " <body>ご回答ありがとうございます。<br>マックですか。。<br>今日たまたまアップル銀座へいってきました。<br>Airがすごいですね！<br>薄すぎる。。<br><br>プログラミングするなら、Macじゃなくてもよい気がしますが。。<br>Macを使うとなにかメリットがあるのでしょうか？</body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2209",
      "text": " <timestamp>1245429736</timestamp>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220a",
      "text": " </comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220b",
      "text": " <comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220c",
      "text": " <username>nishiohirokazu</username>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220d",
      "text": " <body>特にないと思います。2年前までThinkpad使いでしたし。</body>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220e",
      "text": " <timestamp>1245448585</timestamp>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d220f",
      "text": " </comment>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2210",
      "text": " </comments>",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2211",
      "text": "",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec24aff09e00003d2212",
      "text": "[はてなダイアリー 2009-06-18 https://nishiohirokazu.hatenadiary.org/archive/2009/06/18]",
      "created": 1245250800,
      "updated": 1245250800,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}