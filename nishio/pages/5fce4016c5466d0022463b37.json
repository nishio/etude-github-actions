{
  "id": "5fce4016c5466d0022463b37",
  "title": "ARC110D nonFPS",
  "created": 1607352349,
  "updated": 1607355923,
  "lines": [
    {
      "id": "5fce4016c5466d0022463b37",
      "text": "ARC110D nonFPS",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352349,
      "updated": 1607352349
    },
    {
      "id": "5fce4031aff09e000026ec0d",
      "text": "[ARC110D]の形式的べき級数を使わない解法",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352370,
      "updated": 1607352423
    },
    {
      "id": "5fce4037aff09e000026ec0e",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352375,
      "updated": 1607352375
    },
    {
      "id": "5fce401daff09e000026ec0a",
      "text": "[https://gyazo.com/829c06c94c53cc49c05c234e5f3445c5]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352349,
      "updated": 1607352364
    },
    {
      "id": "5fce402caff09e000026ec0b",
      "text": "[D - Binomial Coefficient is Fun https://atcoder.jp/contests/arc110/tasks/arc110_d]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352364,
      "updated": 1607352364
    },
    {
      "id": "5fce402caff09e000026ec0c",
      "text": "　BiがAiより小さい時、二項係数は0になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352364,
      "updated": 1607352724
    },
    {
      "id": "5fce4119aff09e00009c2d50",
      "text": "　なのでBiが小さいケースは考える必要がない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352602,
      "updated": 1607352751
    },
    {
      "id": "5fce41aeaff09e000026ec0f",
      "text": "　[$ B_i = A_i + D_i]とする。[$ D_i \\ge 0]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352751,
      "updated": 1607352854
    },
    {
      "id": "5fce4116aff09e00009c2d4f",
      "text": "　[$ S := \\sum A_i]として、残りを[$ R:= M - S]とする",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352598,
      "updated": 1607352787
    },
    {
      "id": "5fce41d3aff09e00009c2d52",
      "text": "　[$ \\sum D_i \\le R]となる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352787,
      "updated": 1607352820
    },
    {
      "id": "5fce40f4aff09e00009c2d4e",
      "text": " 「N個の枠にR個(以下)のボールを配る」の形になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352564,
      "updated": 1607352924
    },
    {
      "id": "5fce425caff09e00009c2d54",
      "text": " 簡単のために2個の枠にちょうどK個のボールを配ることを考える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352924,
      "updated": 1607352947
    },
    {
      "id": "5fce422baff09e00009c2d53",
      "text": "\t(0, K), (1, K-1), ... , (K, 0) の配り方がある",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352876,
      "updated": 1607353000
    },
    {
      "id": "5fce42caaff09e000026ec12",
      "text": "\t求める解X2は[$ X_2 = \\sum_{i=0}^K \\binom{A_1 + i}{A_1}\\binom{A_2 + K - i}{A_2} ]になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353034,
      "updated": 1607354503
    },
    {
      "id": "5fce4285aff09e000026ec11",
      "text": "　これを素朴に実装していくつかの値について求め、そこから答えの式を予想する手もある(筆者はそうした)が、このページでは数式変形でやる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607352965,
      "updated": 1607353273
    },
    {
      "id": "5fce437daff09e00009c2d56",
      "text": "　二項係数の対称性から[$ \\binom{A_1 + i}{A_1} = \\binom{A_1 + i}{i}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353214,
      "updated": 1607353422
    },
    {
      "id": "5fce432daff09e00009c2d55",
      "text": " [$ X_2 = \\sum_{i=0}^K \\binom{A_1 + i}{i}\\binom{A_2 + K - i}{K - i} ] になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353133,
      "updated": 1607354509
    },
    {
      "id": "5fce4458aff09e000026ec13",
      "text": "\t[重複組合せ]: n個から重複を許してk個選ぶ方法の数",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353432,
      "updated": 1607353464
    },
    {
      "id": "5fce4477aff09e000026ec14",
      "text": " \t[$ H^n_k = \\binom{n + k - 1}{k}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353464,
      "updated": 1607353464
    },
    {
      "id": "5fce448aaff09e000026ec15",
      "text": "\t重複組合せの形で書く:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353482,
      "updated": 1607353984
    },
    {
      "id": "5fce4673aff09e000026ec1d",
      "text": "\t\t[$ X_2 = \\sum_{i=0}^K H^{A_1+1}_i H^{A_2+1}_{K-i} ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353972,
      "updated": 1607354512
    },
    {
      "id": "5fce44c3aff09e000026ec17",
      "text": "\tシグマの中身はA1+1個からi個、A2+1個からK-i個選ぶ重複組合せ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353539,
      "updated": 1607353899
    },
    {
      "id": "5fce4514aff09e000026ec1a",
      "text": "\t可能な全てのiについて足し合わせたものは、A1+A2+2個からK個選ぶ重複組合せになる。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353621,
      "updated": 1607353899
    },
    {
      "id": "5fce44c3aff09e000026ec18",
      "text": "\t\t[$ X_2 = H^{A_1+A_2+2}_K ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353539,
      "updated": 1607354520
    },
    {
      "id": "5fce44c3aff09e000026ec19",
      "text": "　二項係数の形に戻す",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353539,
      "updated": 1607353899
    },
    {
      "id": "5fce45f0aff09e000026ec1c",
      "text": "\t　[$ X_2 = \\binom{A_1 + A_2 + K + 1}{K}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353841,
      "updated": 1607354522
    },
    {
      "id": "5fce45caaff09e00009c2d57",
      "text": "　ここまででN=2でちょうどK個配る時の答えが一つの二項係数で表現できた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607353802,
      "updated": 1607354122
    },
    {
      "id": "5fce470aaff09e00009c2d59",
      "text": "　次は3以上のNについて考える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354122,
      "updated": 1607354136
    },
    {
      "id": "5fce4723aff09e00009c2d5a",
      "text": "　　変数Kをiにリネームする",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354147,
      "updated": 1607354532
    },
    {
      "id": "5fce4762aff09e000026ec1e",
      "text": "　　 [$ X_2 = \\binom{A_1 + A_2 + i + 1}{i}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354211,
      "updated": 1607354319
    },
    {
      "id": "5fce46daaff09e00009c2d58",
      "text": "　　この時、N=3の時のXはこうなる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354074,
      "updated": 1607354412
    },
    {
      "id": "5fce478faff09e00009c2d5c",
      "text": "　　\t[$ X_3 = \\sum_i \\binom{A_1 + A_2 + i + 1}{i} \\binom{A_3 + K - i}{K - i}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354255,
      "updated": 1607354355
    },
    {
      "id": "5fce477daff09e00009c2d5b",
      "text": "\t\tこれはA1がA1+A2+1になっただけなので上記の議論がそのまま使える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354238,
      "updated": 1607354561
    },
    {
      "id": "5fce482eaff09e00009c2d5e",
      "text": "\t\t\t[$ X_3 = \\binom{A_1 + A_2 + 1 + A_3 + K + 1}{K} = \\binom{A_1 + A_2 + A_3 + K + 3 - 1}{K}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354414,
      "updated": 1607354758
    },
    {
      "id": "5fce47f9aff09e00009c2d5d",
      "text": "　一般のNの時:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354362,
      "updated": 1607354782
    },
    {
      "id": "5fce485daff09e00009c2d5f",
      "text": "\t\t[$ X_N = \\binom{S + K + N - 1}{K} ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354462,
      "updated": 1607354812
    },
    {
      "id": "5fce4947aff09e00009c2d60",
      "text": "\t\tこれはちょうどK個配る時の解だった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354696,
      "updated": 1607354808
    },
    {
      "id": "5fce49c0aff09e00009c2d61",
      "text": "\t\t問題が求めている答えXはR以下のすべての和",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354817,
      "updated": 1607354848
    },
    {
      "id": "5fce487baff09e000026ec1f",
      "text": "\t\t\t[$ X = \\sum_{K=0}^R \\binom{S + K + N - 1}{K}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354491,
      "updated": 1607354874
    },
    {
      "id": "5fce49d5aff09e000026ec21",
      "text": " [ホッケースティック恒等式]:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354837,
      "updated": 1607354938
    },
    {
      "id": "5fce4a28aff09e000026ec22",
      "text": " \t[$ \\sum_{i=0}^k \\binom{n+i}{i} = \\binom{n+k+1}{k} ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354920,
      "updated": 1607354923
    },
    {
      "id": "5fce4aa6aff09e000026ec25",
      "text": "\tホッケースティック恒等式で和を求める",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355047,
      "updated": 1607355065
    },
    {
      "id": "5fce4a34aff09e000026ec23",
      "text": "\t\t[$ X = \\sum_{K=0}^R \\binom{S + K + N - 1}{K} = \\sum_{K=0}^R \\binom{S + N - 1 + K}{K} = \\binom{S + N - 1 + R + 1}{R} = \\binom{S + N + R}{R} ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354932,
      "updated": 1607355050
    },
    {
      "id": "5fce4a4faff09e000026ec24",
      "text": "\t二項係数の対称性から",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607354960,
      "updated": 1607355265
    },
    {
      "id": "5fce4b81aff09e000026ec29",
      "text": "\t\t[$ X = \\binom{S + N + R}{R} = \\binom{S + N + R}{S + N}]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355265,
      "updated": 1607355283
    },
    {
      "id": "5fce4b7baff09e000026ec28",
      "text": "\t[$ R:= M - S]なので",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355260,
      "updated": 1607355260
    },
    {
      "id": "5fce4ae4aff09e000026ec26",
      "text": "\t\t[$ X = \\binom{S + N + R}{S + N} = \\binom{N + M}{S + N} ]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355109,
      "updated": 1607355294
    },
    {
      "id": "5fce4af5aff09e000026ec27",
      "text": "　これで求めるべき値が一つの二項係数にまとまった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355125,
      "updated": 1607355359
    },
    {
      "id": "5fce4bdfaff09e00009c2d63",
      "text": "　N+Mは10^9ぐらいになるが、S+Nは10^7にならないので適切に実装すれば間に合う",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355359,
      "updated": 1607355921
    },
    {
      "id": "5fce4e10aff09e000026ec2a",
      "text": "　\t[巨大なnについての二項係数]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1607355921,
      "updated": 1607355921
    }
  ]
}