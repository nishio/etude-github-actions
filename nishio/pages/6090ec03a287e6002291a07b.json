{
  "id": "6090ec03a287e6002291a07b",
  "title": "Hatena2010-03-08",
  "created": 1267974000,
  "updated": 1267974000,
  "lines": [
    {
      "id": "6090ec27aff09e00003d4d9e",
      "text": "Hatena2010-03-08",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4d9f",
      "text": "code:hatena",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da0",
      "text": " <body>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da1",
      "text": " *1268017610*色の識別テスト",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da2",
      "text": " http://www.colormunki.com/game/huetest_kiosk",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da3",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da4",
      "text": " <img src=\"http://gyazo.com/c9a9fa016d3cfed35ed1a248eb1d73f6.png\">",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da5",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da6",
      "text": " <img src=\"http://gyazo.com/682bb216a97bcf12cb73ed6c209c9c5e.png\">",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da7",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da8",
      "text": " <img src=\"http://gyazo.com/dd9307615de2481df49c67aacc6a7c12.png\">",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4da9",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4daa",
      "text": " うーん、真ん中より少し上ってくらいか。わかりにくいから偏差値で表現して欲しいなぁ。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dab",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dac",
      "text": " *1268030174*お詫びと訂正",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dad",
      "text": " <a href='http://d.hatena.ne.jp/nishiohirokazu/20100304/1267706162'>竹内郁雄先生のアイコ問題について</a>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dae",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4daf",
      "text": " はっ、2桁のくり上がりのない足し算が間違っている！(ぇ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db0",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db1",
      "text": " *1268032676*レバレッジメモ：いのこさんのラブレター",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db2",
      "text": " http://takasumasakazu.tumblr.com/post/417646589",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db3",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db4",
      "text": " いい話だったのにすぐにメモしなかったから行方不明になってしまった。thanks @hal_sk !",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db5",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db6",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db7",
      "text": " >>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db8",
      "text": " チヤホヤは、必ず、いつか、反動が来る。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4db9",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dba",
      "text": " 腰を低く（物理的に低く）、さわやかに挨拶（物理的に大きな声で）、後は、本質的なバリューが高ければ、絶対大丈夫",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dbb",
      "text": " <<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dbc",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dbd",
      "text": " *1268038641*指数関数に関わる浮動小数点数のクイズ(解答編)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dbe",
      "text": " <a href='http://homepage1.nifty.com/herumi/diary/1003.html#6'>melancholic afternoon</a>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dbf",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc0",
      "text": " 昼休みに光成さんに「日記に書いたパズルが、解くのに必要な量のヒントが与えられているか、それとも足りないのかを(この手の問題をやりこんでいる)自分では判断できないので解いてみて欲しい」と言われたので解いてみました。結果から言うと、僕が90分考えれば解ける程度のレベルでした。(簡単という意味ではない)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc1",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc2",
      "text": " >>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc3",
      "text": " 次の関数はfmat.hppのexp()に使われているロジックをCで書いたものである. そこに現れる各定数は何を意味するのか, どういうロジックなのか答えよ(ただし -88 <= x <= 88としてよい -- そうじゃなければ0か∞なので).",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc4",
      "text": " <<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc5",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc6",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc7",
      "text": " unsigned int tbl[1024]; // 実行時に一度だけ初期化される",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc8",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dc9",
      "text": " union fi {",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dca",
      "text": "     float f;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dcb",
      "text": "     unsigned int i;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dcc",
      "text": " };",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dcd",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dce",
      "text": " float expC(float x)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dcf",
      "text": " {",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd0",
      "text": "     float t1 = x * 1.4773197e3 + 12582912; // (1)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd1",
      "text": "     fi fi;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd2",
      "text": "     fi.f = t1;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd3",
      "text": "     float t2 = x - (t1 - 12582912) * 6.7690155e-4; // (2)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd4",
      "text": "     unsigned int u = ((fi.i + 130048) >> 10) << 23; // (3)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd5",
      "text": "     fi.i = u | tbl[fi.i & 1023]; // (4)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd6",
      "text": "     return (1 + t2) * fi.f; // (5)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd7",
      "text": " }",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd8",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dd9",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dda",
      "text": " それではネタバレ防止のために適当な数列を挟んでから僕がどうやって考えたかの解説を：",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4ddb",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4ddc",
      "text": " 52",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4ddd",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dde",
      "text": " 26",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4ddf",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de0",
      "text": " 13",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de1",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de2",
      "text": " 40",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de3",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de4",
      "text": " 20",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de5",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de6",
      "text": " 10",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de7",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de8",
      "text": " 5",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4de9",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dea",
      "text": " 16",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4deb",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dec",
      "text": " 8",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4ded",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dee",
      "text": " 4",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4def",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df0",
      "text": " 2",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df1",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df2",
      "text": " 1",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df3",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df4",
      "text": " まず、floatって何だ？という基礎を確認する。<a href='http://ja.wikipedia.org/wiki/%E6%B5%AE%E5%8B%95%E5%B0%8F%E6%95%B0%E7%82%B9%E6%95%B0'>浮動小数点数 - Wikipedia</a>。floatはIEEE754方式では1ビットの符号、8ビットの指数部, 23ビットの仮数分の仮数部からなる。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df5",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df6",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df7",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df8",
      "text": " 次に12582912とか130048がどういう値なのか2進法表現に変えてみる。もちろん1023は111111111ね。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4df9",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dfa",
      "text": " >|python|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dfb",
      "text": " In [12]: def to2(x):",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dfc",
      "text": "    ....:     buf = []",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dfd",
      "text": "    ....:     while x:",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dfe",
      "text": "    ....:         buf.insert(0, x % 2)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4dff",
      "text": "    ....:         x /= 2",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e00",
      "text": "    ....:     return \"\".join(map(str, buf))",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e01",
      "text": "    ....:",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e02",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e03",
      "text": " In [13]: to2(10)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e04",
      "text": " Out[13]: '1010'",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e05",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e06",
      "text": " In [14]: to2(130048)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e07",
      "text": " Out[14]: '11111110000000000'",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e08",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e09",
      "text": " In [15]: to2(12582912)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0a",
      "text": " Out[15]: '110000000000000000000000'",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0b",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0c",
      "text": " In [16]: len(_)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0d",
      "text": " Out[16]: 24",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0e",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e0f",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e10",
      "text": " あれ、24ビットもある。floatの仮数部の精度は23ビットしかないのに。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e11",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e12",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e13",
      "text": " 次に1.4773197e3とかがなんなのかを確認するためにこんなコードを書いてみる。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e14",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e15",
      "text": " typedef union Float {",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e16",
      "text": "   float    f;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e17",
      "text": "   unsigned i;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e18",
      "text": " } Float;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e19",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1a",
      "text": " int main(){",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1b",
      "text": "   Float a;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1c",
      "text": "   a.f = 6.7690155e-4;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1d",
      "text": "   printf(\"%d\\n\", a.i);",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1e",
      "text": " }",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e1f",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e20",
      "text": " がしかし、ビット表現を見てもよくわからない。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e21",
      "text": " >||",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e22",
      "text": " 0 10001001 01110001010101000111011 // a",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e23",
      "text": " 0 10010110 10000000000000000000000 // b",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e24",
      "text": " 0 01110100 01100010111001000011000 // c",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e25",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e26",
      "text": " んー。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e27",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e28",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e29",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2a",
      "text": " しばらく数値だけに着目して色々試してみたけど成果が得られず、ソースコードを読むことにする。130048 は 11111110000000000 1が7個0が10個だった。つまり、",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2b",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2c",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2d",
      "text": " unsigned int u = ((fi.i + 130048) >> 10) << 23; // (3)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2e",
      "text": " fi.i = u | tbl[fi.i & 1023]; // (4)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e2f",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e30",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e31",
      "text": " というコードは「下10ビットにテーブル引き用の値が入っていて、その上の7ビットには指数部に入れるべき値がオフセットなしで入っている」ということか。つまりこれが終わった時点でfiの値はテーブルから取ってきた値の指数部を書き換えたものになっているわけだから",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e32",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e33",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e34",
      "text": "     return (1 + t2) * fi.f;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e35",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e36",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e37",
      "text": " というのはつまりテーブル引きした値から補正するための情報がt2に入っているということだな。 ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e38",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e39",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3a",
      "text": " xと(t1 & 130048) >> 10の関係を調べる。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3b",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3c",
      "text": " int main(){",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3d",
      "text": "   Float a;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3e",
      "text": "   for(float x=0.0; x<10; x+=0.1){",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e3f",
      "text": "     a.f = x * 1.4773197e3 + 12582912;    ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e40",
      "text": "     printf(\"%f, %d\\n\", x, (a.i & 130048) >> 10);",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e41",
      "text": "   }",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e42",
      "text": " }",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e43",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e44",
      "text": " 結果：",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e45",
      "text": " >||",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e46",
      "text": " 0.000000, 0",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e47",
      "text": " ...",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e48",
      "text": " 0.600000, 0",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e49",
      "text": " 0.700000, 1",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4a",
      "text": " ...",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4b",
      "text": " 1.300000, 1",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4c",
      "text": " 1.400000, 2",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4d",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4e",
      "text": " ふむふむ。0.7ごとに1増えるのか。exp(0.7)はおよそ2だろうな。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e4f",
      "text": " >|python|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e50",
      "text": " In[64]: 1024 / log(2)",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e51",
      "text": " Out[64]: 1477.3197218702985",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e52",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e53",
      "text": " 正解。1.4773197e3の意味はわかった。xにこの値を掛けると、x * 1024 / log(2)はxがlog(2)倍になると1024増える。xがlog(2)倍になるということはexp(x)が2倍になるということだ。なのでこの値の下10ビットを捨てて指数部オフセットの1111111を足してやればexp(x)の指数部として使えるというわけだ。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e54",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e55",
      "text": " bが必要な理由もおのずと明らかだ。「下10ビットを捨てて」などとまるで整数のビット演算のように語っているけども、これは「浮動」小数点数なので勝手に小数点が移動してしまう。値が1だとしても、最下位ビットが1になってくれない。そこで12582912(これは3 << 22)を足して、浮動小数点数の一番下のビットが整数で言うところの1の位になるようにしている。1 << 23 ではなく 3 << 22 なのは今回 x * 1.4773197e3 が負の値を取りうるからだ。1 << 23 では負の値が来たときにくり下がりで24ビット目が0になってしまう。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e56",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e57",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e58",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e59",
      "text": " 最後に誤差の見積に関して。x * aはbを足したことで小数点以下が丸められてしまっている。そこでbを引いてaの逆数を掛けることで元の形に戻してやって、元々のxから引くことで「テーブル引きのために丸めたことでどれくらいxがずれたか(Δx)」を求める。これがt2。そしてテーブル引きした値に (1 + t2)を掛けている。これはテーブル引きした値に x * Δx を足しているわけだ。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5a",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5b",
      "text": " >|cpp|",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5c",
      "text": "     return (1 + t2) * fi.f;",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5d",
      "text": " ||<",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5e",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e5f",
      "text": " exp(x)の導関数はxなのでこれはx軸方向のズレに傾きを掛けて一次近似で求めていることになる。ってことは誤差としてはxの2乗以降の項が残ることになる。Δxは1/2048未満なのでその2乗の誤差が入っても22ビットくらいの精度がある。exp(x)のマクローリン展開の2次の項はx^2/2だから23ビットあるんじゃないかという気もする。",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e60",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e61",
      "text": " *1268052782*“And Then There Was Salsa”",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e62",
      "text": " http://vimeo.com/9194146",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e63",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e64",
      "text": " これembedしたらどうなるんだろうと思ったので試してみる:",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e65",
      "text": " ",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e66",
      "text": " <object width=\"400\" height=\"225\"><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"http://vimeo.com/moogaloop.swf?clip_id=9194146&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1\" /><embed src=\"http://vimeo.com/moogaloop.swf?clip_id=9194146&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"400\" height=\"225\"></embed></object><p><a href=\"http://vimeo.com/9194146\">“And Then There Was Salsa”</a> from <a href=\"http://vimeo.com/user3100787\">Frito Lay Dips</a> on <a href=\"http://vimeo.com\">Vimeo</a>.</p>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e67",
      "text": " </body>",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e68",
      "text": "",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4e69",
      "text": "[はてなダイアリー 2010-03-08 https://nishiohirokazu.hatenadiary.org/archive/2010/03/08]",
      "created": 1267974000,
      "updated": 1267974000,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}