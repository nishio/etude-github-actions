{
  "id": "6090ebf4a287e60022919dcf",
  "title": "Hatena2008-01-22",
  "created": 1200927600,
  "updated": 1200927600,
  "lines": [
    {
      "id": "6090ec1aaff09e00003c6250",
      "text": "Hatena2008-01-22",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6251",
      "text": "code:hatena",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6252",
      "text": " <body>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6253",
      "text": " *1200971421*Scheme通勤",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6254",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6255",
      "text": " >>> ConsList([])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6256",
      "text": " ()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6257",
      "text": " >>> ConsList([1])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6258",
      "text": " (1 . ())",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6259",
      "text": " >>> ConsList([1, 2])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625a",
      "text": " (1 . (2 . ()))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625b",
      "text": " >>> ConsList([1, 2, \".\", 3])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625c",
      "text": " (1 . (2 . 3))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625d",
      "text": " >>> ConsList([1, [10, 20], \".\", 3])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625e",
      "text": " (1 . ((10 . (20 . ())) . 3))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c625f",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6260",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6261",
      "text": " ここまでできた。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6262",
      "text": " (1 . (2 . ()))を(1 2)って表示する側はまだできてない。再帰呼び出しで素直に書く方法があるのかなぁ。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6263",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6264",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6265",
      "text": " class Pair(object):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6266",
      "text": "     def __init__(self, car, cdr):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6267",
      "text": "         self.car = car",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6268",
      "text": "         self.cdr = cdr",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6269",
      "text": "     def __repr__(self):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626a",
      "text": "         return \"(%s . %s)\" % (self.car, self.cdr)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626b",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626c",
      "text": " class NULL(object):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626d",
      "text": "     def __repr__(self):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626e",
      "text": "         return \"()\"",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c626f",
      "text": " NULL = NULL()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6270",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6271",
      "text": " class ConsList(object):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6272",
      "text": "     def __init__(self, xs=[]):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6273",
      "text": "         if len(xs) == 0:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6274",
      "text": "             self.v = NULL",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6275",
      "text": "         else:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6276",
      "text": "             if isinstance(xs[0], list):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6277",
      "text": "                 xs[0] = ConsList(xs[0])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6278",
      "text": "                 ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6279",
      "text": "             if len(xs) == 3 and xs[1] == \".\":",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627a",
      "text": "                 self.v = Pair(xs[0], xs[2])",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627b",
      "text": "             elif len(xs) == 1:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627c",
      "text": "                 self.v = Pair(xs[0], NULL)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627d",
      "text": "             else:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627e",
      "text": "                 self.v = Pair(xs[0], ConsList(xs[1:]))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c627f",
      "text": "     ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6280",
      "text": "     def setv(self, v):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6281",
      "text": "         self.v = v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6282",
      "text": "         return self",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6283",
      "text": "         ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6284",
      "text": "     def __repr__(self):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6285",
      "text": "         return str(self.v)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6286",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6287",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6288",
      "text": " *1200994435*アパッチ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6289",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628a",
      "text": " 思ったより近かった。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628b",
      "text": " f:id:nishiohirokazu:20080122183346j:image",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628c",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628d",
      "text": " *1200998091*R5RS",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628e",
      "text": " 疑問に思ったことはたいがいR5RSを読んだら書いてある。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c628f",
      "text": " PythonでR5RSに相当するものは<a href=\"http://www.python.jp/doc/2.4/lib/lib.html\">Python ライブラリリファレンス</a>と<a href=\"http://www.python.jp/doc/2.4/ref/ref.html\">Python リファレンスマニュアル</a>だ。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6290",
      "text": " HaskellでR5RSに相当するものは何だろう。<a href=\"http://www.sampou.org/haskell/report-revised-j/index.html\">The Haskell 98 Language Report</a>でいいのかな？",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6291",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6292",
      "text": " *1200998536*末尾再帰的",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6293",
      "text": " >>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6294",
      "text": " Scheme の実装は真正に末尾再帰的であることが要求されている。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6295",
      "text": " <<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6296",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6297",
      "text": " だって。末尾呼び出しの最適化を実装していないとSchemeではないらしい。実装できるかなー。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6298",
      "text": " Unlambdaを実装したときにcall/ccは作ったんだけど、あんな感じでいいのかな。継続を毎回渡して、最後は継続を呼ぶっての。CPSって言うの？",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6299",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629a",
      "text": " あー、あと「数値定数，文字列定数，文字定数，ブーリアン定数は“それ自身へと” 評価される。」を見てて気づいたんだけど、今evaluateのタイミングで\"123\"を123に変換しているのは正しくないな。パースして木を作った時点で整数オブジェクトに変換しておくべき…。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629b",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629c",
      "text": " *1201012417*くみくみスロープ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629d",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629e",
      "text": " 面白い",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c629f",
      "text": " f:id:nishiohirokazu:20080122233321j:image",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a0",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a1",
      "text": " *1201020081*Re: 関数プログラミングのアプローチ (3)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a2",
      "text": " 関数プログラミングのアプローチ (3) - lethevert is a programmer",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a3",
      "text": " http://d.hatena.ne.jp/lethevert/20071014/p2",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a4",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a5",
      "text": " 咀嚼中…。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a6",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a7",
      "text": " スコープが切り替わるんだ、ってところがピンと来にくいので関数呼び出しで置き換えてみた。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a8",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62a9",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62aa",
      "text": " class RandState(object):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ab",
      "text": "     def __init__(self, x, y, z, w, t):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ac",
      "text": "         self.x, self.y, self.z, self.w, self.t = x, y, z, w, t",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ad",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ae",
      "text": "     @staticmethod",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62af",
      "text": "     def new ():",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b0",
      "text": "         return RandState(123456789, 362436069, 521288629, 88675123, 1)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b1",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b2",
      "text": " def rand(r):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b3",
      "text": "     t =(r.x ^ (r.x << 11)) & 0xffffffff",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b4",
      "text": "     x = r.y & 0xffffffff",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b5",
      "text": "     y = r.z & 0xffffffff",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b6",
      "text": "     z = r.w & 0xffffffff",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b7",
      "text": "     w = (r.w ^ (r.w >> 19)) ^ (t ^ (t >> 8)) & 0xffffffff",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b8",
      "text": "     return w, RandState(x, y, z, w, t)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62b9",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ba",
      "text": " r = RandState.new()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62bb",
      "text": " i, r = rand(r)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62bc",
      "text": " print i #=> 3701687786",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62bd",
      "text": " i, r = rand(r)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62be",
      "text": " print i #=> 458299110",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62bf",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c0",
      "text": " def print_first_and_return_second(args):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c1",
      "text": "     print args[0]",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c2",
      "text": "     return args[1]",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c3",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c4",
      "text": " print_first_and_return_second(",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c5",
      "text": "     rand(",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c6",
      "text": "         print_first_and_return_second(",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c7",
      "text": "             rand(",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c8",
      "text": "                 RandState.new())))) # 同じ出力",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62c9",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ca",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62cb",
      "text": " 同じrという名前の変数に入れているように見えても、それは1つめのrは2つめのprint_first_and_return_secondのargs[0]、2つめのrは1つめのpri...ndのargs[0]なので「同じ変数」ではないということ。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62cc",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62cd",
      "text": " *1201022545*Re: 関数プログラミングのアプローチ (6) 前半",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ce",
      "text": " 関数プログラミングのアプローチ (6) - lethevert is a programmer",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62cf",
      "text": " http://d.hatena.ne.jp/lethevert/20071027/p1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d0",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d1",
      "text": " 咀嚼中。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d2",
      "text": " __next__のような2つのアンダーバーで囲まれたメソッドはPython処理系が特殊な意味のメソッドを実装するためのものなので勝手に使うのはあんまりよくない。Pythonの無限リストを作るのかと勘違いした。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d3",
      "text": " Pythonの無限リストは「あるオブジェクトが内部状態を変更しながらnextが呼ばれるたびに次の値を返していく」ってものだから、もちろん関数型言語の文脈での無限リストとは別のもの。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d4",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d5",
      "text": " LazyListクラスがとてもリストっぽくないけど、これってようするに「__next__が最初に呼ばれるときまで評価を遅延させるもの」だよね。説明の流れからサンクという言葉を出したくなかったのかと思うけど、僕は自分が咀嚼したいだけだからサンクに変えちゃう。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d6",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d7",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d8",
      "text": " # -*- coding: cp932 -*-",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62d9",
      "text": " class Thunk(object):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62da",
      "text": "     def __init__(self, func):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62db",
      "text": "         self.is_defined = False",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62dc",
      "text": "         self.func = func",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62dd",
      "text": "     def __call__(self):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62de",
      "text": "         if not self.is_defined:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62df",
      "text": "             self.value = self.func()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e0",
      "text": "             self.is_defined = True",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e1",
      "text": "         return self.value",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e2",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e3",
      "text": " def one():",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e4",
      "text": "     \"評価されるとone!と叫んで1を返す\"",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e5",
      "text": "     print \"one!\"",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e6",
      "text": "     return 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e7",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e8",
      "text": " t = Thunk(one)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62e9",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ea",
      "text": " print t()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62eb",
      "text": " # one!",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ec",
      "text": " # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ed",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ee",
      "text": " print t()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ef",
      "text": " # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f0",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f1",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f2",
      "text": " で、下のように遅延リストが書ける。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f3",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f4",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f5",
      "text": " def repeat(n):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f6",
      "text": "     \"与えられた数を繰り返す遅延リスト\"",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f7",
      "text": "     def f():",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f8",
      "text": "         return (n, Thunk(f))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62f9",
      "text": "     return Thunk(f)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62fa",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62fb",
      "text": " ls = repeat(1)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62fc",
      "text": " x, ls = ls()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62fd",
      "text": " print x # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62fe",
      "text": " x, ls = ls()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c62ff",
      "text": " print x # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6300",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6301",
      "text": " def count(n):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6302",
      "text": "     \"与えられた数からカウントアップする遅延リスト\"",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6303",
      "text": "     def f(m):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6304",
      "text": "         return (m, Thunk(lambda: f(m + 1)))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6305",
      "text": "     return Thunk(lambda: f(n))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6306",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6307",
      "text": " ls = count(1)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6308",
      "text": " x, ls = ls()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6309",
      "text": " print x # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630a",
      "text": " x, ls = ls()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630b",
      "text": " print x # 2",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630c",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630d",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630e",
      "text": " ちなみにrepeatとcountはPythonに標準で付いてきている無限リスト：<a href=\"http://www.python.jp/doc/2.4/lib/itertools-functions.html\">5.15.1 Itertool関数</a>の中での名前。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c630f",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6310",
      "text": " -----",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6311",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6312",
      "text": " あ、そっか。lsはリスト的なものだと思ってしまうけど、そうではなくて「リストの次の値(ただしまだ評価していない)」なんだな。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6313",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6314",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6315",
      "text": " next = count(1)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6316",
      "text": " x, next = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6317",
      "text": " print x # 1",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6318",
      "text": " x, next = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6319",
      "text": " print x # 2",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631a",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631b",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631c",
      "text": " 次があるかどうかは評価してみないとわからない。nextを呼んでみないとわからない。nextを呼んで次がなかったらNoneが返る。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631d",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631e",
      "text": " -----",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c631f",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6320",
      "text": " 後半。元々のThunkがnext()でNoneが返った(つまり「リストはもう残ってない」)時には何もしないで暗黙にNoneを返すようになっていたからそれに全部合わせてみたけど、読みやすさを考えると明示的にreturn Noneした方がいいのかも知れない。ちなみにPythonにはStopIterationって例外があるからこれを投げずに返してやってもいいかもしれない。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6321",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6322",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6323",
      "text": " def mapL(func, next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6324",
      "text": "     def f(next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6325",
      "text": "         v = ls()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6326",
      "text": "         if v:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6327",
      "text": "             x, next = v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6328",
      "text": "             return func(x), Thunk(lambda: f(next))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6329",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632a",
      "text": "     return Thunk(lambda: f(ls))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632b",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632c",
      "text": " def takeL(n, next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632d",
      "text": "     def f(n, next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632e",
      "text": "         if n <= 0:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c632f",
      "text": "             return None",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6330",
      "text": "         v = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6331",
      "text": "         if v:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6332",
      "text": "             x, next = v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6333",
      "text": "             return x, Thunk(lambda: f(n - 1, next))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6334",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6335",
      "text": "     return Thunk(lambda: f(n, next))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6336",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6337",
      "text": " def forceList(next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6338",
      "text": "     ret = []",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6339",
      "text": "     v = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633a",
      "text": "     while v:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633b",
      "text": "         x, next = v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633c",
      "text": "         ret.append(x)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633d",
      "text": "         v = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633e",
      "text": "     return ret",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c633f",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6340",
      "text": " print forceList(takeL(5, count(5)))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6341",
      "text": " # [5, 6, 7, 8, 9]",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6342",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6343",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6344",
      "text": " >|python|",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6345",
      "text": " def groupL(n, next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6346",
      "text": "     def f(next):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6347",
      "text": "         ret = []",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6348",
      "text": "         for i in range(n):",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6349",
      "text": "             v = next()",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634a",
      "text": "             if v:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634b",
      "text": "                 x, next = v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634c",
      "text": "                 ret.append(x)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634d",
      "text": "             elif ret:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634e",
      "text": "                 return ret, Thunk(lambda: v)",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c634f",
      "text": "             else:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6350",
      "text": "                 return v",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6351",
      "text": "         else:",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6352",
      "text": "             return ret, Thunk(lambda: f(next))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6353",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6354",
      "text": "     return Thunk(lambda: f(next))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6355",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6356",
      "text": " print forceList(takeL(3, groupL(3,count(5))))",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6357",
      "text": " # [[5, 6, 7], [8, 9, 10], [11, 12, 13]]",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6358",
      "text": " ||<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6359",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635a",
      "text": " -----",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635b",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635c",
      "text": " なるほど、(7)で乱数も無限リストだと言うためにああいうコードになっていたのか。よく考えられている…。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635d",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635e",
      "text": " -----",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c635f",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6360",
      "text": " わー、(8)でThunkって名前に変わってる！",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6361",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6362",
      "text": " >>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6363",
      "text": " このコードは next(x)を実行すると遅延リストではなく 3 を返します。これは、1 + 2という計算の呼出を、next()が呼ばれるまで遅らせていると考えることができます。このようなデータ構造を一般的にThunkと呼びます。上の LazyListをThunkという名前に書き換えたものを、下に掲載します。",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6364",
      "text": " <<",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6365",
      "text": " ",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6366",
      "text": " *1201026322*ねむい",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6367",
      "text": " 日々わからないことが増えていく",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6368",
      "text": " - <a href=\"http://ja.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%9A%84%E6%84%8F%E5%91%B3%E8%AB%96\">操作的意味論 - Wikipedia</a>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c6369",
      "text": " - <a href=\"http://d.hatena.ne.jp/m-hiyama/20080116/1200468797\">CPS（継続渡し方式）変換をJavaScriptで説明してみるべ、ナーニ、たいしたことねーべよ - 檜山正幸のキマイラ飼育記</a>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c636a",
      "text": " - <a href=\"http://d.hatena.ne.jp/m-hiyama/20080117/1200530398\">CPS（継続渡し方式）変換で裏返る理由 - 檜山正幸のキマイラ飼育記</a>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c636b",
      "text": " - 反変関手",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c636c",
      "text": " </body>",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c636d",
      "text": "",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1aaff09e00003c636e",
      "text": "[はてなダイアリー 2008-01-22 https://nishiohirokazu.hatenadiary.org/archive/2008/01/22]",
      "created": 1200927600,
      "updated": 1200927600,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}