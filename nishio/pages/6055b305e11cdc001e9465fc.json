{
  "id": "6055b305e11cdc001e9465fc",
  "title": "✅画像をGyazoにアップロード",
  "created": 1616229127,
  "updated": 1616238149,
  "lines": [
    {
      "id": "6055b305e11cdc001e9465fc",
      "text": "✅画像をGyazoにアップロード",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229127,
      "updated": 1616231188
    },
    {
      "id": "6055b307aff09e0000d18be2",
      "text": "code:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229127,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be4",
      "text": " def upload_to_gyazo(asin):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be5",
      "text": "     local_filename = f\"gyazo_cache/{asin}.txt\"",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be6",
      "text": "     if os.path.isfile(local_filename):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be7",
      "text": "         return open(local_filename).read()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be8",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18be9",
      "text": "     url = 'https://upload.gyazo.com/upload.cgi'",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18bea",
      "text": "     image_filaname = f\"image_cache/{asin}.jpg\"",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18beb",
      "text": "     files = {'imagedata': (image_filaname, open(image_filaname, \"rb\").read())}",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18bec",
      "text": "     r = requests.post(url, files=files)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18bed",
      "text": "     open(local_filename, \"w\").write(r.text)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18bee",
      "text": "     return r.text",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055b30baff09e0000d18bef",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229132,
      "updated": 1616229132
    },
    {
      "id": "6055d60baff09e000028ffad",
      "text": "追記",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616238092,
      "updated": 1616238094
    },
    {
      "id": "6055d60eaff09e000028ffae",
      "text": "　Gyazoへのアップロードがエラーになった時にエラーメッセージがキャッシュに書かれるのを直した方が良い",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616238095,
      "updated": 1616238149
    },
    {
      "id": "6055b307aff09e0000d18be3",
      "text": "画像を[Gyazo]にアップロード",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229129,
      "updated": 1616229141
    },
    {
      "id": "6055b312aff09e0000d18bf0",
      "text": "[Gyazo API]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229138,
      "updated": 1616229146
    },
    {
      "id": "6055b318aff09e0000d18bf1",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229144,
      "updated": 1616229144
    }
  ]
}