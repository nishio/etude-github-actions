{
  "id": "60235f26d8c393001c397452",
  "title": "React.forwardRef",
  "created": 1612930856,
  "updated": 1630424028,
  "lines": [
    {
      "id": "60235f26d8c393001c397452",
      "text": "React.forwardRef",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930856,
      "updated": 1612931042
    },
    {
      "id": "612e4267aff09e0000e7932a",
      "text": "どういう時に要求されるのかよくわからない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630421607,
      "updated": 1630423923
    },
    {
      "id": "612e4b87aff09e0000e7932d",
      "text": "code:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423944,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7932e",
      "text": " type PropsType = { id: ItemId };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7932f",
      "text": " export const BigMenuItem = React.forwardRef<HTMLLIElement, PropsType>(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79330",
      "text": "   ({ id }, ref) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79331",
      "text": "     const onBig = () => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79332",
      "text": "       updateGlobal((g) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79333",
      "text": "         const item = get_item(g, id);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79334",
      "text": "         item.scale++;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79335",
      "text": "       });",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79336",
      "text": "       close_menu();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79337",
      "text": "     };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79338",
      "text": " ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e79339",
      "text": "     return (",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933a",
      "text": "       <MenuItem onClick={onBig} ref={ref} data-testid=\"big\">",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933b",
      "text": "         big",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933c",
      "text": "       </MenuItem>",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933d",
      "text": "     );",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933e",
      "text": "   }",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b89aff09e0000e7933f",
      "text": " );",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423946,
      "updated": 1630423946
    },
    {
      "id": "612e4b8baff09e0000e79341",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423948,
      "updated": 1630423949
    },
    {
      "id": "612e4267aff09e0000e7932b",
      "text": "---",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630421607,
      "updated": 1630421612
    },
    {
      "id": "60235fd1aff09e000068899c",
      "text": "React.forwardRefは、型としては関数コンポーネントを引数に取れないようだ。実装としては取れる。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612931025,
      "updated": 1612931080
    },
    {
      "id": "60235fe6aff09e0000c0e028",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612931046,
      "updated": 1612931046
    },
    {
      "id": "60235f27aff09e0000c0e000",
      "text": "`function React.forwardRef<unknown, {}>(render: React.ForwardRefRenderFunction<unknown, {}>): React.ForwardRefExoticComponent<React.RefAttributes<unknown>>`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930856,
      "updated": 1612930857
    },
    {
      "id": "60235f28aff09e0000c0e001",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930856,
      "updated": 1612930856
    },
    {
      "id": "6023f9c8aff09e0000dcf6a3",
      "text": "引数にReact.FCを指定するとエラーになる。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612970441,
      "updated": 1612970467
    },
    {
      "id": "60235f5daff09e0000c0e002",
      "text": ">Argument of type 'FC<Props>' is not assignable to parameter of type 'ForwardRefRenderFunction<unknown, Props>'.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930910,
      "updated": 1612930915
    },
    {
      "id": "60235f5eaff09e0000c0e003",
      "text": "\tcode:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930910,
      "updated": 1612930918
    },
    {
      "id": "60235f66aff09e0000c0e005",
      "text": "\t const _MenuItem: React.FC<Props> = (props) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930918,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e006",
      "text": "    const { title, onClick, ref, ...other } = props;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e007",
      "text": "    const f = () => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e008",
      "text": "      handleClose();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e009",
      "text": "      onClick();",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00a",
      "text": "    };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00b",
      "text": "    return (",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00c",
      "text": "      <MenuItem onClick={f} {...other} ref={ref}>",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00d",
      "text": "        {title}",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00e",
      "text": "      </MenuItem>",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e00f",
      "text": "    );",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e010",
      "text": "  };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e011",
      "text": "  ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235f6eaff09e0000c0e012",
      "text": "  export const AutoCloseMenuItem = React.forwardRef(_MenuItem);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930933
    },
    {
      "id": "60235f6eaff09e0000c0e014",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930928,
      "updated": 1612930928
    },
    {
      "id": "60235fa1aff09e0000c0e015",
      "text": "同じ実装でも型をFCだと宣言しなければOK",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930977,
      "updated": 1612970528
    },
    {
      "id": "60235fa2aff09e0000c0e016",
      "text": "\tcode:ts",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930979,
      "updated": 1612930983
    },
    {
      "id": "60235fa8aff09e0000c0e018",
      "text": "\t const _MenuItem = (props: Props) => {",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930985,
      "updated": 1612930985
    },
    {
      "id": "60236039aff09e0000c0e02a",
      "text": "\t \t... // (same)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612931130,
      "updated": 1612931162
    },
    {
      "id": "60235fa9aff09e0000c0e019",
      "text": "  };",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930985,
      "updated": 1612931128
    },
    {
      "id": "60235fa9aff09e0000c0e024",
      "text": "  ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930985,
      "updated": 1612930985
    },
    {
      "id": "60235fa9aff09e0000c0e025",
      "text": "  export const AutoCloseMenuItem = React.forwardRef(_MenuItem);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930985,
      "updated": 1612930985
    },
    {
      "id": "60235fa9aff09e0000c0e026",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1612930985,
      "updated": 1612930987
    },
    {
      "id": "612e4bb8aff09e00008b319e",
      "text": "2021-09-01追記",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423993,
      "updated": 1630424002
    },
    {
      "id": "612e4bc2aff09e00008b31a0",
      "text": "　これ、型チェックがないせいで第二引数のrefを暗黙に捨ててるだけじゃん",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630424002,
      "updated": 1630424028
    },
    {
      "id": "612e4bbfaff09e00008b319f",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1630423999,
      "updated": 1630423999
    }
  ]
}