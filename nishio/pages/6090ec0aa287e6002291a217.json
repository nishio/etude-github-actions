{
  "id": "6090ec0aa287e6002291a217",
  "title": "Hatena2012-04-17",
  "created": 1334588400,
  "updated": 1334588400,
  "lines": [
    {
      "id": "6090ec2daff09e00003db6a9",
      "text": "Hatena2012-04-17",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6aa",
      "text": "code:hatena",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ab",
      "text": " <body>",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ac",
      "text": " *1334670584*Alloyガール6",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ad",
      "text": " ここまでの話はこちら: <a href='http://d.hatena.ne.jp/nishiohirokazu/20120410/1334024972'>Alloy</a>",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ae",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6af",
      "text": " ** ドットは結合",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b0",
      "text": " 僕: ひさしぶり",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b1",
      "text": " Alloy: ひさしぶり",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b2",
      "text": " 僕: で、どういう話だっけ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b3",
      "text": " Alloy: もう忘れたの？あなたがドット演算子をJavaScriptのメンバアクセス演算子と混同してた話よ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b4",
      "text": " 僕: いちいち言い方がキツイなぁ。まあ、そういう話だったね。今日は「ドットは結合だ」ってのを詳しく教えてもらおう。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b5",
      "text": " Alloy: そうね、まず説明のためにもっとシンプルな関係を作ってみましょう",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b6",
      "text": " >||",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b7",
      "text": " run {",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b8",
      "text": " \tsome rel: Int -> Int {",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6b9",
      "text": " \t\trel = (1 -> 2) + (2 -> 3) + (3 -> 4)",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ba",
      "text": " \t}",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6bb",
      "text": " }",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6bc",
      "text": " ||<",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6bd",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6be",
      "text": " JS: 1増えるのね？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6bf",
      "text": " 僕: なるほど。someで選ばれた対象はEvaluatorから名前でアクセスできるってのを使うわけか。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c0",
      "text": " Alloy: そういうこと。さあEvaluatorを開いて確認してみましょう。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c1",
      "text": " 僕: JSちゃん、Evaluatorに$relって入力してごらん？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c2",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c3",
      "text": " [f:id:nishiohirokazu:20120417225023p:image]",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c4",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c5",
      "text": " JS: $rel、っと。うん、それっぽいのが表示されたよ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c6",
      "text": " Alloy: じゃあその関係をドットで結合した $rel . $rel を計算してみて。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c7",
      "text": " JS: 「関係ドット関係」なんてのができるの？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c8",
      "text": " 僕: ドットは「関係の結合演算」なんだよね。お休みのうちに実は勉強したんだ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6c9",
      "text": " JS: $rel . $relっと。あ、{1 -> 3, 2 -> 4}って出たよ。2増えるようになった？なんで？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ca",
      "text": " Alloy: (2 -> 7)とかと結合してみたらわかりやすいんじゃない？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6cb",
      "text": " JS: 今度は{1 -> 7}になった！",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6cc",
      "text": " Alloy: つまり$relの中の(1 -> 2)と(2 -> 7)が結合して(1 -> 7)になったわけよ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6cd",
      "text": " JS: だから結合演算子って言うのかー☆",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ce",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6cf",
      "text": " ** プロパティアクセス風",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d0",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d1",
      "text": " JS: 結合演算子はわかったけど、プロパティアクセスは？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d2",
      "text": " Alloy: え、まだ分からないの？アリティが1の関係のシングルトンと結合演算をすればプロパティアクセスに見えるでしょ？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d3",
      "text": " JS: ？？？？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d4",
      "text": " 僕: 1 . $rel を計算してごらん。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d5",
      "text": " JS: {2}って返ってきたよ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d6",
      "text": " 僕: 要するに、さっき(1 -> x)と(x -> 7)が結合して(1 -> 7)になったように、(x)と(x -> 2)が結合したら(2)になるんだよ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d7",
      "text": " JS: あー、それでプロパティアクセス風になるのか☆",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d8",
      "text": " Alloy: プロパティアクセスだっていう理解の仕方は足元をすくわれそうな気がするわね。たとえばこういう例を考えてみましょう。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6d9",
      "text": " >||",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6da",
      "text": " run {",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6db",
      "text": " \tsome rel: Int -> Int {",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6dc",
      "text": " \t\trel = (1 -> 2) + (2 -> 3) + (2 -> 4)",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6dd",
      "text": " \t}",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6de",
      "text": " }",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6df",
      "text": " ||<",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e0",
      "text": " JS: (3 -> 4)の代わりに(2 -> 4)になったのね。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e1",
      "text": " Alloy: この状態で1.$rel、2.$rel、3.$relはそれぞれ何になるでしょう",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e2",
      "text": " 僕: 3.$rel とか そもそも$relの定義域に入ってないね",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e3",
      "text": " Alloy: 関係の場合は定義域じゃなくて始集合という方が一般的かしら。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e4",
      "text": " JS: 3の時は簡単だね！",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e5",
      "text": " 僕: え、そう？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e6",
      "text": " JS: undefinedが返るんでしょ？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e7",
      "text": " 僕: そんなわけないじゃん…",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e8",
      "text": " JS: えー、でも3からrelをたどった先なんて定義されていないよ？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6e9",
      "text": " 僕: 定義されていないんじゃなくて、存在しないんでしょ？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ea",
      "text": " JS: あ、そうか、じゃあ空リスト？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6eb",
      "text": " 僕: 空集合！",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ec",
      "text": " JS: そっかー",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ed",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ee",
      "text": " ** Int型というよりIntの集合型",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ef",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f0",
      "text": " Alloy: じゃあ 2.$rel は？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f1",
      "text": " JS: (2 -> 3) と (2 -> 4) とあるから…どっちかなぁ。あとので上書きかなぁ？だから4？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f2",
      "text": " 僕: これは集合{3, 4}だよね。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f3",
      "text": " Alloy: そのとおり。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f4",
      "text": " JS: なんだー、じゃあInt->Intって書いてあっても、Intを取ってIntを返すって言うよりは、Intの集合を返すと考えたほうがいいのね。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f5",
      "text": " Alloy: うーん、なんだかやっぱり他の言語の発想に囚われてる感じがするわね。(1 + 2).$relとか$rel.4とか試してみたら？",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f6",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f7",
      "text": " [f:id:nishiohirokazu:20120417231854p:image]",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f8",
      "text": " ",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6f9",
      "text": " 僕: そうか、単に結合するだけだから左辺がスカラーじゃなくて集合でもいいし、関係を左辺に持ってきてもいいわけか。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6fa",
      "text": " Alloy: そうね。そもそもあなたが集合と呼んでいるものはアリティが1の関係だし、スカラーって呼んでいるのはアリティが1の関係で位数が1のものね。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6fb",
      "text": " 僕: なるほど、何もかも関係なのか。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6fc",
      "text": " Alloy: だから関係演算が言語の基本構成ブロックになるわけよ。",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6fd",
      "text": " </body>",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6fe",
      "text": "",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6ff",
      "text": "[はてなダイアリー 2012-04-17 https://nishiohirokazu.hatenadiary.org/archive/2012/04/17]",
      "created": 1334588400,
      "updated": 1334588400,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}