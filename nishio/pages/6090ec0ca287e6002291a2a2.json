{
  "id": "6090ec0ca287e6002291a2a2",
  "title": "Hatena2013-03-30",
  "created": 1364569200,
  "updated": 1364569200,
  "lines": [
    {
      "id": "6090ec30aff09e00003de2cb",
      "text": "Hatena2013-03-30",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2cc",
      "text": "code:hatena",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2cd",
      "text": " <body>",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ce",
      "text": " *1364643108*ArduinoでVGA信号を読む",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2cf",
      "text": " 「<a href='http://ja.wikipedia.org/wiki/VGA%E7%AB%AF%E5%AD%90'>VGA端子 - Wikipedia</a>」を参考に、5, 6, 7, 8, 10ピンをGNDに、1, 2, 3ピンをそれぞれアナログピンに、13, 14ピンをデジタルピンに接続した。出力値が変動しているのを観察することができた。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d0",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d1",
      "text": " ハードウェアをやる時も「早すぎる最適化は諸悪の根元」を唱えながらやるべきだな。ついついサイズを最適化したせいで半田付け大変だった。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d2",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d3",
      "text": " [f:id:nishiohirokazu:20130330220849j:image]",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d4",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d5",
      "text": " 横に伸びている3本はDisplay Data Channelとかいう、モニタのサイズや周波数を伝えるための信号線で、「繋がなくても大丈夫なはず、でも一番下の列だから『やっぱ繋がなきゃ』ってなったら後からハンダ付けは至難」と思って一応引っ張りだしておいた。結論から言うとこの3本はオープンなままで大丈夫だった。RGBの3本をアナログピンに、HSYNCとVSYNCをデジタルピンにつなぐ。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d6",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d7",
      "text": " [f:id:nishiohirokazu:20130330220847j:image]",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d8",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2d9",
      "text": " で、こんな感じのプログラムを走らせる。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2da",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2db",
      "text": " >||",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2dc",
      "text": " void loop()",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2dd",
      "text": " {",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2de",
      "text": "   valR = analogRead(pinR);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2df",
      "text": "   valG = analogRead(pinG);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e0",
      "text": "   valB = analogRead(pinB);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e1",
      "text": "   Serial.print(valR, HEX);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e2",
      "text": "   Serial.print(',');",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e3",
      "text": "   Serial.print(valG, HEX);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e4",
      "text": "   Serial.print(',');",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e5",
      "text": "   Serial.println(valB, HEX);",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e6",
      "text": " }",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e7",
      "text": " ||<",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e8",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2e9",
      "text": " [f:id:nishiohirokazu:20130330214738p:image]",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ea",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2eb",
      "text": " 「白と黄色と淡い緑が多いかな」ぐらいはわかるようだ。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ec",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ed",
      "text": " ところでATMEGA168のクロックは16MHz、VGA信号は25MHz、1ピクセル単位で読むのが無理なのはわかっていたが、横方向のシグナルは8の倍数だから間引いて読むことができるんじゃないかなーと思っていた。しかし、カラーバーを出力する場合と違って、ただ読んだだけでは何も面白くない。読んだ結果を出力しないと。で、読んだものを送信するのにSerialライブラリを使うと当然そこがクロック数を食う。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ee",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ef",
      "text": " 水平同期信号を1バイトで送信する実装をしてみた。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f0",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f1",
      "text": " >|c|",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f2",
      "text": " void loop()",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f3",
      "text": " {",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f4",
      "text": "   val = digitalRead(pinH);    // read the input pin",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f5",
      "text": "   if(val == HIGH){",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f6",
      "text": "     Serial.write(49); // ASCII for '1'",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f7",
      "text": "   }else{",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f8",
      "text": "     Serial.write(48); // ASCII for '0'",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2f9",
      "text": "   }",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2fa",
      "text": " }",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2fb",
      "text": " ||<",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2fc",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2fd",
      "text": " 結果に78文字ごとに改行を入れて1を.に置き換えて見やすくしたもの：",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2fe",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de2ff",
      "text": " >||",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de300",
      "text": " ..........................................................................0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de301",
      "text": " 0...0...0...0...0...0...0...0...0........................0.....0.........0....",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de302",
      "text": " ..0.........0......0.........0......0.........0......0.........0..............",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de303",
      "text": " ..0................0.........0......0.........0......0.........0..............",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de304",
      "text": " ..0......0.........0................0.........0......0.........0......0.......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de305",
      "text": " ..0......0.........0................0......0.........0.........0......0.......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de306",
      "text": " .........0.........0......0.........0......0.........0......0.........0......0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de307",
      "text": " .........0................0................0.........0......0.........0......0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de308",
      "text": " .........0................0................0................0................0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de309",
      "text": " .........0......0.........0......0.........0................0................0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30a",
      "text": " ................0.........0......0.........0......0.........0......0.........0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30b",
      "text": " ................0................0................0.........0......0.........0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30c",
      "text": " ......0.........0......0.........0......0.........0................0.........0",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30d",
      "text": " ......0.........0......0.........0......0.........0......0.........0..........",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30e",
      "text": " ......0................0................0................0.........0......0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de30f",
      "text": " ......0......0.........0......0.........0................0................0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de310",
      "text": " ......0......0.........0......0.........0......0.........0................0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de311",
      "text": " ...0.........0.........0......0.........0......0.........0......0.........0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de312",
      "text": " .............0......0.........0......0.........0................0.........0...",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de313",
      "text": " ...0.........0......0.........0......0.........0................0.............",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de314",
      "text": " ...0.........0......0.........0......0.........0......0.........0......0......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de315",
      "text": " ...0................0......0.0.......0................0.........0......0......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de316",
      "text": " ...0......0.........0................0................0......0..0......0......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de317",
      "text": " ...0......0.........0......0.........0......0.........0................0......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de318",
      "text": " 0.........0......0.........0................0.........0......0.........0......",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de319",
      "text": " 0.........0......0.........0................0................0................",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31a",
      "text": " 0.........0......0.........0......0.........0................0................",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31b",
      "text": " 0.........0......0.........0......0.........0......0.........0......0.........",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31c",
      "text": " 0......0.........0......0.........0.........0......0.........0......0.........",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31d",
      "text": " 0......0.........0......0.........0......0.........0......0.........0.........",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31e",
      "text": " 0......0................0.........0......0.........0......0.........0......0..",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de31f",
      "text": " .......0......0.........0.........0......0.........0......0.........0......0..",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de320",
      "text": " ||<",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de321",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de322",
      "text": " うーむ、全然サンプリング周波数が足りてない感。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de323",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de324",
      "text": " >||",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de325",
      "text": " void loop(){",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de326",
      "text": "   if(micros() < 1000000){",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de327",
      "text": "     Serial.write(48); // ASCII for '0'",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de328",
      "text": "   }",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de329",
      "text": " }",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32a",
      "text": " ||<",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32b",
      "text": " ",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32c",
      "text": " これで1089個の0が送られてくる。1文字あたり918usec。VGA信号の1行は 800クロック / 25.175MHzで 31.8usec。シリアルで送るのは無理だなぁ。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32d",
      "text": " 画面のある領域が特定の色になったらデジタルピンに出力、とかだとできるかもしれないけど深追いはやめておこう。",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32e",
      "text": " </body>",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de32f",
      "text": "",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec30aff09e00003de330",
      "text": "[はてなダイアリー 2013-03-30 https://nishiohirokazu.hatenadiary.org/archive/2013/03/30]",
      "created": 1364569200,
      "updated": 1364569200,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}