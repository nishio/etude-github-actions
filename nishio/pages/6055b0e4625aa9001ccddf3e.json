{
  "id": "6055b0e4625aa9001ccddf3e",
  "title": "✅ASINで書影画像をダウンロード",
  "created": 1616228582,
  "updated": 1616229066,
  "lines": [
    {
      "id": "6055b0e4625aa9001ccddf3e",
      "text": "✅ASINで書影画像をダウンロード",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616228582,
      "updated": 1616229066
    },
    {
      "id": "6055b0e6aff09e0000d18bcd",
      "text": "code:python",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616228582,
      "updated": 1616229029
    },
    {
      "id": "6055b2a5aff09e0000d18bcf",
      "text": " def download_amazon_image(asin):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd0",
      "text": "     url = f\"http://images-jp.amazon.com/images/P/{asin}.09.LZZZZZZZ.jpg\"",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd1",
      "text": "     local_filename = f\"image_cache/{asin}.jpg\"",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd2",
      "text": "     if os.path.isfile(local_filename):",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd3",
      "text": "         return",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd4",
      "text": "     with requests.get(url, stream=True) as r:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd5",
      "text": "         r.raise_for_status()",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd6",
      "text": "         with open(local_filename, 'wb') as f:",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd7",
      "text": "             for chunk in r.iter_content(chunk_size=8192): ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd8",
      "text": "                 # If you have chunk encoded response uncomment if",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bd9",
      "text": "                 # and set chunk_size parameter to None.",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bda",
      "text": "                 #if chunk: ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bdb",
      "text": "                 f.write(chunk)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229030
    },
    {
      "id": "6055b2a6aff09e0000d18bdc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229030,
      "updated": 1616229031
    },
    {
      "id": "6055b2b0aff09e0000d18bdd",
      "text": "[Download large file in python with requests - Stack Overflow https://stackoverflow.com/questions/16694907/download-large-file-in-python-with-requests]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229040,
      "updated": 1616229040
    },
    {
      "id": "6055b2bdaff09e0000d18bde",
      "text": "[requests]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229053,
      "updated": 1616229055
    },
    {
      "id": "6055b2bdaff09e0000d18bdf",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1616229054,
      "updated": 1616229054
    }
  ]
}