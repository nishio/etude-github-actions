{
  "id": "6090ec0aa287e6002291a216",
  "title": "Hatena2012-04-16",
  "created": 1334502000,
  "updated": 1334502000,
  "lines": [
    {
      "id": "6090ec2daff09e00003db56b",
      "text": "Hatena2012-04-16",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db56c",
      "text": "code:hatena",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db56d",
      "text": " <body>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db56e",
      "text": " *1334548800*git config --add receive.denyCurrentBranch ignoreはどう危険なのか",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db56f",
      "text": " git config --add receive.denyCurrentBranch ignoreをやるとどう危険なのか。一言で言うと「ある人が行った実装を、別の人が無意識に削除してコミットする」という事態を引き起こす。これが危険じゃなくて何なんだ。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db570",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db571",
      "text": " まずローカルで実験用のリポジトリを作ってみよう。fという名前のリポジトリを作って、READMEをおく。今は中身は空っぽだ。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db572",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db573",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db574",
      "text": " $ git init f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db575",
      "text": " Initialized empty Git repository in /Users/nishio/tmp//f/.git/",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db576",
      "text": " $ cd f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db577",
      "text": " f$ touch README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db578",
      "text": " f$ git add README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db579",
      "text": " f$ git commit -m \"initial\"",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57a",
      "text": " [master (root-commit) ce6d7d5] initial",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57b",
      "text": "  0 files changed, 0 insertions(+), 0 deletions(-)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57c",
      "text": "  create mode 100644 README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57d",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57e",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db57f",
      "text": " 次はそのリポジトリをgって名前でcloneしてみる。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db580",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db581",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db582",
      "text": " f$ cd ..",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db583",
      "text": " $ git clone f g",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db584",
      "text": " Cloning into g...",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db585",
      "text": " done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db586",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db587",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db588",
      "text": " できた。次はgのワークツリーでREADMEを編集してfにpushしてみよう。READMEにhogeって書き足してコミットし、pushする。push時にエラーが出る。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db589",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58a",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58b",
      "text": " $ cd g",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58c",
      "text": " g$ cat >> README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58d",
      "text": " hoge",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58e",
      "text": " g$ git add README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db58f",
      "text": " g$ git commit -m \"modify on g\"",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db590",
      "text": " [master 93295fc] modify on g",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db591",
      "text": "  1 files changed, 1 insertions(+), 0 deletions(-)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db592",
      "text": " g$ git push",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db593",
      "text": " Counting objects: 5, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db594",
      "text": " Writing objects: 100% (3/3), 256 bytes, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db595",
      "text": " Total 3 (delta 0), reused 0 (delta 0)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db596",
      "text": " Unpacking objects: 100% (3/3), done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db597",
      "text": " remote: error: refusing to update checked out branch: refs/heads/master",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db598",
      "text": " remote: error: By default, updating the current branch in a non-bare repository",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db599",
      "text": " remote: error: is denied, because it will make the index and work tree inconsistent",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59a",
      "text": " remote: error: with what you pushed, and will require 'git reset --hard' to match",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59b",
      "text": " remote: error: the work tree to HEAD.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59c",
      "text": " remote: error:",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59d",
      "text": " remote: error: You can set 'receive.denyCurrentBranch' configuration variable to",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59e",
      "text": " remote: error: 'ignore' or 'warn' in the remote repository to allow pushing into",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db59f",
      "text": " remote: error: its current branch; however, this is not recommended unless you",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a0",
      "text": " remote: error: arranged to update its work tree to match what you pushed in some",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a1",
      "text": " remote: error: other way.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a2",
      "text": " remote: error:",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a3",
      "text": " remote: error: To squelch this message and still keep the default behaviour, set",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a4",
      "text": " remote: error: 'receive.denyCurrentBranch' configuration variable to 'refuse'.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a5",
      "text": " To /Users/nishio/tmp/gittest/f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a6",
      "text": "  ! [remote rejected] master -> master (branch is currently checked out)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a7",
      "text": " error: failed to push some refs to '/Users/nishio/tmp/gittest/f'",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a8",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5a9",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5aa",
      "text": " push時に「bareでない(ワークツリーを持っている)リポジトリの、今チェックアウトされているブランチをpushすることはできない。なぜならインデックスとワークツリーが不整合になるからだ」と言われてエラーになっている。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ab",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ac",
      "text": " こういう状況になった時に「ちょっと危険だけど git config --add receive.denyCurrentBranch ignore すればいいよ」なんてことを説明しているサイトがあるらしい。じゃあそれをやったらどんなことが起こるのか経験してみよう。リポジトリfでgit config --add receive.denyCurrentBranch ignoreする。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ad",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ae",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5af",
      "text": " g$ cd ../f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b0",
      "text": " f$ git config --add receive.denyCurrentBranch ignore",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b1",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b2",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b3",
      "text": " リポジトリgに戻ってpushすると、今度はすんなり成功する。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b4",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b5",
      "text": " f$ cd ../g",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b6",
      "text": " g$ git push",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b7",
      "text": " Counting objects: 5, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b8",
      "text": " Writing objects: 100% (3/3), 256 bytes, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5b9",
      "text": " Total 3 (delta 0), reused 0 (delta 0)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ba",
      "text": " Unpacking objects: 100% (3/3), done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5bb",
      "text": " To /Users/nishio/tmp/gittest/f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5bc",
      "text": "    ce6d7d5..93295fc  master -> master",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5bd",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5be",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5bf",
      "text": " この状態、fさんにとっては「知らない間にgさんがmasterブランチを書き換えている」って状態になっている。ログを見ると確かにgさんが書き換えたって情報は出ている。でもワークツリーのREADMEはgさんが書き換える前の「空っぽ」のままだ。これにfugaと「追記」してコミットしてみよう。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c0",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c1",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c2",
      "text": " g$ cd ../f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c3",
      "text": " f$ git log --oneline",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c4",
      "text": " 93295fc modify on g",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c5",
      "text": " ce6d7d5 initial",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c6",
      "text": " f$ cat >> README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c7",
      "text": " fuga",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c8",
      "text": " f$ git add README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5c9",
      "text": " f$ git commit -m \"modify on f\"",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ca",
      "text": " [master 14a82ca] modify on f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5cb",
      "text": "  1 files changed, 1 insertions(+), 1 deletions(-)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5cc",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5cd",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ce",
      "text": " 目ざとい人は気づいたかもしれない。「1 deletions(-)」と表示されている。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5cf",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d0",
      "text": " では今のコミットで何が行われたか確認してみよう。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d1",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d2",
      "text": " f$ git show",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d3",
      "text": " commit 14a82ca87ba5dd536492b9758582179104de09bd",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d4",
      "text": " Author: NISHIO Hirokazu <nishio.hirokazu@gmail.com>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d5",
      "text": " Date:   Mon Apr 16 12:35:11 2012 +0900",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d6",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d7",
      "text": "     modify on f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d8",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5d9",
      "text": " diff --git a/README b/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5da",
      "text": " index 2262de0..9128c3e 100644",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5db",
      "text": " --- a/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5dc",
      "text": " +++ b/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5dd",
      "text": " @@ -1 +1 @@",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5de",
      "text": " -hoge",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5df",
      "text": " +fuga",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e0",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e1",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e2",
      "text": " fさんのコミットは「gさんの行った修正を削除して自分の修正を追加」になっている。多分しばらくたってから",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e3",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e4",
      "text": " f「おい、g、この前頼んだ修正はまだか」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e5",
      "text": " g「え、だいぶ前にコミットしたぞ」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e6",
      "text": " f「直ってねーよ！ほら！」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e7",
      "text": " g「そんなはずはない…なんだこれは、お前が俺の修正を削除したんじゃないか」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e8",
      "text": " f「えっ、そんなはずは…ほんとだ…いや、消したつもりはないんだが」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5e9",
      "text": " g「勝手に消えたのか？git怖い」",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ea",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5eb",
      "text": " などという不毛な会話がかわされることになる。ほんとうに怖いのは「ちょっと危険だけど」とか言いながらバッドノウハウを撒き散らすサイトの存在だ。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ec",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ed",
      "text": " ** じゃあどうする？",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ee",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ef",
      "text": " 一番素直なのは「githubなりbitbucketなり自分で作るなりしてbareなブランチを用意する」なんだけども、あえて今回のような「bareでないリポジトリからcloneして、しかも二人ともmasterで作業している」というひどい状態からどうするかを考えてみる。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f0",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f1",
      "text": " まずgではまた何か変更を行なったとする。piyoって書き足している。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f2",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f3",
      "text": " g$ cat >> README ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f4",
      "text": " piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f5",
      "text": " g$ git add README ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f6",
      "text": " g$ git commit",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f7",
      "text": " Waiting for Emacs...",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f8",
      "text": " [master 29cfa4a] modify on g (piyo)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5f9",
      "text": "  1 files changed, 1 insertions(+), 0 deletions(-)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5fa",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5fb",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5fc",
      "text": " 本当を言えば「変更の前にブランチを作ってその中で作業する」が望ましいんだが、いまからでも遅くないので「piyoを追加する」という意味のブランチを作る。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5fd",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5fe",
      "text": " g$ git checkout -b add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db5ff",
      "text": " Switched to a new branch 'add_feature_piyo'",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db600",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db601",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db602",
      "text": " そして、そのブランチだけをorigin(clone元、つまりこの場合はf)にpushする。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db603",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db604",
      "text": " g$ git push origin add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db605",
      "text": " Counting objects: 9, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db606",
      "text": " Delta compression using up to 2 threads.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db607",
      "text": " Compressing objects: 100% (3/3), done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db608",
      "text": " Writing objects: 100% (9/9), 678 bytes, done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db609",
      "text": " Total 9 (delta 0), reused 0 (delta 0)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60a",
      "text": " Unpacking objects: 100% (9/9), done.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60b",
      "text": " To /Users/nishio/tmp/gittest/f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60c",
      "text": "  * [new branch]      add_feature_piyo -> add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60d",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60e",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db60f",
      "text": " そうすると、fの側ではgの変更が新しいブランチとして現れるので、fの作業が一段落した、fの都合の良いタイミングでそこからmergeする。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db610",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db611",
      "text": " g$ cd ../f",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db612",
      "text": " f$ git branch",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db613",
      "text": "   add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db614",
      "text": " * master",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db615",
      "text": " f$ git merge add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db616",
      "text": " Auto-merging README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db617",
      "text": " CONFLICT (content): Merge conflict in README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db618",
      "text": " Automatic merge failed; fix conflicts and then commit the result.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db619",
      "text": " f$ cat README ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61a",
      "text": " <<<<<<< HEAD",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61b",
      "text": " fuga",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61c",
      "text": " =======",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61d",
      "text": " hoge",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61e",
      "text": " piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db61f",
      "text": " >>>>>>> add_feature_piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db620",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db621",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db622",
      "text": " さっきうっかり「gの変更を削除してコミット」しちゃったせいでコンフリクトが起きているね。READMEの中身はこんな風になっているので、今したいことは両方の変更を採用することだからそうなるように編集しよう。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db623",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db624",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db625",
      "text": " f$ emacsclient README # 編集している ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db626",
      "text": " Waiting for Emacs...",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db627",
      "text": " f$ cat README ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db628",
      "text": " fuga",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db629",
      "text": " hoge",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62a",
      "text": " piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62b",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62c",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62d",
      "text": " あとは普通にこのファイルをaddしてcommitするだけ。ちなみにcommit -vをすると、今から何をコミットしようとしているかのdiffなどが見れるからより安心。今回のケースでgit commit -vすると、下のようにhogeとpiyoを追加した旨が表示される。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62e",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db62f",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db630",
      "text": " Merge branch 'add_feature_piyo'",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db631",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db632",
      "text": " Conflicts:",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db633",
      "text": " \tREADME",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db634",
      "text": " #",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db635",
      "text": " # It looks like you may be committing a merge.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db636",
      "text": " # If this is not correct, please remove the file",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db637",
      "text": " #\t.git/MERGE_HEAD",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db638",
      "text": " # and try again.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db639",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63a",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63b",
      "text": " # Please enter the commit message for your changes. Lines starting",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63c",
      "text": " # with '#' will be ignored, and an empty message aborts the commit.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63d",
      "text": " # On branch master",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63e",
      "text": " # Changes to be committed:",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db63f",
      "text": " #",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db640",
      "text": " #\tmodified:   README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db641",
      "text": " #",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db642",
      "text": " diff --git a/README b/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db643",
      "text": " index 9128c3e..05a9867 100644",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db644",
      "text": " --- a/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db645",
      "text": " +++ b/README",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db646",
      "text": " @@ -1 +1,3 @@",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db647",
      "text": "  fuga",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db648",
      "text": " +hoge",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db649",
      "text": " +piyo",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64a",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64b",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64c",
      "text": " *1334576656*Alloyのイラストロジックをリファクタリングした日記",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64d",
      "text": " ColとRowで似たようなことを別個にやっているので、まとめられるかも、ということで挑戦してみた日記。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64e",
      "text": " ColとRowで個別のnextが入っている点が難しいかもとのことでしたが、そもそもCol -> Row -> ColorのRowだけ固定してCol -> Colorを作る方法がわからなくてどん詰まり。悩んだ挙句「Col -> Color -> Rowにすればいいんだ！」という解決の仕方をしました。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db64f",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db650",
      "text": " ついでにColとRowを区別するのが面倒だったので両方Intにしました。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db651",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db652",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db653",
      "text": " one sig Root{",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db654",
      "text": "   cell: Int -> Color -> Int",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db655",
      "text": " }{",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db656",
      "text": "   all x: cell.univ.univ | in_ten[x]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db657",
      "text": "   all y: univ.(univ.cell) | in_ten[y]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db658",
      "text": "   let ten = {x: Int | in_ten[x]}{",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db659",
      "text": "     all x, y: ten{",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65a",
      "text": "       one x.cell.y",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65b",
      "text": "     }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65c",
      "text": "   }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65d",
      "text": " }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65e",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db65f",
      "text": " pred in_ten(x: Int){",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db660",
      "text": "   one x",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db661",
      "text": "   0 <= x and x < 10  // notice: for 5 Int required",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db662",
      "text": " }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db663",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db664",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db665",
      "text": " こうしたことで、rowHintとcolHintはすぐにseq Colorを作って共通の処理に入ることが出来るようになりました。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db666",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db667",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db668",
      "text": " pred hint(line: seq Color, sizes: seq Int){",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db669",
      "text": "   some heads: seq Int {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66a",
      "text": "     #heads = #sizes",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66b",
      "text": "     sorted[get_heads[line], heads]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66c",
      "text": "     all i: sizes.inds {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66d",
      "text": "       let start = heads[i], end = get_end[start, sizes[i]] {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66e",
      "text": "         one line[end]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db66f",
      "text": "         all_black[line, start, end]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db670",
      "text": "         next_is_not_black[line, end]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db671",
      "text": "       }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db672",
      "text": "     }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db673",
      "text": "   }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db674",
      "text": " }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db675",
      "text": " pred colHint (i: Int, sizes: seq Int) {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db676",
      "text": "   hint[getCol[i], sizes]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db677",
      "text": " }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db678",
      "text": " pred rowHint (i: Int, sizes: seq Int) {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db679",
      "text": "   hint[getRow[i], sizes]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67a",
      "text": " }",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67b",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67c",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67d",
      "text": " で、残念ながらこのリファクタリングしたバージョンはコードクローンはなくなったものの、オリジナルより2倍ほど遅くなっています。むむむ。これはオリジナルがfor 10でColとRowの数を10個に限定できているのに対して、こっちはIntにしてしまったから-16～15の範囲に広がってしまっているせいか？？",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67e",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db67f",
      "text": " # Original",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db680",
      "text": " 33381 vars. 2200 primary vars. 92568 clauses. 854ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db681",
      "text": " ... is consistent. 415ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db682",
      "text": " # Refactored",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db683",
      "text": " 73481 vars. 4608 primary vars. 219033 clauses. 1426ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db684",
      "text": " ...is consistent. 858ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db685",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db686",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db687",
      "text": " うーん、そうみたい。泥臭いけどsig SmallIntを作って10個に限定したらかなり縮んだ。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db688",
      "text": " >||",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db689",
      "text": " 30402 vars. 2848 primary vars. 75273 clauses. 888ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68a",
      "text": " ... is consistent. 1307ms.",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68b",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68c",
      "text": " 代表的な変更箇所は下の通り。もちろん型の整合性のために何箇所か修正する必要があった。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68d",
      "text": " >|diff|",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68e",
      "text": " +sig SmallInt{}",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db68f",
      "text": " +fun from_int (i: Int): SmallInt {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db690",
      "text": " +  {x: SmallInt | #(x.prevs) = i}",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db691",
      "text": " +}",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db692",
      "text": " +",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db693",
      "text": " +fun to_int (x: SmallInt): Int {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db694",
      "text": " +  #(x.prevs)",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db695",
      "text": " +}",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db696",
      "text": " +",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db697",
      "text": "  pred hint(line: seq Color, sizes: seq Int){",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db698",
      "text": " -  some heads: seq Int {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db699",
      "text": " +  some heads: seq SmallInt {",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69a",
      "text": " ||<",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69b",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69c",
      "text": " 前回の僕の重すぎて動かないコードではsomeが6個ネストしてたわけなんだけども、bonotakeさんのコードでは1個になっていて、そしていまやったようにそのsomeの探索範囲を減らすと生成されるCNFも実行時間も大きく削減されるようだ。someは要注意だな。",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69d",
      "text": " ",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69e",
      "text": " ソースコードはこちらから: https://github.com/nishio/learning_alloy/tree/master/illust_logic",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db69f",
      "text": " </body>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a0",
      "text": " <comments>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a1",
      "text": " <comment>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a2",
      "text": " <username>Mr. Gitter</username>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a3",
      "text": " <body>このような記事が世の中にリリースされていて、本当に助かる。<br><br>バッドノウハウに出会う前にここに来なかったと思うとゾッとする！<br><br>感謝。</body>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a4",
      "text": " <timestamp>1386653258</timestamp>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a5",
      "text": " </comment>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a6",
      "text": " </comments>",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a7",
      "text": "",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec2daff09e00003db6a8",
      "text": "[はてなダイアリー 2012-04-16 https://nishiohirokazu.hatenadiary.org/archive/2012/04/16]",
      "created": 1334502000,
      "updated": 1334502000,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}