{
  "id": "606801838ebd65001c1be714",
  "title": "つぶやきGLSL理解したい",
  "created": 1617428867,
  "updated": 1617428873,
  "lines": [
    {
      "id": "606801838ebd65001c1be714",
      "text": "つぶやきGLSL理解したい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980abc",
      "text": "from [つぶやきGLSL]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980abd",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428873
    },
    {
      "id": "60680183aff09e0000980abf",
      "text": "これを理解したい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac0",
      "text": "　https://twitter.com/setchi/status/1251153387187367939",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac1",
      "text": " code:glsl",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac2",
      "text": "  void main(){vec2 p=(.5-fract(mat2(cos(-t*.4+vec4(1,33,11,1)))*(gl_FragCoord.xy*2.-r)/min(r.y,r.x)))*2.4;float q=length(p),a=atan(p.y,p.x)*2.5+t*2.;gl_FragColor=vec4(mix(q*.9*step(q,min(abs(sin(a))+.4,abs(cos(a))+1.1)*.7),.7,step(q,.15)));}",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac3",
      "text": "\t[https://gyazo.com/c886047f75a75510549a8c65963f2fe2]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac4",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac5",
      "text": "どうやって動かすのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac6",
      "text": "　GLSL Sandboxってのがあるらしい",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac7",
      "text": "\t[GLSL Sandboxで遊ぼう | notargs.com http://wordpress.notargs.com/blog/blog/2015/02/25/glsl-sandbox%e3%81%a7%e9%81%8a%e3%81%bc%e3%81%86/]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac8",
      "text": "\tエラーメッセージはどうやって見るのか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ac9",
      "text": "\t　コンソールに出てた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aca",
      "text": "\ttとrをtimeとresolutionに変更したら動いた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980acb",
      "text": "　\t[https://gyazo.com/a6858f7a158d6989efc49e5cabe03527]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980acc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980acd",
      "text": "[OpenGL 4.x Reference Pages https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/indexflat.php]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ace",
      "text": "\t[step - OpenGL 4 Reference Pages https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/step.xhtml]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980acf",
      "text": "\t\t`step(edge, x) == x < edge ? 0.0 : 1.0`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad0",
      "text": "\t[fract - OpenGL 4 Reference Pages https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/fract.xhtml]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad1",
      "text": "\t\t`x - floor(x)`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad2",
      "text": "\t[mix - OpenGL 4 Reference Pages https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/mix.xhtml]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad3",
      "text": "\t\t`mix(x, y, a) == x * (1 - a) + y * a`",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad4",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad5",
      "text": "時間による拡大縮小部分",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad6",
      "text": " code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad7",
      "text": "  mat2(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad8",
      "text": "      cos(-time * .4 + vec4(1,33,11,1))",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ad9",
      "text": "  ) ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ada",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980adb",
      "text": "タイリング",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980adc",
      "text": " code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980add",
      "text": " \tvec2 from_center_x2 = (gl_FragCoord.xy * 2. - resolution);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ade",
      "text": " \tvec2 p1 = from_center_x2 / min(resolution.y, resolution.x); ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980adf",
      "text": " \tvec2 p2 = fract(p1); ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae0",
      "text": " \tvec2 p=( .5 - p2 ) * 2.4;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae1",
      "text": " [https://gyazo.com/ed45b38029f2e1c4b187beb7b7da4d4c]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae2",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae3",
      "text": "中心からの距離",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae4",
      "text": " code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae5",
      "text": "  float q=length(p);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae6",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae7",
      "text": "中心からの角度",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae8",
      "text": "　2.5倍しているので、一周で5π、これが花びらの枚数になる。時刻を足しているので時間経過で回転する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980ae9",
      "text": "\tcode::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aea",
      "text": "\t float a=atan(p.y, p.x) * 2.5 + time * 2.;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aeb",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aec",
      "text": "step(q, edge)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aed",
      "text": "　「中心からの距離がedge以下なら1.0」ということなので中心付近を塗るのに使える",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aee",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aef",
      "text": "輪郭の形",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af0",
      "text": "\tcode::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af1",
      "text": "\t\tmin(abs(sin(a))+.4, abs(cos(a))+1.1) ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af2",
      "text": "\t[https://gyazo.com/87926436442193a2483cc6801bd1499d]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af3",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af4",
      "text": "中心からの距離に応じたグラデーション",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af5",
      "text": "\tcode::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af6",
      "text": "\t q * .9 * step( ... )",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af7",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af8",
      "text": "これは中央の丸",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980af9",
      "text": " code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980afa",
      "text": "  step(q,.15)",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980afb",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980afc",
      "text": "yが固定のmixは何か",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980afd",
      "text": "　aが0の時x、1の時y、という条件分岐",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980afe",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980aff",
      "text": "拡大縮小部分のコード",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b00",
      "text": " code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b01",
      "text": "  mat2 m = mat2(cos(-time * .4 + vec4(1,33,11,1)));",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b02",
      "text": "  vec2 p2 = fract(m * p1);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b03",
      "text": " 33などのマジックナンバー",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b04",
      "text": " 　どうせcosに入れるので2πの倍数には意味がない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b05",
      "text": " 　計算してみるとπ/2の倍数に近い値",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b06",
      "text": " 　ショートコーディングのためのテクニックに過ぎない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b07",
      "text": " 　下記のコードと振る舞いは同じ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b08",
      "text": "   code::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b09",
      "text": "   \tfloat pi = 3.14159;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0a",
      "text": "   \tmat2 m2 = mat2(",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0b",
      "text": "   \t  cos(-.4 * time + 1.), ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0c",
      "text": "   \t  cos(-.4 * time + pi * 0.5), ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0d",
      "text": "   \t  cos(-.4 * time + pi * 1.5),",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0e",
      "text": "   \t  cos(-.4 * time + 1.));",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b0f",
      "text": "   \tvec2 p2 = fract(m2 * p1);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b10",
      "text": "  sinも使うとこうなる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b11",
      "text": " \t\tcode::",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b12",
      "text": "   \tfloat t = -.4 * time;",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b13",
      "text": "   \tmat2 m2 = mat2(cos(t + 1.), -sin(t), sin(t), cos(t + 1.));",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b14",
      "text": "   \tvec2 p2 = fract(m2 * p1);",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b15",
      "text": "　　　cosに対する+1.がなければ単なる回転になる",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b16",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b17",
      "text": "ここまでを踏まえて少し改造した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b18",
      "text": "　[https://gyazo.com/c42b981ccaaa5d56e2052158edb93102]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b19",
      "text": "\thttp://glslsandbox.com/e#72257.0",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    },
    {
      "id": "60680183aff09e0000980b1a",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1617428867,
      "updated": 1617428867
    }
  ]
}