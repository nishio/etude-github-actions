{
  "id": "6090ec03a287e6002291a069",
  "title": "Hatena2010-02-18",
  "created": 1266418800,
  "updated": 1266418800,
  "lines": [
    {
      "id": "6090ec27aff09e00003d493a",
      "text": "Hatena2010-02-18",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d493b",
      "text": "code:hatena",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d493c",
      "text": " <body>",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d493d",
      "text": " *1266519476*ドミニオンの引ききりデッキについて",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d493e",
      "text": " ドミニオンでコインを買うと強いと覚えたのでコインを買いまくっていたら引ききりデッキにぼこぼこにされたので、村と鍛冶屋がある場合に、それぞれ何枚ずつ買うとどれくらいの確率で引ききれるのかをテストしてみた。",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d493f",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4940",
      "text": " 凡例",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4941",
      "text": " >||",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4942",
      "text": " 2 4 1710",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4943",
      "text": " ||<",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4944",
      "text": " これは村が2枚、鍛冶屋が4枚、残り10枚がコインや勝利点カードの時の引き切る確率が17.1%と読む。",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4945",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4946",
      "text": " 出力を全部見てもいまいち面白くないので、村と鍛冶屋の枚数の合計が一定の時にどう配分するのが一番多いのかだけをピックアップ:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4947",
      "text": " >||",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4948",
      "text": " 3 4 2030",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4949",
      "text": " 4 4 3689",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494a",
      "text": " 5 4 4852",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494b",
      "text": " 6 4 5438",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494c",
      "text": " 6 5 5997",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494d",
      "text": " 7 5 6714",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494e",
      "text": " 8 6 7455",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d494f",
      "text": " 9 6 7758",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4950",
      "text": " 10 6 8045",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4951",
      "text": " 11 6 8236",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4952",
      "text": " 11 7 8445",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4953",
      "text": " 12 7 8629",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4954",
      "text": " ||<",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4955",
      "text": " つまり、鍛冶屋は村の半分＋１～２枚くらいをめどに買うのがいちばん確率が高い。そして村を12枚買うなんて無茶をしても引き切る確率は86%でしかない。",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4956",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4957",
      "text": " 貯蔵庫を混ぜると確率が上がるかなぁ？？",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4958",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4959",
      "text": " 以下ソースコード",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495a",
      "text": " >|python|",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495b",
      "text": " from copy import copy",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495c",
      "text": " from random import shuffle",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495d",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495e",
      "text": " VILL = 1",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d495f",
      "text": " SMITH = 2",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4960",
      "text": " OTHER = 0",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4961",
      "text": " NUM_TRIAL = 10000",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4962",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4963",
      "text": " def draw(hand, deck, num):",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4964",
      "text": "     hand += deck[:num]",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4965",
      "text": "     deck = deck[num:]",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4966",
      "text": "     return hand, deck",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4967",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4968",
      "text": " def test(num_vill, num_smith, num_other=10):",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4969",
      "text": "     initial_deck = [VILL] * num_vill + [SMITH] * num_smith + [OTHER] * num_other",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496a",
      "text": "     num_success = 0",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496b",
      "text": "     for _trial in range(NUM_TRIAL):",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496c",
      "text": "         deck = copy(initial_deck)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496d",
      "text": "         shuffle(deck)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496e",
      "text": "         hand, deck = draw([], deck, 5)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d496f",
      "text": "         action = 1",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4970",
      "text": "         while action and deck:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4971",
      "text": "             if VILL in hand:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4972",
      "text": "                 hand.remove(VILL)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4973",
      "text": "                 hand, deck = draw(hand, deck, 1)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4974",
      "text": "                 action += 1",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4975",
      "text": "             elif SMITH in hand:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4976",
      "text": "                 hand.remove(SMITH)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4977",
      "text": "                 hand, deck = draw(hand, deck, 3)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4978",
      "text": "                 action -= 1",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4979",
      "text": "             else:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497a",
      "text": "                 break",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497b",
      "text": "         if not deck:",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497c",
      "text": "             num_success += 1",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497d",
      "text": " ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497e",
      "text": "     return num_success",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d497f",
      "text": "         ",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4980",
      "text": " for num_both in range(20):",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4981",
      "text": "     for num_smith in range(4, num_both + 1):",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4982",
      "text": "         num_vill = num_both - num_smith",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4983",
      "text": "         print num_vill , num_smith, test(num_vill, num_smith)",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4984",
      "text": " ||<",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4985",
      "text": " </body>",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4986",
      "text": "",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec27aff09e00003d4987",
      "text": "[はてなダイアリー 2010-02-18 https://nishiohirokazu.hatenadiary.org/archive/2010/02/18]",
      "created": 1266418800,
      "updated": 1266418800,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}