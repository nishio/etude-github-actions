{
  "id": "6090ebf8a287e60022919e74",
  "title": "Hatena2008-07-12",
  "created": 1215788400,
  "updated": 1215788400,
  "lines": [
    {
      "id": "6090ec1eaff09e00003cb1d3",
      "text": "Hatena2008-07-12",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d4",
      "text": "code:hatena",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d5",
      "text": " <body>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d6",
      "text": " *1215836819*ICFP日記",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d7",
      "text": " http://www.icfpcontest.org/",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d8",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1d9",
      "text": " (徐々に書く)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1da",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1db",
      "text": " まず最初に書いておくと、コンテストはもう始まっていて、がんばって挑戦するつもりの人はもうがんばり始めてるので、がんばるつもりがあればこのブログの更新を待たずに自分で上のリンクからたどるといいです。僕の目的はICFPってのがどんな物なのか体験してみることと日本語での紹介エントリーを書くことなので、家事をしつつのんびりと更新していくつもりです。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1dc",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1dd",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1de",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1df",
      "text": " 空き缶をリサイクルボックスに持っていった。暑い。暑い。暑い。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e0",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e1",
      "text": " 水だし麦茶をセットしてきた。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e2",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e3",
      "text": " さて、とりあえずルールなどの解説。詳細はこちら： http://www.icfpcontest.org/rules.html",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e4",
      "text": " 事前登録の必要はなく、7月14日(PDT)までに完成させてソースコードを応募すればOK。チームのサイズは５人までだけで、年齢や学生でないといけない的な制限はない。他のチームと話し合うのはOKだがコードの共有は禁止。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e5",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e6",
      "text": " 最優秀賞には$1000、最初の24時間で提出された中での最優秀賞に$500、審査員特別賞に$500がでるらしいけど、僕はがんばる気がないのでスルー。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e7",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e8",
      "text": " デフォルトで使える言語は http://www.icfpcontest.org/live-cd.html の最後の方に書いてあるけども、これ以外の言語が使いたい場合はソースと一緒にコンパイル済みのバイナリとか他に必要なバイナリとかを送ってもいいらしい。主催者側と同じ環境は1CD Linuxとして配布されているので、バイナリで送りたい人はそれを使うことになるだろう。まぁ僕はPythonを使うつもりなので関係ない。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1e9",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ea",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1eb",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ec",
      "text": " モニターのまわりにこばえがいてうっとうしいので掃除機で吸い込むなどした。マシンの調子が悪いので再起動しよう。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ed",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ee",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ef",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f0",
      "text": " む、洗濯物を干したのに、雷鳴が聞こえる。。夕立が来るんだな、きっと。。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f1",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f2",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f3",
      "text": " おわ、落雷きた、かなり近かった！音も鋭かった！",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f4",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f5",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f6",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f7",
      "text": " さて、それじゃ肝心の問題文の解説に入ろう。今回の問題は、火星探査機のコントロール。もちろん本物のじゃないので「火星探索ゲームをプレイする」と思ってもいいだろう。人間がプレイするんじゃなくて、プレイするプログラムを作る。これが課題。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f8",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1f9",
      "text": " 詳細：http://smlnj.org/icfp08-contest/task.html",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1fa",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1fb",
      "text": " ゲームの目的は火星探査機(rover)をコントロールして目的地に行くこと。マップにはクレーターや大きな岩があるのでそれをよけなければいけない。しかも火星人がいて、火星人に探査機が捕まると即座に破壊されてゲームオーバーになる。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1fc",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1fd",
      "text": " ゲームをうまくプレイできたかどうかは下の計算式で決まる(小さい方がいい)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1fe",
      "text": " - タイムリミット以内にゴールインできたらその時間t (ミリ秒)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb1ff",
      "text": " - タイムリミットn以内にゴールインできなかったら n + 100",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb200",
      "text": " - 時刻tに火星人に破壊されたら 2n - t + 600",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb201",
      "text": " - 時刻tにクレーターに落ちたら 2n - t + 1000",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb202",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb203",
      "text": "  -tが入っているところからわかるように、火星人に捕まるのが確実でも可能な限り逃げまわった方がスコアが高い。あと火星人に追われてクレーターに落ちそうなときは火星人に捕まる方がスコアが高い。まぁ、ゴールするのがもちろん一番いいんだけどね。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb204",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb205",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb206",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb207",
      "text": " sudo port install gmpしないとhttp://smlnj.org/icfp08-contest/simulator.html に置いてあるシミュレータが動かなかった。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb208",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb209",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20a",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20b",
      "text": " さて、実は問題を詳しく読んで、面倒になってきているのですが、まぁ、もうちょっとだけがんばってみよう。上のリンク先からダウンロードしたサーバを起動すると",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20c",
      "text": " >||",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20d",
      "text": " $ ./server -v sample-maps/simple-small.wrld ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20e",
      "text": " waiting for client connection on port 17676",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb20f",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb210",
      "text": " という出力が出て待機状態になる。最低限何が必要かというと、まずはこの指定されたポートに接続してやり取りをするプログラムが必要だ。というわけでとりあえず指定されたポートにつないで読んでみる。ちなみに最終的に提出する物ではhostnameを指定できるようにしろ、と書いてあるのでそれもオプションに含めた。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb211",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb212",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb213",
      "text": " import sys",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb214",
      "text": " HOSTNAME = sys.argv[1]",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb215",
      "text": " PORT = int(sys.argv[2])",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb216",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb217",
      "text": " import socket",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb218",
      "text": " s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb219",
      "text": " s.connect((HOSTNAME, PORT))",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21a",
      "text": " print s.recv(1024)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21b",
      "text": " s.close()",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21c",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21d",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21e",
      "text": " 実行してみよう。お、GUIが立ち上がった。そして1秒くらいで閉じた。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb21f",
      "text": " 出力結果",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb220",
      "text": " >||",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb221",
      "text": " I 200.000 200.000 30000 30.000 60.000 20.000 20.0 60.0 ;",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb222",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb223",
      "text": " Call from C to SML raised exception.",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb224",
      "text": " unhandled exception: Fail: EOF",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb225",
      "text": " (以下略)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb226",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb227",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb228",
      "text": " 3.1  Messages from the server to the controllerを見ながらパースしようと思ったけど、それは「最低限必要なこと」じゃないので保留(ぇ)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb229",
      "text": " とりあえず何も考えずに走り出してもらおう。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22a",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22b",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22c",
      "text": " while 1:",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22d",
      "text": "     print s.recv(1024)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22e",
      "text": "     s.send(\"ar;\")",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb22f",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb230",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb231",
      "text": " <img src=\"http://gyazo.com/e4689b56f384031cf0ac4653d06cb139.png\">",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb232",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb233",
      "text": " おおー、くるくるまわってるー。一応解説しておくと、サーバから送られてくるメッセージを全部printだけして無視し、ひたすら「まわれっ！」と叫び続けるというプログラム。ちなみに1回aを送るだけで「加速モード」に切り替わるので、何度も送っても意味はない。3.2  Messages from the controller to the serverに書いてある状態遷移図を参照。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb234",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb235",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb236",
      "text": " さてさて、anemoが「適当に走るだけなら15分でできるよ」とか言うから試してみたけど、たしかに適当に走るだけなら15分でできるね。純粋にコーディングしている時間なら。ドキュメントを読む時間を含めると英文を速読できない限りちょっと無理。自分の書いたコードで探査機が走り回るのは面白い。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb237",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb238",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb239",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23a",
      "text": " <img src=\"http://gyazo.com/5e21ec10e57a5af4e65015bcad86a4bf.png\">",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23b",
      "text": " おー、敵もいる。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23c",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23d",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23e",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb23f",
      "text": " やっぱりこういうののパーサをさくっと書くのはML系の言語が一番楽なんだろうなぁ。今まで使った中ではHaskellで書くのが一番楽そうだ。でもHaskellでソケットうんぬんをする方法を調べるのが面倒なのでスルー。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb240",
      "text": " Pythonでこういうのをパースするのが一番らくちんに書ける方法は何なんだろう。とかそんなこと考えてないで手を動かす方が速いか。そう、泥臭いことをやればできてしまうのでなかなか洗練したやり方にならない。LL Ringのじゃんけん2.0の時は正規表現の名前付きグループを使ったけど、今回のプロトコルは明らかに「スペース区切りのトークナイザを通してください」という設計になっているんでとりあえずスペース区切りにした。さて。。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb241",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb242",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb243",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb244",
      "text": " ICFPとかどうでもよくてPython用のパターンマッチのコードを書きたくなってしまう自分がいるがとりあえず我慢して書いた。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb245",
      "text": " telemetryのパースはこんな感じ。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb246",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb247",
      "text": " def telemetry(xs):",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb248",
      "text": "     \"\"\"T time-stamp vehicle-ctl vehicle-x vehicle-y vehicle-dir vehicle-speed objects ;\"\"\"",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb249",
      "text": "     keys = \"\"\"time_stamp vehicle_ctl ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24a",
      "text": "               vehicle_x vehicle_y ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24b",
      "text": "               vehicle_dir vehicle_speed\"\"\".split(),",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24c",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24d",
      "text": "     memory.__dict__.update(zip(keys, take(xs, 6)))",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24e",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb24f",
      "text": "     objects = []",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb250",
      "text": "     enemies = []",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb251",
      "text": "     while True:",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb252",
      "text": "         typ = xs.pop(0)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb253",
      "text": "         if typ == \";\":",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb254",
      "text": "             break",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb255",
      "text": "         if typ == \"m\":",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb256",
      "text": "             # m enemy-x enemy-y enemy-dir enemy-speed",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb257",
      "text": "             enemies.append(take(xs, 4))",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb258",
      "text": "         else:",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb259",
      "text": "             # object-kind object-x object-y object-r ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25a",
      "text": "             objects.append((typ, tuple(take(xs, 3))))",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25b",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25c",
      "text": "     memory.enemies = enemies # latest data only",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25d",
      "text": "     memory.objects.update(objects) # keep unique (it is a set)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25e",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb25f",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb260",
      "text": " 飽きてきた(またか)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb261",
      "text": " タイムリミットが長いと途中でだれてしまう、、部屋で一人でやっているのも一つの理由なんだろうな。何人かで集まってわいわいやってたら楽しいかも。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb262",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb263",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb264",
      "text": " と、とりあえずよそ見をするのは我慢して一番小さいマップでゴールインできるところまでは作ろう。そうしないと放り出してしまいそうだ。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb265",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb266",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb267",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb268",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb269",
      "text": " >>> map(apply, [int, str, float], \"1 1 1\".split())",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26a",
      "text": " [1, '1', 1.0]",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26b",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26c",
      "text": " んー。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26d",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26e",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb26f",
      "text": " >>> [f(x) for f, x in zip([int, str, float], \"12 34 56\".split())]",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb270",
      "text": " [12, '34', 56.0]",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb271",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb272",
      "text": " んー。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb273",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb274",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb275",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb276",
      "text": " とりあえず何も考えずにゴールするようにした。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb277",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb278",
      "text": " >|python|",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb279",
      "text": "     from math import sin, cos, pi",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27a",
      "text": "     rdir = dir / 180 * pi # radian",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27b",
      "text": "     speed = 1",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27c",
      "text": "     dx = speed * cos(rdir)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27d",
      "text": "     dy = speed * sin(rdir)",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27e",
      "text": "     cp = -x * dy + y * dx",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb27f",
      "text": "     print x, y, dx, dy",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb280",
      "text": "     if cp > 0:",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb281",
      "text": "         s.send(\"ar;\")",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb282",
      "text": "     else:",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb283",
      "text": "         s.send(\"al;\")",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb284",
      "text": " ||<",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb285",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb286",
      "text": " 本当に何も考えずにゴールに向かって突き進むだけ。しかも角度が行き過ぎてから戻しているのでよたよたと頭を振りながら進む。かわいいw",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb287",
      "text": " よたよたしないようにするには、自分の現在の角速度を計算するようにして、それから回っているときの角加速度を求める必要があるな。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb288",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb289",
      "text": " でもそれは最小限じゃないな。優先すべきなのはクレーターに落ちないことか。いや、それでもやっぱり自分がどれくらいの速度で回転しつつあるのかとかは必要か。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28a",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28b",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28c",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28d",
      "text": " ああー。衝突が起きたときにB 777;T ...;とくるから単純にスペース区切りじゃダメなんだなぁ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28e",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb28f",
      "text": " -----",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb290",
      "text": " ",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb291",
      "text": " 角速度を計算するようにした。このまま進むと自分の位置がどこになるかをシミュレートする内部モデルを作るべきなんだけどめんどくさすぎる。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb292",
      "text": " 「この速度で進んでいたらクレーターをよけきれない！」というのが判断できないと。しかしめんどくさいぞ。",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb293",
      "text": " </body>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb294",
      "text": " <comments>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb295",
      "text": " <comment>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb296",
      "text": " <username>inajob</username>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb297",
      "text": " <body>研究室で先輩方と挑戦中 楽しいんだケド後々を考えると凄く面倒そうです</body>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb298",
      "text": " <timestamp>1215874617</timestamp>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb299",
      "text": " </comment>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb29a",
      "text": " </comments>",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb29b",
      "text": "",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    },
    {
      "id": "6090ec1eaff09e00003cb29c",
      "text": "[はてなダイアリー 2008-07-12 https://nishiohirokazu.hatenadiary.org/archive/2008/07/12]",
      "created": 1215788400,
      "updated": 1215788400,
      "userId": "582e63d27c56960011aff09e"
    }
  ]
}