{
  "id": "60fef792c4bec7001cb7ac19",
  "title": "2021-07-27Movidea開発日記",
  "created": 1627322260,
  "updated": 1627450502,
  "lines": [
    {
      "id": "60fef792c4bec7001cb7ac19",
      "text": "2021-07-27Movidea開発日記",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627322260,
      "updated": 1627323380
    },
    {
      "id": "60fef793aff09e00003c0c80",
      "text": "[https://gyazo.com/eef32a81fb1ce4968435b142ea186569]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627322260,
      "updated": 1627322261
    },
    {
      "id": "60fef794aff09e00003c0c82",
      "text": "以前難しくてできなかったグループへの出し入れができるようになった！",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627322261,
      "updated": 1627323337
    },
    {
      "id": "60fefbc9aff09e000021e2d6",
      "text": "最後に動かしたものが上に来る重ね順もバッチリ。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627323337,
      "updated": 1627323337
    },
    {
      "id": "60fefbc6aff09e000021e2d5",
      "text": "教訓は「Reactの『破壊的更新をしてはいけない縛り』でツリーの更新をするのは辛すぎるから[immer]を使って縛りから解放されよう」って感じ。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627323334,
      "updated": 1627450502
    },
    {
      "id": "60fef794aff09e00003c0c81",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627322261,
      "updated": 1627322261
    },
    {
      "id": "60fefc0faff09e0000b91abb",
      "text": "この後、グループの背景が半透明でないのを直した。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627323408,
      "updated": 1627323430
    },
    {
      "id": "60fefc25aff09e0000b91abd",
      "text": "あと自分自身にドロップできることがわかったので不整合にならないための処理を追加。",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627323430,
      "updated": 1627323463
    },
    {
      "id": "60fefc11aff09e0000b91abc",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627323410,
      "updated": 1627323410
    },
    {
      "id": "60fefea1aff09e0000b91abe",
      "text": "選択範囲をグループにドロップしたらどうなるか？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324069,
      "updated": 1627324079
    },
    {
      "id": "60fefeaeaff09e0000b91ac0",
      "text": "　各付箋をグループに追加したら良いと考えた",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324079,
      "updated": 1627324089
    },
    {
      "id": "60fefeb9aff09e0000b91ac1",
      "text": "　追加した後の表示がおかしい、なぜか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324089,
      "updated": 1627324101
    },
    {
      "id": "60fefec5aff09e0000b91ac3",
      "text": "　「選択範囲の移動後に選択範囲が解除されない」と「選択されるのはトップレベル要素だけ」が両立しない",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324101,
      "updated": 1627324140
    },
    {
      "id": "60fefeedaff09e0000b91ac4",
      "text": "　　グループの中の付箋と、選択範囲の中の付箋が両方描画される",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324141,
      "updated": 1627324158
    },
    {
      "id": "60fefeffaff09e0000b91ac5",
      "text": "　グループにドロップした時には選択を解除するようにした",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324159,
      "updated": 1627324185
    },
    {
      "id": "60feff18aff09e0000b91ac6",
      "text": "　　一見自然には見えるが、この不整合にユーザが引っかからないか？",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324185,
      "updated": 1627324221
    },
    {
      "id": "60feff3daff09e0000b91ac7",
      "text": "　　この操作はやり直しが難しいのでUndoできる必要がありそう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324221,
      "updated": 1627324241
    },
    {
      "id": "60ff0168aff09e0000b91ac8",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324782,
      "updated": 1627324782
    },
    {
      "id": "60ff0169aff09e0000b91ac9",
      "text": "図に加筆する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324782,
      "updated": 1627324791
    },
    {
      "id": "60ff0177aff09e0000b91acc",
      "text": "　[https://gyazo.com/6a0a42a36fde5cddbfedf72d05c6b487]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324791,
      "updated": 1627324792
    },
    {
      "id": "60ff0170aff09e0000b91acb",
      "text": "　Cをやるだけのつもりだった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324784,
      "updated": 1627324809
    },
    {
      "id": "60ff0189aff09e0000b91acd",
      "text": "　Aのバグ",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324810,
      "updated": 1627324835
    },
    {
      "id": "60ff01a4aff09e0000b91ace",
      "text": "　　DragDropAPIは自分自身へのドロップもできてしまう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324836,
      "updated": 1627324877
    },
    {
      "id": "60ff01cdaff09e0000b91acf",
      "text": "　　グループもドラッグできて、グループがドロップ対象になれるなら、当然「自分自身へのドロップ」が発生しうる、これは困る",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324878,
      "updated": 1627324918
    },
    {
      "id": "60ff01f7aff09e0000b91ad0",
      "text": "　　そこで自分自身へのドロップがあった時はキャンバスへのドロップに処理を移譲する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324919,
      "updated": 1627324954
    },
    {
      "id": "60ff021aaff09e0000b91ad1",
      "text": "　Bの仕様",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324955,
      "updated": 1627324960
    },
    {
      "id": "60ff0221aff09e0000b91ad2",
      "text": "　　選択範囲をグループにドラッグした場合、その他の場合と異なり選択範囲は解除される",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324962,
      "updated": 1627324999
    },
    {
      "id": "60fefea7aff09e0000b91abf",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627324071,
      "updated": 1627324071
    },
    {
      "id": "60ffd7b6aff09e00002bf3c7",
      "text": "グループに入れたり出したりのテスト",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379639,
      "updated": 1627379683
    },
    {
      "id": "60ffd7e2aff09e00002bf3c9",
      "text": "[https://gyazo.com/e0c8f415236881280aba892e04de5033]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379683,
      "updated": 1627379683
    },
    {
      "id": "60ffd7e2aff09e00002bf3ca",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379683,
      "updated": 1627379683
    },
    {
      "id": "60ffd7e2aff09e00002bf3cb",
      "text": "「グループの中にグループが入ってる場合」を試してみて、厄介な問題を見つけてしまった",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379683,
      "updated": 1627380230
    },
    {
      "id": "60ffd82eaff09e00002bf3cd",
      "text": "\tズームアウトしてる時でもドラッグ中の要素が原寸表示されちゃう…",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379759,
      "updated": 1627379841
    },
    {
      "id": "60ffd833aff09e00002bf3ce",
      "text": "\t[https://gyazo.com/7db474bb252d1697f0830a570bc63610]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379763,
      "updated": 1627379837
    },
    {
      "id": "60ffd87caff09e00002bf3d0",
      "text": "\tcloneNodeして`event.dataTransfer.setDragImage`することを試してみたがtransform: scaleの効果がなさそう",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379837,
      "updated": 1627380227
    },
    {
      "id": "60ffd8c8aff09e00002bf3d1",
      "text": "\tこれは仕様に明記されてないブラウザの実装依存の挙動",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379913,
      "updated": 1627380173
    },
    {
      "id": "60ffd9ccaff09e0000cb6718",
      "text": "\t　Firefoxは5ヶ月前に修正されてるけどChromeは修正されてない状況かな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627380173,
      "updated": 1627380189
    },
    {
      "id": "60ffd833aff09e00002bf3cf",
      "text": "\t\t[941356 - drag image not correctly created when parent has css transform https://bugzilla.mozilla.org/show_bug.cgi?id=941356]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379763,
      "updated": 1627379946
    },
    {
      "id": "60ffd7b6aff09e00002bf3c8",
      "text": "\t妻「最適ではないかも知れないがこのプログラムで実現したいことに対して深刻なダメージがあるというほどでもない、なんならズームしないでも長押しで拡大表示確認できて便利という可能性もある」",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627379639,
      "updated": 1627380279
    },
    {
      "id": "60ffda36aff09e00002bf3d3",
      "text": "\t そうか…じゃあとりあえず保留するか",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627380279,
      "updated": 1627380282
    },
    {
      "id": "60ffda3baff09e00002bf3d5",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627380283,
      "updated": 1627380283
    },
    {
      "id": "60ffda5baff09e0000cb671a",
      "text": "それはさておきそもそも割とバグがある",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627380315,
      "updated": 1627382025
    },
    {
      "id": "60ffe108aff09e0000cb671b",
      "text": "　タイトルがある時のバウンディングボックスも少しずれてるな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627382025,
      "updated": 1627382500
    },
    {
      "id": "60ffda3baff09e00002bf3d6",
      "text": "　直した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627380283,
      "updated": 1627382648
    },
    {
      "id": "60ffe378aff09e0000cb671c",
      "text": "　\t[https://gyazo.com/9f2fb2546b2e6feb0d79d935bf6c4461]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627382649,
      "updated": 1627382659
    },
    {
      "id": "60ffe383aff09e00002bf3d7",
      "text": "　　この結果を肉眼で見てズレてるように思ったけどメニューバーやグループのタイトルのせいでそう感じるだけで、付箋は中央にあるのね",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627382659,
      "updated": 1627382712
    },
    {
      "id": "60ffe3b7aff09e0000cb671d",
      "text": "　　　座標値をテストケースに書いて確認した",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627382712,
      "updated": 1627382724
    },
    {
      "id": "60ffe55daff09e00002bf3d8",
      "text": "\t[https://gyazo.com/1aebfcfa006e28f8a2dbd915a86be17e]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383134,
      "updated": 1627383137
    },
    {
      "id": "60ffe561aff09e00002bf3da",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383137,
      "updated": 1627383137
    },
    {
      "id": "60ffe55eaff09e00002bf3d9",
      "text": "FUSEN_BORDERの分だけバウンディングボックスがズレてるな",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383134,
      "updated": 1627390370
    },
    {
      "id": "60ffe6b7aff09e000083c5c3",
      "text": "\t[https://gyazo.com/56c895d33935467414840489cad708d0]",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383479,
      "updated": 1627383482
    },
    {
      "id": "60ffe6baaff09e000083c5c5",
      "text": "\tfixed",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383482,
      "updated": 1627390355
    },
    {
      "id": "60ffe6b7aff09e000083c5c4",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627383479,
      "updated": 1627383479
    },
    {
      "id": "60ff04e3aff09e0000b91ad6",
      "text": "次にやること",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627325668,
      "updated": 1627325671
    },
    {
      "id": "60ff04e7aff09e0000b91ad8",
      "text": "　付箋追加ダイアログでボタンを押したら付箋を追加する",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627325671,
      "updated": 1627325692
    },
    {
      "id": "60ff04e6aff09e0000b91ad7",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627325671,
      "updated": 1627325671
    },
    {
      "id": "60ffb351aff09e000021e2d7",
      "text": "",
      "userId": "582e63d27c56960011aff09e",
      "created": 1627370417,
      "updated": 1627370417
    }
  ]
}